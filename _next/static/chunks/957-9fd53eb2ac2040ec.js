"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[957],{1162:(e,t,r)=>{r.d(t,{UG:()=>i,zz:()=>a});var n=r(94817);n.C;class a extends n.C{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class i extends n.C{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}},4972:(e,t,r)=>{r.d(t,{Q:()=>a});var n=r(81645);async function a(e,{address:t,blockNumber:r,blockTag:a="latest"}){let i=void 0!==r?(0,n.cK)(r):void 0,s=await e.request({method:"eth_getCode",params:[t,i||a]},{dedupe:!!i});if("0x"!==s)return s}},7559:(e,t,r)=>{r.d(t,{T:()=>P});var n=r(91497),a=r(7877),i=r(46685);function s(e){let t=(0,a.e)(e),r=[],s=e.length;for(let a=0;a<s;a++){let s=e[a];(0,n.WL)(s)||r.push((0,i.uT)(s,t))}return r}var o=r(91633),l=r(57616),u=r(93778),c=r(15488),f=r(76200),d=r(33450),p=r(57353),y=r(94833),b=r(13003),h=r(14237),m=r(49048),g=r(81645),w=r(81873),v=r(35884),E=r(94770),x=r(44050),$=r(45710),A=r(39575);async function P(e,t){let{account:n=e.account,authorizationList:a,batch:i=!!e.batch?.multicall,blockNumber:u,blockTag:y=e.experimental_blockTag??"latest",accessList:h,blobs:m,blockOverrides:x,code:P,data:S,factory:I,factoryData:T,gas:B,gasPrice:N,maxFeePerBlobGas:R,maxFeePerGas:M,maxPriorityFeePerGas:O,nonce:L,to:j,value:z,stateOverride:U,...D}=t,F=n?(0,l.J)(n):void 0;if(P&&(I||T))throw new f.C("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(P&&j)throw new f.C("Cannot provide both `code` & `to` as parameters.");let _=P&&S,V=I&&T&&j&&S,q=_||V,G=_?k({code:P,data:S}):V?function(e){let{data:t,factory:r,factoryData:n,to:a}=e;return(0,b.m)({abi:s(["constructor(address, bytes, address, bytes)"]),bytecode:c.WN,args:[a,t,r,n]})}({data:S,factory:I,factoryData:T,to:j}):S;try{(0,A.c)(t);let r=("bigint"==typeof u?(0,g.cK)(u):void 0)||y,n=x?o.J(x):void 0,s=(0,$.yH)(U),l=e.chain?.formatters?.transactionRequest?.format,c=(l||E.Bv)({...(0,v.o)(D,{format:l}),accessList:h,account:F,authorizationList:a,blobs:m,data:G,gas:B,gasPrice:N,maxFeePerBlobGas:R,maxFeePerGas:M,maxPriorityFeePerGas:O,nonce:L,to:q?void 0:j,value:z},"call");if(i&&function({request:e}){let{data:t,to:r,...n}=e;return!(!t||t.startsWith("0x82ad56cb"))&&!!r&&!(Object.values(n).filter(e=>void 0!==e).length>0)}({request:c})&&!s&&!n)try{return await C(e,{...c,blockNumber:u,blockTag:y})}catch(e){if(!(e instanceof d.YE)&&!(e instanceof d.rj))throw e}let f=(()=>{let e=[c,r];return s&&n?[...e,s,n]:s?[...e,s]:n?[...e,{},n]:e})(),p=await e.request({method:"eth_call",params:f});if("0x"===p)return{data:void 0};return{data:p}}catch(s){let n=function(e){if(!(e instanceof f.C))return;let t=e.walk();return"object"==typeof t?.data?t.data?.data:t.data}(s),{offchainLookup:a,offchainLookupSignature:i}=await r.e(599).then(r.bind(r,61599));if(!1!==e.ccipRead&&n?.slice(0,10)===i&&j)return{data:await a(e,{data:n,to:j})};if(q&&n?.slice(0,10)==="0x101bb98d")throw new p.Po({factory:I});throw(0,w.d)(s,{...t,account:F,chain:e.chain})}}async function C(e,t){let{batchSize:r=1024,deployless:n=!1,wait:a=0}="object"==typeof e.batch?.multicall?e.batch.multicall:{},{blockNumber:i,blockTag:s=e.experimental_blockTag??"latest",data:o,to:l}=t,f=(()=>{if(n)return null;if(t.multicallAddress)return t.multicallAddress;if(e.chain)return(0,m.M)({blockNumber:i,chain:e.chain,contract:"multicall3"});throw new d.YE})(),b=("bigint"==typeof i?(0,g.cK)(i):void 0)||s,{schedule:w}=(0,x.u)({id:`${e.uid}.${b}`,wait:a,shouldSplitBatch:e=>e.reduce((e,{data:t})=>e+(t.length-2),0)>2*r,fn:async t=>{let r=t.map(e=>({allowFailure:!0,callData:e.data,target:e.to})),n=(0,h.p)({abi:u.v2,args:[r],functionName:"aggregate3"}),a=await e.request({method:"eth_call",params:[{...null===f?{data:k({code:c.Ez,data:n})}:{to:f,data:n}},b]});return(0,y.e)({abi:u.v2,args:[r],functionName:"aggregate3",data:a||"0x"})}}),[{returnData:v,success:E}]=await w({data:o,to:l});if(!E)throw new p.$S({data:v});return"0x"===v?{data:void 0}:{data:v}}function k(e){let{code:t,data:r}=e;return(0,b.m)({abi:s(["constructor(bytes, bytes)"]),bytecode:c.LX,args:[t,r]})}},7877:(e,t,r)=>{r.d(t,{e:()=>f});var n=r(65809),a=r(1162),i=r(71400),s=r(27761),o=r(94817);class l extends o.C{constructor({type:e}){super("Circular reference detected.",{metaMessages:[`Struct "${e}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}var u=r(91497),c=r(46685);function f(e){let t={},r=e.length;for(let n=0;n<r;n++){let r=e[n];if(!(0,u.WL)(r))continue;let a=(0,u.FO)(r);if(!a)throw new s.s7({signature:r,type:"struct"});let i=a.properties.split(";"),o=[],l=i.length;for(let e=0;e<l;e++){let t=i[e].trim();if(!t)continue;let r=(0,c.Pj)(t,{type:"struct"});o.push(r)}if(!o.length)throw new s.X9({signature:r});t[a.name]=o}let o={},f=Object.entries(t),p=f.length;for(let e=0;e<p;e++){let[r,s]=f[e];o[r]=function e(t,r,s=new Set){let o=[],u=t.length;for(let f=0;f<u;f++){let u=t[f];if(n.wj.test(u.type))o.push(u);else{let t=(0,n.Yv)(d,u.type);if(!t?.type)throw new i.nx({abiParameter:u});let{array:f,type:p}=t;if(p in r){if(s.has(p))throw new l({type:p});o.push({...u,type:`tuple${f??""}`,components:e(r[p]??[],r,new Set([...s,p]))})}else if((0,c._o)(p))o.push(u);else throw new a.zz({type:p})}}return o}(s,t)}return o}let d=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/},8481:(e,t,r)=>{r.d(t,{T:()=>n});function n(e,t,r){let n=e[t.name];if("function"==typeof n)return n;let a=e[r];return"function"==typeof a?a:r=>t(e,r)}},9431:(e,t,r)=>{r.d(t,{C:()=>n});class n extends Error{constructor(e,t={}){let r=(()=>{if(t.cause instanceof n){if(t.cause.details)return t.cause.details;if(t.cause.shortMessage)return t.cause.shortMessage}return t.cause&&"details"in t.cause&&"string"==typeof t.cause.details?t.cause.details:t.cause?.message?t.cause.message:t.details})(),a=t.cause instanceof n&&t.cause.docsPath||t.docsPath,i=`https://oxlib.sh${a??""}`;super([e||"An error occurred.",...t.metaMessages?["",...t.metaMessages]:[],...r||a?["",r?`Details: ${r}`:void 0,a?`See: ${i}`:void 0]:[]].filter(e=>"string"==typeof e).join("\n"),t.cause?{cause:t.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:"ox@0.1.1"}),this.cause=t.cause,this.details=r,this.docs=i,this.docsPath=a,this.shortMessage=e}walk(e){return function e(t,r){return r?.(t)?t:t&&"object"==typeof t&&"cause"in t&&t.cause?e(t.cause,r):r?null:t}(this,e)}}},10708:(e,t,r)=>{r.d(t,{J9:()=>i,Mc:()=>a,fD:()=>n});let n={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},a={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},i={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"}},13003:(e,t,r)=>{r.d(t,{m:()=>o});var n=r(79313),a=r(58798),i=r(23414);let s="/docs/contract/encodeDeployData";function o(e){let{abi:t,args:r,bytecode:o}=e;if(!r||0===r.length)return o;let l=t.find(e=>"type"in e&&"constructor"===e.type);if(!l)throw new n.YW({docsPath:s});if(!("inputs"in l)||!l.inputs||0===l.inputs.length)throw new n.YF({docsPath:s});let u=(0,i.h)(l.inputs,r);return(0,a.aP)([o,u])}},15488:(e,t,r)=>{r.d(t,{Ez:()=>s,LX:()=>n,WN:()=>a,fT:()=>i});let n="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",a="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",i="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",s="0x608060405234801561001057600080fd5b506115b9806100206000396000f3fe6080604052600436106100f35760003560e01c80634d2301cc1161008a578063a8b0574e11610059578063a8b0574e14610325578063bce38bd714610350578063c3077fa914610380578063ee82ac5e146103b2576100f3565b80634d2301cc1461026257806372425d9d1461029f57806382ad56cb146102ca57806386d516e8146102fa576100f3565b80633408e470116100c65780633408e470146101af578063399542e9146101da5780633e64a6961461020c57806342cbb15c14610237576100f3565b80630f28c97d146100f8578063174dea7114610123578063252dba421461015357806327e86d6e14610184575b600080fd5b34801561010457600080fd5b5061010d6103ef565b60405161011a9190610c0a565b60405180910390f35b61013d60048036038101906101389190610c94565b6103f7565b60405161014a9190610e94565b60405180910390f35b61016d60048036038101906101689190610f0c565b610615565b60405161017b92919061101b565b60405180910390f35b34801561019057600080fd5b506101996107ab565b6040516101a69190611064565b60405180910390f35b3480156101bb57600080fd5b506101c46107b7565b6040516101d19190610c0a565b60405180910390f35b6101f460048036038101906101ef91906110ab565b6107bf565b6040516102039392919061110b565b60405180910390f35b34801561021857600080fd5b506102216107e1565b60405161022e9190610c0a565b60405180910390f35b34801561024357600080fd5b5061024c6107e9565b6040516102599190610c0a565b60405180910390f35b34801561026e57600080fd5b50610289600480360381019061028491906111a7565b6107f1565b6040516102969190610c0a565b60405180910390f35b3480156102ab57600080fd5b506102b4610812565b6040516102c19190610c0a565b60405180910390f35b6102e460048036038101906102df919061122a565b61081a565b6040516102f19190610e94565b60405180910390f35b34801561030657600080fd5b5061030f6109e4565b60405161031c9190610c0a565b60405180910390f35b34801561033157600080fd5b5061033a6109ec565b6040516103479190611286565b60405180910390f35b61036a600480360381019061036591906110ab565b6109f4565b6040516103779190610e94565b60405180910390f35b61039a60048036038101906103959190610f0c565b610ba6565b6040516103a99392919061110b565b60405180910390f35b3480156103be57600080fd5b506103d960048036038101906103d491906112cd565b610bca565b6040516103e69190611064565b60405180910390f35b600042905090565b60606000808484905090508067ffffffffffffffff81111561041c5761041b6112fa565b5b60405190808252806020026020018201604052801561045557816020015b610442610bd5565b81526020019060019003908161043a5790505b5092503660005b828110156105c957600085828151811061047957610478611329565b5b6020026020010151905087878381811061049657610495611329565b5b90506020028101906104a89190611367565b925060008360400135905080860195508360000160208101906104cb91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16818580606001906104f2919061138f565b604051610500929190611431565b60006040518083038185875af1925050503d806000811461053d576040519150601f19603f3d011682016040523d82523d6000602084013e610542565b606091505b5083600001846020018290528215151515815250505081516020850135176105bc577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260846000fd5b826001019250505061045c565b5082341461060c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610603906114a7565b60405180910390fd5b50505092915050565b6000606043915060008484905090508067ffffffffffffffff81111561063e5761063d6112fa565b5b60405190808252806020026020018201604052801561067157816020015b606081526020019060019003908161065c5790505b5091503660005b828110156107a157600087878381811061069557610694611329565b5b90506020028101906106a791906114c7565b92508260000160208101906106bc91906111a7565b73ffffffffffffffffffffffffffffffffffffffff168380602001906106e2919061138f565b6040516106f0929190611431565b6000604051808303816000865af19150503d806000811461072d576040519150601f19603f3d011682016040523d82523d6000602084013e610732565b606091505b5086848151811061074657610745611329565b5b60200260200101819052819250505080610795576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161078c9061153b565b60405180910390fd5b81600101915050610678565b5050509250929050565b60006001430340905090565b600046905090565b6000806060439250434091506107d68686866109f4565b905093509350939050565b600048905090565b600043905090565b60008173ffffffffffffffffffffffffffffffffffffffff16319050919050565b600044905090565b606060008383905090508067ffffffffffffffff81111561083e5761083d6112fa565b5b60405190808252806020026020018201604052801561087757816020015b610864610bd5565b81526020019060019003908161085c5790505b5091503660005b828110156109db57600084828151811061089b5761089a611329565b5b602002602001015190508686838181106108b8576108b7611329565b5b90506020028101906108ca919061155b565b92508260000160208101906108df91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060400190610905919061138f565b604051610913929190611431565b6000604051808303816000865af19150503d8060008114610950576040519150601f19603f3d011682016040523d82523d6000602084013e610955565b606091505b5082600001836020018290528215151515815250505080516020840135176109cf577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260646000fd5b8160010191505061087e565b50505092915050565b600045905090565b600041905090565b606060008383905090508067ffffffffffffffff811115610a1857610a176112fa565b5b604051908082528060200260200182016040528015610a5157816020015b610a3e610bd5565b815260200190600190039081610a365790505b5091503660005b82811015610b9c576000848281518110610a7557610a74611329565b5b60200260200101519050868683818110610a9257610a91611329565b5b9050602002810190610aa491906114c7565b9250826000016020810190610ab991906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060200190610adf919061138f565b604051610aed929190611431565b6000604051808303816000865af19150503d8060008114610b2a576040519150601f19603f3d011682016040523d82523d6000602084013e610b2f565b606091505b508260000183602001829052821515151581525050508715610b90578060000151610b8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b869061153b565b60405180910390fd5b5b81600101915050610a58565b5050509392505050565b6000806060610bb7600186866107bf565b8093508194508295505050509250925092565b600081409050919050565b6040518060400160405280600015158152602001606081525090565b6000819050919050565b610c0481610bf1565b82525050565b6000602082019050610c1f6000830184610bfb565b92915050565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610c5457610c53610c2f565b5b8235905067ffffffffffffffff811115610c7157610c70610c34565b5b602083019150836020820283011115610c8d57610c8c610c39565b5b9250929050565b60008060208385031215610cab57610caa610c25565b5b600083013567ffffffffffffffff811115610cc957610cc8610c2a565b5b610cd585828601610c3e565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b60008115159050919050565b610d2281610d0d565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610d62578082015181840152602081019050610d47565b83811115610d71576000848401525b50505050565b6000601f19601f8301169050919050565b6000610d9382610d28565b610d9d8185610d33565b9350610dad818560208601610d44565b610db681610d77565b840191505092915050565b6000604083016000830151610dd96000860182610d19565b5060208301518482036020860152610df18282610d88565b9150508091505092915050565b6000610e0a8383610dc1565b905092915050565b6000602082019050919050565b6000610e2a82610ce1565b610e348185610cec565b935083602082028501610e4685610cfd565b8060005b85811015610e825784840389528151610e638582610dfe565b9450610e6e83610e12565b925060208a01995050600181019050610e4a565b50829750879550505050505092915050565b60006020820190508181036000830152610eae8184610e1f565b905092915050565b60008083601f840112610ecc57610ecb610c2f565b5b8235905067ffffffffffffffff811115610ee957610ee8610c34565b5b602083019150836020820283011115610f0557610f04610c39565b5b9250929050565b60008060208385031215610f2357610f22610c25565b5b600083013567ffffffffffffffff811115610f4157610f40610c2a565b5b610f4d85828601610eb6565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000610f918383610d88565b905092915050565b6000602082019050919050565b6000610fb182610f59565b610fbb8185610f64565b935083602082028501610fcd85610f75565b8060005b858110156110095784840389528151610fea8582610f85565b9450610ff583610f99565b925060208a01995050600181019050610fd1565b50829750879550505050505092915050565b60006040820190506110306000830185610bfb565b81810360208301526110428184610fa6565b90509392505050565b6000819050919050565b61105e8161104b565b82525050565b60006020820190506110796000830184611055565b92915050565b61108881610d0d565b811461109357600080fd5b50565b6000813590506110a58161107f565b92915050565b6000806000604084860312156110c4576110c3610c25565b5b60006110d286828701611096565b935050602084013567ffffffffffffffff8111156110f3576110f2610c2a565b5b6110ff86828701610eb6565b92509250509250925092565b60006060820190506111206000830186610bfb565b61112d6020830185611055565b818103604083015261113f8184610e1f565b9050949350505050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061117482611149565b9050919050565b61118481611169565b811461118f57600080fd5b50565b6000813590506111a18161117b565b92915050565b6000602082840312156111bd576111bc610c25565b5b60006111cb84828501611192565b91505092915050565b60008083601f8401126111ea576111e9610c2f565b5b8235905067ffffffffffffffff81111561120757611206610c34565b5b60208301915083602082028301111561122357611222610c39565b5b9250929050565b6000806020838503121561124157611240610c25565b5b600083013567ffffffffffffffff81111561125f5761125e610c2a565b5b61126b858286016111d4565b92509250509250929050565b61128081611169565b82525050565b600060208201905061129b6000830184611277565b92915050565b6112aa81610bf1565b81146112b557600080fd5b50565b6000813590506112c7816112a1565b92915050565b6000602082840312156112e3576112e2610c25565b5b60006112f1848285016112b8565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600080fd5b600080fd5b600080fd5b60008235600160800383360303811261138357611382611358565b5b80830191505092915050565b600080833560016020038436030381126113ac576113ab611358565b5b80840192508235915067ffffffffffffffff8211156113ce576113cd61135d565b5b6020830192506001820236038313156113ea576113e9611362565b5b509250929050565b600081905092915050565b82818337600083830152505050565b600061141883856113f2565b93506114258385846113fd565b82840190509392505050565b600061143e82848661140c565b91508190509392505050565b600082825260208201905092915050565b7f4d756c746963616c6c333a2076616c7565206d69736d61746368000000000000600082015250565b6000611491601a8361144a565b915061149c8261145b565b602082019050919050565b600060208201905081810360008301526114c081611484565b9050919050565b6000823560016040038336030381126114e3576114e2611358565b5b80830191505092915050565b7f4d756c746963616c6c333a2063616c6c206661696c6564000000000000000000600082015250565b600061152560178361144a565b9150611530826114ef565b602082019050919050565b6000602082019050818103600083015261155481611518565b9050919050565b60008235600160600383360303811261157757611576611358565b5b8083019150509291505056fea264697066735822122020c1bc9aacf8e4a6507193432a895a8e77094f45a1395583f07b24e860ef06cd64736f6c634300080c0033"},17830:(e,t,r)=>{r.d(t,{Hi:()=>a,ft:()=>i,uj:()=>o});var n=r(76200);class a extends n.C{constructor({address:e}){super(`State for account "${e}" is set multiple times.`,{name:"AccountStateConflictError"})}}class i extends n.C{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function s(e){return e.reduce((e,{slot:t,value:r})=>`${e}        ${t}: ${r}
`,"")}function o(e){return e.reduce((e,{address:t,...r})=>{let n=`${e}    ${t}:
`;return r.nonce&&(n+=`      nonce: ${r.nonce}
`),r.balance&&(n+=`      balance: ${r.balance}
`),r.code&&(n+=`      code: ${r.code}
`),r.state&&(n+="      state:\n",n+=s(r.state)),r.stateDiff&&(n+="      stateDiff:\n",n+=s(r.stateDiff)),n},"  State Override:\n").slice(0,-1)}},18937:(e,t,r)=>{r.d(t,{X:()=>m,J:()=>h});var n=r(93778),a=r(10708),i=r(79313),s=r(66320),o=r(35794),l=r(42802),u=r(52346),c=r(58798),f=r(23414),d=r(96019);let p="/docs/contract/encodeErrorResult";function y(e){let{abi:t,errorName:r,args:n}=e,a=t[0];if(r){let e=(0,d.iY)({abi:t,args:n,name:r});if(!e)throw new i.yy(r,{docsPath:p});a=e}if("error"!==a.type)throw new i.yy(void 0,{docsPath:p});let s=(0,u.B)(a),l=(0,o.V)(s),y="0x";if(n&&n.length>0){if(!a.inputs)throw new i.ZP(a.name,{docsPath:p});y=(0,f.h)(a.inputs,n)}return(0,c.aP)([l,y])}let b="/docs/contract/encodeFunctionResult",h="x-batch-gateway:true";async function m(e){let{data:t,ccipRequest:r}=e,{args:[c]}=function(e){let{abi:t,data:r}=e,n=(0,s.di)(r,0,4),a=t.find(e=>"function"===e.type&&n===(0,o.V)((0,u.B)(e)));if(!a)throw new i.EB(n,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:a.name,args:"inputs"in a&&a.inputs&&a.inputs.length>0?(0,l.n)(a.inputs,(0,s.di)(r,4)):void 0}}({abi:n.b2,data:t}),p=[],g=[];return await Promise.all(c.map(async(e,t)=>{try{g[t]=e.urls.includes(h)?await m({data:e.data,ccipRequest:r}):await r(e),p[t]=!1}catch(e){var i;p[t]=!0,g[t]="HttpRequestError"===(i=e).name&&i.status?y({abi:n.b2,errorName:"HttpError",args:[i.status,i.shortMessage]}):y({abi:[a.Mc],errorName:"Error",args:["shortMessage"in i?i.shortMessage:i.message]})}})),function(e){let{abi:t,functionName:r,result:n}=e,a=t[0];if(r){let e=(0,d.iY)({abi:t,name:r});if(!e)throw new i.Iz(r,{docsPath:b});a=e}if("function"!==a.type)throw new i.Iz(void 0,{docsPath:b});if(!a.outputs)throw new i.MR(a.name,{docsPath:b});let s=(()=>{if(0===a.outputs.length)return[];if(1===a.outputs.length)return[n];if(Array.isArray(n))return n;throw new i.dm(n)})();return(0,f.h)(a.outputs,s)}({abi:n.b2,functionName:"query",result:[p,g]})}},19031:(e,t,r)=>{r.d(t,{W:()=>u});var n=r(10708),a=r(79313),i=r(66320),s=r(35794),o=r(42802),l=r(52346);function u(e){let{abi:t,data:r}=e,u=(0,i.di)(r,0,4);if("0x"===u)throw new a.O;let c=[...t||[],n.Mc,n.J9].find(e=>"error"===e.type&&u===(0,s.V)((0,l.B)(e)));if(!c)throw new a.Wq(u,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:c,args:"inputs"in c&&c.inputs&&c.inputs.length>0?(0,o.n)(c.inputs,(0,i.di)(r,4)):void 0,errorName:c.name}}},19953:(e,t,r)=>{r.d(t,{l:()=>i});var n=r(76200),a=r(98877);function i(e,t){let r=(e.details||"").toLowerCase(),i=e instanceof n.C?e.walk(e=>e?.code===a.A7.code):e;return i instanceof n.C?new a.A7({cause:e,message:i.details}):a.A7.nodeMessage.test(r)?new a.A7({cause:e,message:e.details}):a.BG.nodeMessage.test(r)?new a.BG({cause:e,maxFeePerGas:t?.maxFeePerGas}):a.jj.nodeMessage.test(r)?new a.jj({cause:e,maxFeePerGas:t?.maxFeePerGas}):a.K0.nodeMessage.test(r)?new a.K0({cause:e,nonce:t?.nonce}):a.Oh.nodeMessage.test(r)?new a.Oh({cause:e,nonce:t?.nonce}):a.vW.nodeMessage.test(r)?new a.vW({cause:e,nonce:t?.nonce}):a.k5.nodeMessage.test(r)?new a.k5({cause:e}):a.lY.nodeMessage.test(r)?new a.lY({cause:e,gas:t?.gas}):a.Fo.nodeMessage.test(r)?new a.Fo({cause:e,gas:t?.gas}):a.uC.nodeMessage.test(r)?new a.uC({cause:e}):a.lN.nodeMessage.test(r)?new a.lN({cause:e,maxFeePerGas:t?.maxFeePerGas,maxPriorityFeePerGas:t?.maxPriorityFeePerGas}):new a.RM({cause:e})}},23511:(e,t,r)=>{r.d(t,{A:()=>n});function n(e,t,r){return JSON.stringify(e,(e,r)=>"function"==typeof t?t(e,r):"bigint"==typeof r?r.toString()+"#__bigint":r,r)}},27761:(e,t,r)=>{r.d(t,{X9:()=>s,s7:()=>a,x8:()=>i});var n=r(94817);class a extends n.C{constructor({signature:e,type:t}){super(`Invalid ${t} signature.`,{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class i extends n.C{constructor({signature:e}){super("Unknown signature.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class s extends n.C{constructor({signature:e}){super("Invalid struct signature.",{details:e,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}},35884:(e,t,r)=>{r.d(t,{o:()=>n});function n(e,{format:t}){if(!t)return{};let r={};return!function t(n){for(let a of Object.keys(n))a in e&&(r[a]=e[a]),n[a]&&"object"==typeof n[a]&&!Array.isArray(n[a])&&t(n[a])}(t(e||{})),r}},39575:(e,t,r)=>{r.d(t,{c:()=>u});var n=r(57616),a=r(50136),i=r(45755),s=r(98877),o=r(1855),l=r(57512);function u(e){let{account:t,gasPrice:r,maxFeePerGas:u,maxPriorityFeePerGas:c,to:f}=e,d=t?(0,n.J)(t):void 0;if(d&&!(0,l.P)(d.address))throw new i.M({address:d.address});if(f&&!(0,l.P)(f))throw new i.M({address:f});if(void 0!==r&&(void 0!==u||void 0!==c))throw new o.n3;if(u&&u>a.Ao)throw new s.BG({maxFeePerGas:u});if(c&&u&&c>u)throw new s.lN({maxFeePerGas:u,maxPriorityFeePerGas:c})}},45160:(e,t,r)=>{r.d(t,{l:()=>i});var n=r(83469),a=r(66970);function i(e){let{key:t="public",name:r="Public Client"}=e;return(0,n.U)({...e,key:t,name:r,type:"publicClient"}).extend(a.$)}},45710:(e,t,r)=>{r.d(t,{yH:()=>u});var n=r(45755),a=r(16053),i=r(17830),s=r(57512),o=r(81645);function l(e){if(e&&0!==e.length)return e.reduce((e,{slot:t,value:r})=>{if(66!==t.length)throw new a.NV({size:t.length,targetSize:66,type:"hex"});if(66!==r.length)throw new a.NV({size:r.length,targetSize:66,type:"hex"});return e[t]=r,e},{})}function u(e){if(!e)return;let t={};for(let{address:r,...a}of e){if(!(0,s.P)(r,{strict:!1}))throw new n.M({address:r});if(t[r])throw new i.Hi({address:r});t[r]=function(e){let{balance:t,nonce:r,state:n,stateDiff:a,code:s}=e,u={};if(void 0!==s&&(u.code=s),void 0!==t&&(u.balance=(0,o.cK)(t)),void 0!==r&&(u.nonce=(0,o.cK)(r)),void 0!==n&&(u.state=l(n)),void 0!==a){if(u.state)throw new i.ft;u.stateDiff=l(a)}return u}(a)}return t}},45957:(e,t,r)=>{r.d(t,{ZO:()=>e1,eJ:()=>V,Ay:()=>e6,Rn:()=>eA,RI:()=>ef,s_:()=>eV,_w:()=>eF,ws:()=>el});var n=[{name:"LSP1UniversalReceiverDelegate",key:"0x0cfc51aec37c55a4d0b1a65c6255c4bf2fbdf6277f3cc0730c45b828b6db8b47",keyType:"Singleton",valueType:"address",valueContent:"Address"},{name:"LSP1UniversalReceiverDelegate:<bytes32>",key:"0x0cfc51aec37c55a4d0b10000<bytes32>",keyType:"Mapping",valueType:"address",valueContent:"Address"}].concat([{name:"SupportedStandards:LSP3Profile",key:"0xeafec4d89fa9619884b600005ef83ad9559033e6e941db7d7c495acdce616347",keyType:"Mapping",valueType:"bytes4",valueContent:"0x5ef83ad9"},{name:"LSP3Profile",key:"0x5ef83ad9559033e6e941db7d7c495acdce616347d28e90c7ce47cbfcfcad3bc5",keyType:"Singleton",valueType:"bytes",valueContent:"VerifiableURI"},{name:"LSP12IssuedAssets[]",key:"0x7c8c3416d6cda87cd42c71ea1843df28ac4850354f988d55ee2eaa47b6dc05cd",keyType:"Array",valueType:"address",valueContent:"Address"},{name:"LSP12IssuedAssetsMap:<address>",key:"0x74ac2555c10b9349e78f0000<address>",keyType:"Mapping",valueType:"(bytes4,uint128)",valueContent:"(Bytes4,Number)"},{name:"LSP5ReceivedAssets[]",key:"0x6460ee3c0aac563ccbf76d6e1d07bada78e3a9514e6382b736ed3f478ab7b90b",keyType:"Array",valueType:"address",valueContent:"Address"},{name:"LSP5ReceivedAssetsMap:<address>",key:"0x812c4334633eb816c80d0000<address>",keyType:"Mapping",valueType:"(bytes4,uint128)",valueContent:"(Bytes4,Number)"},{name:"LSP1UniversalReceiverDelegate",key:"0x0cfc51aec37c55a4d0b1a65c6255c4bf2fbdf6277f3cc0730c45b828b6db8b47",keyType:"Singleton",valueType:"address",valueContent:"Address"},{name:"LSP1UniversalReceiverDelegate:<bytes32>",key:"0x0cfc51aec37c55a4d0b10000<bytes32>",keyType:"Mapping",valueType:"address",valueContent:"Address"},{name:"LSP17Extension:<bytes4>",key:"0xcee78b4094da860110960000<bytes4>",keyType:"Mapping",valueType:"address",valueContent:"Address"}],[{name:"SupportedStandards:LSP4DigitalAsset",key:"0xeafec4d89fa9619884b60000a4d96624a38f7ac2d8d9a604ecf07c12c77e480c",keyType:"Mapping",valueType:"bytes4",valueContent:"0xa4d96624"},{name:"LSP4TokenName",key:"0xdeba1e292f8ba88238e10ab3c7f88bd4be4fac56cad5194b6ecceaf653468af1",keyType:"Singleton",valueType:"string",valueContent:"String"},{name:"LSP4TokenSymbol",key:"0x2f0a68ab07768e01943a599e73362a0e17a63a72e94dd2e384d2c1d4db932756",keyType:"Singleton",valueType:"string",valueContent:"String"},{name:"LSP4TokenType",key:"0xe0261fa95db2eb3b5439bd033cda66d56b96f92f243a8228fd87550ed7bdfdb3",keyType:"Singleton",valueType:"uint256",valueContent:"Number"},{name:"LSP4Metadata",key:"0x9afb95cacc9f95858ec44aa8c3b685511002e30ae54415823f406128b85b238e",keyType:"Singleton",valueType:"bytes",valueContent:"VerifiableURI"},{name:"LSP4Creators[]",key:"0x114bd03b3a46d48759680d81ebb2b414fda7d030a7105a851867accf1c2352e7",keyType:"Array",valueType:"address",valueContent:"Address"},{name:"LSP4CreatorsMap:<address>",key:"0x6de85eaf5d982b4e5da00000<address>",keyType:"Mapping",valueType:"(bytes4,uint128)",valueContent:"(Bytes4,Number)"}],[{name:"SupportedStandards:LSP4DigitalCertificate",key:"0xeafec4d89fa9619884b6b89135626455000000000000000000000000abf0613c",keyType:"Mapping",valueContent:"0xabf0613c",valueType:"bytes"}],[{name:"LSP5ReceivedAssets[]",key:"0x6460ee3c0aac563ccbf76d6e1d07bada78e3a9514e6382b736ed3f478ab7b90b",keyType:"Array",valueType:"address",valueContent:"Address"},{name:"LSP5ReceivedAssetsMap:<address>",key:"0x812c4334633eb816c80d0000<address>",keyType:"Mapping",valueType:"(bytes4,uint128)",valueContent:"(Bytes4,Number)"}],[{name:"AddressPermissions[]",key:"0xdf30dba06db6a30e65354d9a64c609861f089545ca58c6b4dbe31a5f338cb0e3",keyType:"Array",valueType:"address",valueContent:"Address"},{name:"AddressPermissions:Permissions:<address>",key:"0x4b80742de2bf82acb3630000<address>",keyType:"MappingWithGrouping",valueType:"bytes32",valueContent:"BitArray"},{name:"AddressPermissions:AllowedCalls:<address>",key:"0x4b80742de2bf393a64c70000<address>",keyType:"MappingWithGrouping",valueType:"(bytes4,address,bytes4,bytes4)[CompactBytesArray]",valueContent:"(BitArray,Address,Bytes4,Bytes4)"},{name:"AddressPermissions:AllowedERC725YDataKeys:<address>",key:"0x4b80742de2bf866c29110000<address>",keyType:"MappingWithGrouping",valueType:"bytes[CompactBytesArray]",valueContent:"Bytes"}],[{name:"LSP8TokenIdFormat",key:"0xf675e9361af1c1664c1868cfa3eb97672d6b1a513aa5b81dec34c9ee330e818d",keyType:"Singleton",valueType:"uint256",valueContent:"Number"},{name:"LSP8TokenMetadataBaseURI",key:"0x1a7628600c3bac7101f53697f48df381ddc36b9015e7d7c9c5633d1252aa2843",keyType:"Singleton",valueType:"bytes",valueContent:"VerifiableURI"},{name:"LSP8ReferenceContract",key:"0x708e7b881795f2e6b6c2752108c177ec89248458de3bf69d0d43480b3e5034e6",keyType:"Singleton",valueType:"(address,bytes32)",valueContent:"(Address,Bytes32)"}],[{name:"SupportedStandards:LSP9Vault",key:"0xeafec4d89fa9619884b600007c0334a14085fefa8b51ae5a40895018882bdb90",keyType:"Mapping",valueType:"bytes4",valueContent:"0x7c0334a1"},{name:"LSP1UniversalReceiverDelegate",key:"0x0cfc51aec37c55a4d0b1a65c6255c4bf2fbdf6277f3cc0730c45b828b6db8b47",keyType:"Singleton",valueType:"address",valueContent:"Address"},{name:"LSP1UniversalReceiverDelegate:<bytes32>",key:"0x0cfc51aec37c55a4d0b10000<bytes32>",keyType:"Mapping",valueType:"address",valueContent:"Address"},{name:"LSP17Extension:<bytes4>",key:"0xcee78b4094da860110960000<bytes4>",keyType:"Mapping",valueType:"address",valueContent:"Address"}],[{name:"LSP10VaultsMap:<address>",key:"0x192448c3c0f88c7f238c0000<address>",keyType:"Mapping",valueType:"(bytes4,uint128)",valueContent:"(Bytes4,Number)"},{name:"LSP10Vaults[]",key:"0x55482936e01da86729a45d2b87a6b1d3bc582bea0ec00e38bdb340e3af6f9f06",keyType:"Array",valueType:"address",valueContent:"Address"}],[{name:"LSP12IssuedAssets[]",key:"0x7c8c3416d6cda87cd42c71ea1843df28ac4850354f988d55ee2eaa47b6dc05cd",keyType:"Array",valueType:"address",valueContent:"Address"},{name:"LSP12IssuedAssetsMap:<address>",key:"0x74ac2555c10b9349e78f0000<address>",keyType:"Mapping",valueType:"(bytes4,uint128)",valueContent:"(Bytes4,Number)"}],[{name:"LSP17Extension:<bytes4>",key:"0xcee78b4094da860110960000<bytes4>",keyType:"Mapping",valueType:"address",valueContent:"Address"}]),a=r(81645),i=r(74517),s=r(26715),o=r(65859),l=r(42802),u=r(23414),c=r(58798),f=r(80403),d=r(38047),p=r(16006),y=r(66320),b=r(79313),h=r(45755),m=r(57512),g=r(3796),w=r(32544),v=r(45160),E=r(13747),x=r(53349),$={legacy:"0x2bd57b73","2.0":"0x5a988c0f","3.0":"0x714df77c","5.0":"0x629aa694"},A={getDataLegacy:{sig:"0x54f6127f",value:(0,a.cK)(0),returnEncoding:"bytes"},getData:{sig:"0x4e3e6e9c",value:(0,a.cK)(0),returnEncoding:"bytes[]"},getDataBatch:{sig:"0xdedff9c6",value:(0,a.cK)(0),returnEncoding:"bytes[]"},owner:{sig:"0x8da5cb5b",value:(0,a.cK)(0),returnEncoding:"address"},supportsInterface:{sig:"0x01ffc9a7",value:(0,a.cK)(0),returnEncoding:"bool"},isValidSignature:{sig:"0x1626ba7e",value:(0,a.cK)(0),returnEncoding:"bytes4"}},P="0x00000000",C=(e=>(e.KECCAK256_UTF8="keccak256(utf8)",e.KECCAK256_BYTES="keccak256(bytes)",e))(C||{}),k=Object.values(C);function S(e){if(null===e)return(0,i.S)(new Uint8Array([]));if(e instanceof Uint8Array){let t=(0,a.nj)(e);return(0,i.S)(t)}if("object"==typeof e){let t=JSON.stringify(e);return(0,i.S)((0,s.ZJ)(t))}return(0,i.S)((0,s.ZJ)(e))}var I={method:S,name:"keccak256(utf8)",sig:"0x6f357c6a"},T={method:S,name:"keccak256(bytes)",sig:"0x8019f9b1"},B={"keccak256(utf8)":I,"0x6f357c6a":I,"keccak256(bytes)":T,"0x8019f9b1":T},N={CHANGEOWNER:"0x0000000000000000000000000000000000000000000000000000000000000001",ADDCONTROLLER:"0x0000000000000000000000000000000000000000000000000000000000000002",EDITPERMISSIONS:"0x0000000000000000000000000000000000000000000000000000000000000004",ADDEXTENSIONS:"0x0000000000000000000000000000000000000000000000000000000000000008",CHANGEEXTENSIONS:"0x0000000000000000000000000000000000000000000000000000000000000010",ADDUNIVERSALRECEIVERDELEGATE:"0x0000000000000000000000000000000000000000000000000000000000000020",CHANGEUNIVERSALRECEIVERDELEGATE:"0x0000000000000000000000000000000000000000000000000000000000000040",REENTRANCY:"0x0000000000000000000000000000000000000000000000000000000000000080",SUPER_TRANSFERVALUE:"0x0000000000000000000000000000000000000000000000000000000000000100",TRANSFERVALUE:"0x0000000000000000000000000000000000000000000000000000000000000200",SUPER_CALL:"0x0000000000000000000000000000000000000000000000000000000000000400",CALL:"0x0000000000000000000000000000000000000000000000000000000000000800",SUPER_STATICCALL:"0x0000000000000000000000000000000000000000000000000000000000001000",STATICCALL:"0x0000000000000000000000000000000000000000000000000000000000002000",SUPER_DELEGATECALL:"0x0000000000000000000000000000000000000000000000000000000000004000",DELEGATECALL:"0x0000000000000000000000000000000000000000000000000000000000008000",DEPLOY:"0x0000000000000000000000000000000000000000000000000000000000010000",SUPER_SETDATA:"0x0000000000000000000000000000000000000000000000000000000000020000",SETDATA:"0x0000000000000000000000000000000000000000000000000000000000040000",ENCRYPT:"0x0000000000000000000000000000000000000000000000000000000000080000",DECRYPT:"0x0000000000000000000000000000000000000000000000000000000000100000",SIGN:"0x0000000000000000000000000000000000000000000000000000000000200000",EXECUTE_RELAY_CALL:"0x0000000000000000000000000000000000000000000000000000000000400000",ERC4337_PERMISSION:"0x0000000000000000000000000000000000000000000000000000000000800000",ALL_PERMISSIONS:"0x00000000000000000000000000000000000000000000000000000000007f3f7f"},R="[CompactBytesArray]",M=/\[CompactBytesArray\]$/,O=0;function L(e,t){if(!(0,o.q)(t))return null;let r=(0,l.n)([{type:A[e].returnEncoding}],t)[0]||null;return Array.isArray(r)&&1===r.length&&"0x"===r[0]?[null]:r}function j(e,t,r,n){return O+=1,{jsonrpc:"2.0",method:"eth_call",params:((e,t,r,n)=>{let i=n?A[t].sig+n.replace("0x",""):A[t].sig;return[{to:e,value:A[t].value,...r?{gas:(0,a.nj)(r)}:{},data:i},"latest"]})(e,t,r,n),id:O}}var z=class{type;provider;gas;constructor(e,t){"function"==typeof e.request?this.type="ETHEREUM":this.type="WEB3",this.provider=e,this.gas=t}async getOwner(e){return L("owner",await this.callContract(j(e,"owner",this.gas)))}async getErc725YVersion(e){return await this.supportsInterface(e,$["5.0"])?"ERC725_v5":await this.supportsInterface(e,$["3.0"])||await this.supportsInterface(e,$["2.0"])?"ERC725_v2":await this.supportsInterface(e,$.legacy)?"ERC725_LEGACY":"NOT_ERC725"}async supportsInterface(e,t){return L("supportsInterface",await this.callContract(j(e,"supportsInterface",this.gas,`${t}00000000000000000000000000000000000000000000000000000000`)))}async isValidSignature(e,t,r){if("ETHEREUM"===this.type){let n=(0,u.h)([{type:"bytes32"},{type:"bytes"}],[t,r]),a=await this.callContract(j(e,"isValidSignature",void 0,n));if(a.error)throw a.error;return L("isValidSignature",a)}let n=(0,u.h)([{type:"bytes32"},{type:"bytes"}],[t,r]);return L("isValidSignature",(await this.callContract([j(e,"isValidSignature",void 0,n)]))[0])}async getData(e,t){let r=await this.getAllData(e,[t]);try{return r[0].value}catch{return null}}async getAllData(e,t){let r=await this.getErc725YVersion(e);if("NOT_ERC725"===r)throw Error(`Contract: ${e} does not support ERC725Y interface.`);switch(r){case"ERC725_v5":return this._getAllDataGeneric(e,t,"getDataBatch");case"ERC725_v2":return this._getAllDataGeneric(e,t,"getData");case"ERC725_LEGACY":return this._getAllDataLegacy(e,t);default:return[]}}async _getAllDataGeneric(e,t,r){if("ETHEREUM"===this.type){let n=await this.callContract(j(e,r,void 0,(0,u.h)([{type:"bytes32[]"}],[t]))),a=L(r,n);return t.map((e,t)=>({key:e,value:a?a[t]:a}))}let n=[j(e,r,void 0,(0,u.h)([{type:"bytes32[]"}],[t]))],a=L(r,(await this.callContract(n))[0]);return t.map((e,t)=>({key:e,value:a?a[t]:a}))}async _getAllDataLegacy(e,t){if("ETHEREUM"===this.type){let r=t.map(t=>this.callContract(j(e,"getDataLegacy",this.gas,t)));return(await Promise.all(r)).map((e,r)=>({key:t[r],value:L("getDataLegacy",e)}))}let r=[];for(let n=0;n<t.length;n++)r.push(j(e,"getDataLegacy",this.gas,t[n]));let n=await this.callContract(r);return r.map((e,r)=>({key:t[r],value:L("getDataLegacy",n[r])}))}async callContract(e){if("ETHEREUM"===this.type){let t=await this.provider.request(e);if(t.error){let e=Error("Call failed");throw Object.assign(e,t.error),e}return t.result?t.result:t}let t=async e=>new Promise((t,r)=>{let n=e=>{if(e.error){let t;return{error:t}=e,t instanceof Error||Object.assign(t=Error("Call failed"),e.error),r(t)}return t(e.result||"0x")},a=this.provider.send(e,(e,t)=>{e?r(e):n(t)});a&&"function"==typeof a.then&&a.then(n,r)});return Array.isArray(e)?Promise.all(e.map(t)):t(e)}},U=/^u?int(\d+)(\+?)$/,D=/^bytes(\d+)$/,F=/Bytes(\d+)/,_=(e,t)=>{let r=eT(e?.method||P);return(0,c.xW)(["0x0000",r?.sig??"0x00000000",e?.data?(0,f.eV)((0,a.nj)((0,d.E)(e.data)),{size:2}):"0x0000",e?.data??"0x",(0,a.nj)(t)])},V=e=>{if("0x0000"===e.slice(0,6)){let t=`0x${e.slice(6,14)}`,r=eT(t),n=`0x${e.slice(14,18)}`,a=(0,p.ME)(n),i=`0x${e.slice(18,18+2*a)}`,s=(0,p.IQ)(`0x${e.slice(18+2*a)}`);return{verification:{method:r?.name||t,data:i},url:s}}let t=e.slice(0,10),r=eT(t),n=e.slice(10);try{let e=(0,p.IQ)(`0x${n}`);if(n.length<64||/^[a-z]{2,}:[/\S]/.test(e))return{verification:{method:P,data:"0x"},url:e}}catch{}let a=(0,y.di)(`0x${n}`,0,32),i=(0,p.IQ)((0,y.di)(`0x${n}`,32));return{verification:{method:r?.name||t,data:a},url:i}},q=e=>e.filter((e,t)=>{if(""===e)return"0x";if(!(0,o.q)(e))throw Error(`Couldn't encode bytes[CompactBytesArray], value at index ${t} is not hex`);if(e.length>131072)throw Error(`Couldn't encode bytes[CompactBytesArray], value at index ${t} exceeds 65_535 bytes`);return!0}).reduce((e,t)=>{let r=t.slice(2).length/2,n=(0,f.eV)((0,a.cK)(r),{size:2});return(0,c.xW)([e,n,t])},"0x"),G=(e,t)=>{if(!(0,o.q)(e))throw Error("Couldn't decode, value is not hex");let r=[],n=e;for(;(0,d.E)(n)>0;){let e=(0,p.ME)((0,y.di)(n,0,2));if(0===e)r.push(""),n=(0,y.di)(n,2),t&&(t.bytes+=2);else{if(e>(0,d.E)(n)-2)throw Error("Couldn't decode bytes[CompactBytesArray] (invalid array item length)");if(r.push((0,y.di)(n,2,2+e)),t&&(t.bytes+=2+e),(0,d.E)(n)===2+e)break;n=(0,y.di)(n,2+e)}}return r},W=(e,t)=>(e.forEach((e,r)=>{if((0,d.E)(e)>t)throw Error(`Hex bytes${t} value at index ${r} does not fit in ${t} bytes`)}),q(e)),H=(e,t,r)=>{let n=G(e,r);return n.forEach((e,r)=>{if((0,d.E)(e)>t)throw Error(`Hex bytes${t} value at index ${r} does not fit in ${t} bytes`)}),n},K=(e,t)=>q(e.map((e,r)=>{let n=(0,f.eV)((0,a.cK)(e),{size:t});if(n.slice(2).length>2*t)throw Error(`Hex uint${8*t} value at index ${r} does not fit in ${t} bytes`);return n})),Z=(e,t)=>G(e).map((e,r)=>{if(e.slice(2).length>2*t)throw Error(`Hex uint${8*t} value at index ${r} does not fit in ${t} bytes`);return BigInt(e)}),J=e=>q(e.map(e=>(0,a.i3)(e))),Y=(e,t)=>G(e,t).map(e=>(0,p.IQ)(e));function X(e){return(t,r)=>{let n=e,[,i,s,o]=/^(u?int)(\d*)(.*)$/.exec(e)||[];if(i&&!eL(Number.parseInt(s,10)))throw Error(`Invalid \`${e}\` provided. Expected a multiple of 8 bits between 8 and 256.`);let p=Number.parseInt(s,10);if("address"===e)n="bytes20";else if(i){let e=p/8;n=`bytes${e}${o}`}try{let i=(0,l.n)([{type:n,name:""}],`${t}0000000000000000000000000000000000000000000000000000000000000000`)[0];if(s){let t=t=>{let r=t.startsWith("0xff"),n=BigInt(t);return!e.startsWith("u")&&r?-function(e,t){if(0n===e)return 0n;let r=1n<<BigInt(t);return(~e&r-1n)+1n}(n,p):n};i=Array.isArray(i)?i.map(e=>t(e)):t(i)}if(r){let t=e.endsWith("]")?(0,u.h)([{type:n}],[i]):function(e,t){if(e.length!==t.length)throw new b.YE({expectedLength:e.length,givenLength:t.length});let r=[];for(let n=0;n<e.length;n++){let i=e[n],s=t[n];r.push(function e(t,r,n=!1){if("address"===t){if(!(0,m.P)(r))throw new h.M({address:r});return(0,f.eV)(r.toLowerCase(),{size:n?32:null})}if("string"===t)return(0,a.i3)(r);if("bytes"===t)return r;if("bool"===t)return(0,f.eV)((0,a.$P)(r),{size:n?32:1});let i=t.match(g.Ge);if(i){let[e,t,s="256"]=i,o=Number.parseInt(s,10)/8;return(0,a.cK)(r,{size:n?32:o,signed:"int"===t})}let s=t.match(g.BD);if(s){let[e,t]=s;if(Number.parseInt(t,10)!==(r.length-2)/2)throw new b.BI({expectedSize:Number.parseInt(t,10),givenSize:(r.length-2)/2});return(0,f.eV)(r,{dir:"right",size:n?32:null})}let o=t.match(g.D5);if(o&&Array.isArray(r)){let[t,n]=o,a=[];for(let t=0;t<r.length;t++)a.push(e(n,r[t],!0));return 0===a.length?"0x":(0,c.aP)(a)}throw new b.Wl(t)}(i,s))}return(0,c.aP)(r)}([e],[i]),s=(0,d.E)(t);r.bytes+=s}return i}catch(r){throw Error(`Error decoding value "${t}" as type "${e}": ${r instanceof Error?r.message:String(r)}`)}}}var Q=e=>{let t=e.match(U),r=e.match(D),n=r?Number.parseInt(r[1],10):"",i=t?Number.parseInt(t[1],10):0;if(e.includes("[CompactBytesArray]"))return({"bytes[CompactBytesArray]":{encode:e=>q(e),decode:(e,t)=>G(e,t)},"string[CompactBytesArray]":{encode:e=>J(e),decode:(e,t)=>Y(e,t)},...(()=>{let e={};for(let t=1;t<33;t++)e[`bytes${t}[CompactBytesArray]`]={encode:e=>W(e,t),decode:(e,r)=>H(e,t,r)};return e})(),...(()=>{let e={};for(let t=1;t<33;t++)e[`uint${8*t}[CompactBytesArray]`]={encode:e=>K(e,t),decode:e=>Z(e,t)};return e})()})[e];if("bytes"===e)return{encode:e=>(0,o.q)(e)?e.toLowerCase():(0,a.nj)(e),decode:(e,t)=>{if(t){let r=(0,d.E)(e);t.bytes+=r}return e}};switch(e){case"bool":case"boolean":return{encode:e=>e?"0x01":"0x00",decode:(e,t)=>(t&&(t.bytes+=1),"0x01"===(0,y.di)(e,0,1))};case"string":return{encode:e=>"number"==typeof e?(0,a.i3)(`${e}`):(0,a.i3)(e),decode:(e,t)=>(t&&(t.bytes+=(0,d.E)(e)),(0,p.IQ)(e))};case"address":return{encode:e=>{let t=(0,u.h)([{type:"address"}],[e]),r=(0,s.aT)(t);return(0,a.My)((0,y.di)(r,12))},decode:(e,t)=>{let r=X("address")(e,t);return(0,w.b)(r)}};case`int${i}`:return{encode:t=>{if(!eL(i))throw Error(`Can't encode ${t} as ${e}. Invalid \`uintN\` provided. Expected a multiple of 8 bits between 8 and 256.`);let r=(0,u.h)([{type:e}],[t]),n=(0,s.aT)(r),o=i/8;return(0,a.My)(n.slice(32-o))},decode:(t,r)=>{let n=i/8*2+2,a=e;return t.length<n&&(a=`int${8*Math.round((t.length-2)/2)}`),X(a)(t,r)}};case`uint${i}`:return{encode:t=>{if(!eL(i))throw Error(`Can't encode ${t} as ${e}. Invalid \`uintN\` provided. Expected a multiple of 8 bits between 8 and 256.`);let r=(0,u.h)([{type:e,name:""}],[t]),n=eM(r);if(n>i)throw Error(`Can't represent value ${t} as ${e}. To many bits required ${n} > ${i}`);let o=(0,s.aT)(r),l=i/8;return(0,a.My)(o.slice(32-l))},decode:X(e)};case`uint${i}+`:return{encode:t=>{if(!eL(i))throw Error(`Can't encode ${t} as ${e}. Invalid \`uintN\` provided. Expected a multiple of 8 bits between 8 and 256.`);let r=(0,u.h)([{type:e}],[t]),n=eM(r);if(n>i)throw Error(`Can't represent value ${t} as ${e}. To many bits required ${n} > ${i}`);let o=(0,s.aT)(r),l=i/8;return(0,a.My)(o.slice(32-l))},decode:(e,t)=>{let r=Math.min(8*((e.length-2)/2),256);return X(`uint${r}`)(e,t)}};case`bytes${n}`:return{encode:t=>{if(!ej(n))throw Error(`Can't encode ${t} as ${e}. Invalid \`bytesN\` provided. Expected a \`N\` value for bytesN between 1 and 32.`);return((e,t)=>{var r;let n,i=Number.parseInt(e.split("bytes")[1],10),l=(r=n=(0,o.q)(t)?"number"==typeof t?(0,f.eV)((0,a.cK)(t),{size:i}):t:(0,a.nj)(t),(0,d.E)(r));if(n="number"==typeof t||"bigint"==typeof t?(0,f.eV)(n,{size:i}):(0,f.eV)(n,{size:i,dir:"right"}),l>i)throw Error(`Can't convert ${t} to ${e}. Too many bytes, expected at most ${i} bytes, received ${l}.`);let c=(0,u.h)([{type:e,name:""}],[n]);if(32===i)return c;let p=(0,s.aT)(c);return(0,a.My)(p.slice(0,i))})(e,t)},decode:X(e)};case"bool[]":return{encode:e=>(0,u.h)([{type:"bool[]"}],[e]),decode:X("bool[]")};case"boolean[]":return{encode:e=>(0,u.h)([{type:"bool[]"}],[e]),decode:X("bool[]")};case"string[]":return{encode:e=>(0,u.h)([{type:"string[]"}],[e]),decode:X("string[]")};case"address[]":return{encode:e=>(0,u.h)([{type:"address[]"}],[e]),decode:X("address[]")};case"uint256[]":return{encode:e=>(0,u.h)([{type:"uint256[]"}],[e]),decode:(e,t)=>(X("uint256[]")(e,t)||[]).map(e=>{try{return Number(e)}catch{return BigInt(e)}})};case"bytes32[]":return{encode:e=>(0,u.h)([{type:"bytes32[]"}],[e]),decode:X("bytes32[]")};case"bytes4[]":return{encode:e=>(0,u.h)([{type:"bytes4[]"}],[e]),decode:X("bytes4[]")};case"bytes[]":return{encode:e=>(0,u.h)([{type:"bytes[]"}],[e]),decode:X("bytes[]")};case"bytes[CompactBytesArray]":return{encode:e=>q(e),decode:(e,t)=>G(e,t)};case"string[CompactBytesArray]":return{encode:e=>J(e),decode:(e,t)=>Y(e,t)};default:return{encode:t=>{throw Error(`Could not encode ${t}. Value type ${e} is unknown`)},decode:(t,r)=>{throw Error(`Could not decode ${t}. Value type ${e} is unknown`)}}}},ee=e=>{let t=e.match(F),r=t?Number.parseInt(t[1],10):"";switch(e){case"Keccak256":return{type:"bytes32",encode:e=>e,decode:e=>e};case"Number":return{type:"uint256",encode:e=>{let t;try{t=Number.parseInt(e,10)}catch(e){throw Error(e)}return(0,f.eV)((0,a.cK)(t),{size:32})},decode:e=>BigInt(e)};case"Address":return{type:"address",encode:e=>{if((0,m.P)(e))return e.toLowerCase();throw Error(`Address: "${e}" is an invalid address.`)},decode:e=>{try{return(0,w.b)(e)}catch{throw Error(`Address: "${e}" is an invalid address.`)}}};case"String":return{type:"string",encode:e=>(0,a.i3)(e),decode:e=>(0,p.IQ)(e)};case"Markdown":return{type:"string",encode:e=>(0,a.i3)(e),decode:e=>(0,p.IQ)(e)};case"URL":return{type:"string",encode:e=>(0,a.i3)(e),decode:e=>(0,p.IQ)(e)};case"AssetURL":case"JSONURL":case"VerifiableURI":return{type:"custom",encode:e=>{let{verification:{data:t,method:r}={},json:n,url:a}=e,i=t;if(n){if(r)throw Error('When passing in the `json` property, we use "keccak256(utf8)" as a default verification method. You do not need to set a `verification.method`.');i=eB(n,"keccak256(utf8)")}if(!i)throw Error("You have to provide either the verification.data or the json via the respective properties");return _({method:r||"keccak256(utf8)",data:i||"0x"},a)},decode:e=>V(e)};case`Bytes${r}`:return{type:"bytes",encode:t=>{if("string"!=typeof t||!(0,o.q)(t))throw Error(`Value: ${t} is not hex.`);if(r&&!ej(r))throw Error(`Provided bytes length: ${r} for encoding valueContent: ${e} is not valid.`);if(r&&t.length!==2+2*r)throw Error(`Value: ${t} is not of type ${e}. Expected hex value of length ${2+2*r}`);return t},decode:t=>{if("string"!=typeof t||!(0,o.q)(t))return console.error(`Value: ${t} is not hex.`),null;if(r&&!ej(r))throw Error(`Provided bytes length: ${r} for encoding valueContent: ${e} is not valid.`);return r&&t.length!==2+2*r?(console.error(`Value: ${t} is not of type ${e}. Expected hex value of length ${2+2*r}`),null):t}};case"BitArray":return{type:"bytes",encode:e=>{if("string"!=typeof e||!(0,o.q)(e))throw Error(`Value: ${e} is not hex.`);return e},decode:e=>"string"==typeof e&&(0,o.q)(e)?e:(console.error(`Value: ${e} is not hex.`),null)};case"Boolean":return{type:"bool",encode:e=>Q("bool").encode(e),decode:(e,t)=>Q("bool").decode(e,t)};default:return{type:"unknown",encode:t=>{throw Error(`Could not encode unknown (${e}) valueContent.`)},decode:t=>{throw Error(`Could not decode unknown (${e}) valueContent.`)}}}};function et(e,t){return null==t?t:Q(e).encode(t)}function er(e,t,r){return"0x"===t?null:null==t?t:Q(e).decode(t,r)}function en(e,t){if(ez(e))return e===t?t.toLowerCase():"0x";let r=ee(e);if(!r)throw Error(`Could not encode valueContent: ${e}.`);if(null==t)return"0x";if(("AssetURL"===e||"JSONURL"===e||"Boolean"===e)&&"string"==typeof t){let r="Boolean"===e?"boolean":"object";throw Error(`Could not encode valueContent: ${e} with value: ${t}. Expected ${r}.`)}return r.encode(t)}function ea(e,t){return ez(e)?e.toLowerCase()===t?e:null:null==t||"0x"===t?null:ee(e).decode(t)}var ei=["<string>","<address>","<bool>"],es=/<(uint|int|bytes)(\d+)>/,eo=(e,t,r)=>{let n="",l=0,u=t;if(ei.includes(e))n=e.slice(1,-1);else{let t=e.match(es);if(!t)throw Error(`Dynamic key: ${e} is not supported`);n=t[1],l=Number.parseInt(t[2],10)}switch(n){case"string":return(0,y.di)((0,i.S)((0,s.Af)(u)),0,r).slice(2);case"bool":if("true"!==u&&"false"!==u)throw Error(`Wrong value: ${u} for dynamic key with type: <bool>. Expected "true" or "false".`);return(0,f.eV)("true"===u||1===Number(u)?"0x01":"0x00",{size:r}).slice(2);case"address":if(!u)throw Error(`Wrong value: ${u} for dynamic key with type: <address>. Value is empty.`);if(u.startsWith("0x")||(u=`0x${u}`),!(0,m.P)(u))throw Error(`Wrong value: ${u} for dynamic key with type: <address>. Value is not an address.`);return(0,f.eV)((0,y.di)(u,0,r),{size:r}).slice(2).toLowerCase();case"int":case"uint":{if(l>256||l%8!=0)throw Error(`Wrong dynamic key type: ${e}. 0 < M <= 256, M % 8 == 0. Got: ${l}.`);let t=(0,a.cK)(BigInt(u)).slice(2);if(t.length>l/4)throw Error(`Value: ${u} is too big for uint${l}.`);return t=t.length>2*r?`0x${t.slice(-(2*r))}`:`0x${t}`,(0,f.eV)(t,{size:r}).slice(2)}case"bytes":if(u.startsWith("0x")||(u=`0x${u}`),!(0,o.q)(u))throw Error(`Wrong value: ${u} for dynamic key with type: $type. Value is not in hex.`);if(u.length>2+2*l)throw Error(`Wrong value: ${u} for dynamic key with type: $type. Value is too big.`);return(0,f.eV)((0,y.di)(u,0,r),{size:r,dir:"right"}).slice(2);default:throw Error(`Dynamic key: ${e} is not supported`)}};function el(e){if(e.startsWith("0x")&&e.includes("<"))return!0;let t=e.split(":");for(let e=0;e<t.length;e++)if(ei.includes(t[e])||t[e].match(es))return!0;return!1}var eu=(e,t)=>{if(1!==t.length)throw Error(`Dynamic key of type: Mapping expects exactly 1 variable. Got: ${t.length} (${t})`);let r=e.split(":"),n=(0,y.di)((0,i.S)((0,s.ZJ)(r[0])),0,10);return`${n}0000${eo(r[1],t[0],20)}`},ec=(e,t)=>{let r=e.split(":"),n=0;if(el(r[1])&&(n+=1),el(r[2])&&(n+=1),n!==t.length)throw Error(`Can not encode dynamic key of type: MappingWithGrouping. Wrong number of arguments. Expects exactly ${n} variable(s), got: ${t.length} (${t})`);let a=(0,i.S)((0,s.ZJ)(r[0])).slice(0,14),o="";o=r[1].startsWith("0x")?(0,f.eV)(r[1].slice(0,10),{size:4,dir:"right"}).slice(2):el(r[1])?eo(r[1],t[0],4):(0,i.S)(r[1]).slice(2,10);let l="";return l=r[2].startsWith("0x")?(0,f.eV)(r[2].slice(0,42),{size:20,dir:"right"}).slice(2):el(r[2])?eo(r[2],t[t.length-1],20):(0,i.S)(r[2]).slice(2,42),`${a}${o}0000${l}`};function ef(e,t){if(el(e)){if(!t)throw Error(`Can't encode dynamic key name: ${e} without dynamicKeyParts`);let r="string"==typeof t?[t]:t,n=eP(e);switch(n){case"Mapping":return eu(e,r);case"MappingWithGrouping":return ec(e,r);default:throw Error(`Could not encode dynamic key: ${e} of type: ${n}`)}}switch(eP(e)){case"MappingWithGrouping":{let t=e.split(":");return ec(`${t[0]}:<string>:<address>`,[t[1],t[2]])}case"Mapping":{let t=e.split(":");if((0,m.P)(t[1]))return eu(`${t[0]}:<address>`,[t[1]]);return eu(`${t[0]}:<string>`,[t[1]])}case"Array":if(t&&"number"==typeof t)return eA((0,i.S)((0,s.ZJ)(e)),t);return(0,i.S)((0,s.ZJ)(e));default:return(0,i.S)((0,s.ZJ)(e))}}function ed(e,t){let r;if("<"!==t.slice(0,1)||">"!==t.slice(t.length-1))return!1;let n=t.slice(1,t.length-1);if("bool"===n)r="1"===e.slice(e.length-1);else if(n.includes("uint"))r=Number.parseInt(e,16);else if(n.includes("bytes")){let t=Number.parseInt(n.replace("bytes",""),10);r=(0,f.eV)(`0x${e.slice(0,2*t)}`,{size:t,dir:"right"})}else r="address"===n?er(n,(0,f.eV)(`0x${e}`,{size:20})):er(n,e);return{type:n,value:r}}function ep(e,t){let r,n=e;if(64===n.length&&"0x"!==n.slice(0,2)&&(n=`0x${n}`),66!==n.length)throw Error("Invalid encodedKey length, key must be 32 bytes long hexadecimal value");if(!(0,o.q)(n))throw Error("Invalid encodedKey, must be a hexadecimal value");if((r="string"==typeof t?t.split(":"):t.name.split(":")).some(e=>e.includes("string")))throw Error("String dynamic key parts cannot be decoded, because it's formatted as a keccak256 hash");let a=[];switch(r.length){case 2:a.push(ed(n.slice(26),r[1]));break;case 3:a.push(ed(n.slice(14,22),r[1])),a.push(ed(n.slice(26),r[2]))}return a.filter(e=>!1!==e)}function ey(e,t,r){let n,a=t;if(/^[0-9a-f]{64}$/i.test(t)&&(a=`0x${t}`),a.startsWith("0x")){let t=a.indexOf("<");if(-1!==t){let r=a.slice(0,t),n=e.find(e=>e.key.slice(0,t)===r),i=ep(a,n);if(n)return{...n,...i?{dynamicKeyParts:i}:{}}}}if(el(a)){if(!r)throw Error(`Can't getSchemaElement for dynamic key: ${a} without dynamicKeyParts.`);var i=a;let t=e.find(e=>e.name===i);if(!t)throw Error(`No matching schema found for dynamic key: ${i}`);let n=ef(i,r),s=((e,t)=>{let r=0,n="string"==typeof t?[t]:t;return e.split(":").map(t=>{if(!el(t))return t;if(!n[r])throw Error(`Can not generate key name: ${e}. Missing/not enough dynamicKeyParts: ${n}`);let a=n[r];if("<address>"===t&&!(0,m.P)(a))throw Error(`Dynamic key is expecting an <address> but got: ${a}`);return r+=1,a}).join(":")})(i,r);return{...t,dynamicName:s,key:n,dynamicKeyParts:r}}n=(0,o.q)(a)?(0,o.q)(a,{strict:!0})?a:`0x${a}`:ef(a);let s=e.find(e=>e.key===n);if(!s)throw Error(`No matching schema found for key: ${a} (${n}).`);return s}var eb=["uint8","uint16","uint24","uint32","uint40","uint48","uint56","uint64","uint72","uint80","uint88","uint96","uint104","uint112","uint120","uint128","uint136","uint144","uint152","uint160","uint168","uint176","uint184","uint192","uint200","uint208","uint216","uint224","uint232","uint240","uint248","uint256","int8","int16","int24","int32","int40","int48","int56","int64","int72","int80","int88","int96","int104","int112","int120","int128","int136","int144","int152","int160","int168","int176","int184","int192","int200","int208","int216","int224","int232","int240","int248","int256","bytes1","bytes2","bytes3","bytes4","bytes5","bytes6","bytes7","bytes8","bytes9","bytes10","bytes11","bytes12","bytes13","bytes14","bytes15","bytes16","bytes17","bytes18","bytes19","bytes20","bytes21","bytes22","bytes23","bytes24","bytes25","bytes26","bytes27","bytes28","bytes29","bytes30","bytes31","bytes32","bool","boolean","address","string","bytes","string[]","address[]","uint256[]","bytes32[]","bytes4[]","bytes[]","bool[]","boolean[]"],eh=/bytes(\d+)/,em=/Bytes(\d+)/,eg=e=>!(e.length<=2)&&("("===e[0]||")"===e[e.length-1]),ew=e=>e.substring(1,e.length-1).split(","),ev=(e,t)=>{if(!eg(e)||!eg(t))return!1;let r=ew(e.replace(R,"")),n=ew(t);if(r.length!==n.length)throw Error(`Invalid tuple for valueType: ${e} / valueContent: ${t}. They should have the same number of elements. Got: ${r.length} and ${n.length}`);for(let i=0;i<r.length;i++){var a;if(a=r[i],!eb.includes(a))throw Error(`Invalid tuple for valueType: ${e} / valueContent: ${t}. Type: ${r[i]} is not valid. Valid types are: ${eb}`);let s=r[i].replace(/\[.*?\]$/,"").split("bytes")[1];if(r[i].match(eh)&&n[i].match(em)&&s>n[i].slice(5))throw Error(`Invalid tuple (${e},${t}: ${e[i]} cannot fit in ${t[i]}`);if("unknown"===ee(n[i]).type&&"Bytes"!==n[i].slice(0,5)&&"0x"!==n[i].slice(0,2))throw Error(`Invalid tuple for valueType: ${e} / valueContent: ${t}. valueContent of type: ${n[i]} is not valid`);if((0,o.q)(n[i],{strict:!0})){let r=n[i].length-2;if(Number.parseInt(s,10)<r)throw Error(`Invalid tuple (${e},${t}: ${t[i]} cannot fit in ${e[i]}`)}else if(n[i].startsWith("0x"))throw Error(`Invalid tuple for valueType: ${e} / valueContent: ${t}. valueContent of type: ${n[i]} is not a valid hex value`)}return!0},eE=(e,t,r)=>{let n=ew(t.replace(M,"")),a=ew(e),i={bytes:0},s=(0,d.E)(r),o=n.map((e,t)=>eS(a[t],e,i.bytes<(0,d.E)(r)?(0,y.di)(r,i.bytes):"0x",i));if(s!==i.bytes)throw Error("Tuple value is the wrong length returning null");return o};function ex(e,t,r=!1){let n=({keyName:e,dynamicKeyParts:r,value:n},a=!0)=>{let i=el(e)?ey(t,e,r):ey(t,e),s=null;try{s=function(e,t){switch(e.keyType.toLowerCase()){case"array":{var r;if(!t||"0x"===t)return[];if("string"==typeof t&&16===(r=t,(0,d.E)(r)))return eS("Number","uint128+",t,e.name)||0;let n=t.find(t=>t.key===e.key);if(!n)return[];let a={bytes:0,name:e.name},i=eS("Number","uint128+",n.value,a)||0,s=[];for(let r=0;r<i;r++){let n=t.find(t=>t.key===eA(e.key,r));n&&s.push(eS(e.valueContent,e.valueType,n.value,a))}return s}case"mappingwithgrouping":case"singleton":case"mapping":if(Array.isArray(t)){let r=t.find(t=>t.key===e.key);if(!r)return null;return eS(e.valueContent,e.valueType,r.value,e.name)}if(e.valueType.endsWith(R)){let r=e.valueType.replace(M,""),n=e.valueContent.replace(M,"");if("("===r[0]&&")"===r[r.length-1])return er("bytes[CompactBytesArray]",t).map(e=>eE(n,r,e));return er(e.valueType,t)}if(ev(e.valueType,e.valueContent))return eE(e.valueContent,e.valueType,t);return eS(e.valueContent,e.valueType,t,e.name);default:throw Error(`Incorrect data match or keyType in schema from decodeKey(): "${e.keyType}"`)}}(i,n)}catch(e){if(a)throw e;console.error(e)}let{key:o,name:l,dynamicName:u}=i;return{key:o,name:l,...u?{dynamicName:u}:{dynamicName:l},...r?{dynamicKeyParts:r}:{},value:s}};return Array.isArray(e)?e.map(e=>n(e,r)):n(e,r)}function e$(e,t,r,n){let a;if(!(ee(e)||ez(e)))throw Error(`The valueContent '${e}' for ${n} is not supported.`);let i="]"===t.slice(t.length-1);if((t.startsWith("uint")||t.startsWith("int")||t.startsWith("bytes"))&&"object"!=typeof r)return et(t,r);if(!i&&!Array.isArray(r))return en(e,r);let s=ee(e),o=s&&s.type===t.split("[]")[0];if(Array.isArray(r)){let t=[];for(let n=0;n<r.length;n++){let a=r[n];t.push(en(e.replace(/\[.*?\]$/,""),a))}a=t}return"bytes"===t||o?i&&o&&(a=et(t,r)):a=et(t,a),a}function eA(e,t){return(0,c.xW)([(0,y.di)(e,0,16),(0,f.eV)((0,a.nj)(t),{size:16})])}function eP(e){let t=e.replace(/[^:]</g,":").split(":");return 3===t.length?"MappingWithGrouping":2===t.length?"Mapping":"[]"===e.substring(e.length-2,e.length)?"Array":"Singleton"}var eC=(e,t,r)=>{let n=t.substring(1,t.length-1).split(","),a=e.substring(1,e.length-1).split(",");if(n.length!==r.length)throw Error(`Can not encode tuple key value: ${r}. Expecte array of length: ${n.length}`);return`0x${a.map((e,t)=>{let a=e$(e,n[t],r[t]);return a?a.slice(2):""}).join("")}`};function ek(e,t,r=0,n=Array.isArray(t)?t.length:0){switch(e.keyType.toLowerCase()){case"array":{if("number"==typeof t)return et("uint128",t);if(!Array.isArray(t))throw Error("Can't encode a non array for key of type array");if("number"!=typeof r||"number"!=typeof n)throw Error("Invalid `startingIndex` or `totalArrayLength` parameters. Values must be of type number.");if(r<0)throw Error("Invalid `startingIndex` parameter. Value cannot be negative.");if(n<t.length)throw Error("Invalid `totalArrayLength` parameter. Array length must be at least as large as the number of elements of the value array.");let a=[];for(let i=0;i<t.length;i++){0===i&&a.push({key:e.key,value:et("uint128",n)});let s=r+i,o=t[i];a.push({key:eA(e.key,s),value:e$(e.valueContent,e.valueType,o,e.name)})}return a}case"mappingwithgrouping":case"singleton":case"mapping":if(ev(e.valueType,e.valueContent)){if(!Array.isArray(t))throw Error(`Incorrect value for tuple. Got: ${t}, expected array.`);let r=e.valueType.endsWith(R);if(Array.isArray(t[0])&&r){let r=e.valueType.replace(R,""),n=e.valueContent.replace(R,"");return et("bytes[CompactBytesArray]",t.map(e=>eC(n,r,e)))}if(!Array.isArray(t))throw Error(`Array value required ${JSON.stringify(t)}`);return eC(e.valueContent,e.valueType,t)}if(Array.isArray(t)&&Array.isArray(t[0])&&!ev(e.valueType,e.valueContent))throw Error("Incorrect value for nested array: not a tuple.");return e$(e.valueContent,e.valueType,t,e.name);default:return console.error(`Incorrect data match or keyType in schema from encodeKey(): "${e.keyType}"`),null}}function eS(e,t,r,n){let a=ee(e),i=r;if(!a&&"0x"!==e.slice(0,2))throw Error(`The valueContent "${e}" for "${"object"==typeof n?n.name:n}" is not supported.`);let s=a&&a.type===t.split("[]")[0],o="]"===t.substring(t.length-1);if(("bytes["!==t.slice(0,6)||"]"===t.slice(-1))&&"string"!==t&&(i=er(t,i,"object"==typeof n?n:void 0)),s&&(0,m.P)(i)&&!(0,m.P)(i,{strict:!0})&&(s=!s),s&&"string"!==t)return i;if(o&&Array.isArray(i)){let t=[];for(let r=0;r<i.length;r++){let n=i[r];t.push(ea(e,n))}return t}return ea(e,i)}function eI(e,t){return(Array.isArray(e)?e:[e]).reduce((e,{keyName:r,value:n,dynamicKeyParts:a,startingIndex:i,totalArrayLength:s})=>{let o,l=null;if(el(r)){if(!a)throw Error(`Can't encodeData for dynamic key: ${r} with non dynamic values. Got: ${n}, expected object.`);o=ek(l=ey(t,r,a),n,i,s)}else o=ek(l=ey(t,r),n,i,s);if("string"==typeof o)e.keys.push(l.key),e.values.push(o);else if(!1!==o&&null!=o)for(let t=0;t<o.length;t++){let{key:r,value:n}=o[t];e.keys.push(r),e.values.push(n)}return e},{keys:[],values:[]})}function eT(e){let t=Object.values(B).find(({name:t,sig:r})=>t===e||r===e);if(!t&&"0x00000000"!==e)throw Error(`Chosen verification method '${e}' is not supported. Supported verification methods: ${k}`);return t}function eB(e,t){return eT(t)?.method(e)||(0,f.eV)((0,a.nj)(0),{size:32})}function eN(e,t,r){if(!t?.method||t?.method==="0x00000000")return!0;let n=eB(e,t.method);return n===t.data||(r?r.push(n):console.error(`Hash mismatch, calculated hash ("${n}") is different from expected hash "${t.data}"`),!1)}var eR=(e,t)=>e.map(e=>"string"==typeof e?ey(t,e):ey(t,e.keyName,e.dynamicKeyParts));function eM(e){let t=(0,s.aT)(e);for(let e=0;e<t.length;e++)if(0!==t[e])return(t.length-e-1)*8+(32-Math.clz32(t[e]));return 0}var eO=e=>e.length<=1||"<"!==e.charAt(0)||">"!==e.slice(-1)?[e]:e.substring(1,e.length-1).split("|");function eL(e){return e>=8&&e<=256&&e%8==0}function ej(e){return e>=1&&e<=32}function ez(e){return(0,o.q)(e,{strict:!0})}var eU=(e,t)=>{let r=(e,t,r=!1)=>{let n={...t,key:e},a=t.name.split(":"),o=e.substring(26),l="??????";if(el(t.name)&&!r){l=o;let e=`${a[0]}:0x${l}`,t=`0x${o}`,r=a[1].match(es);if(r){let n="uint"===r[1]||"int"===r[1]?Number.parseInt(r[2])/8:Number.parseInt(r[2]);n<20&&(e=`${a[0]}:0x${l.slice(0,2*n)}`,t=`0x${o.slice(0,2*n)}`)}return n.dynamicName=e,n.dynamicKeyParts=t,n}return(0,c.xW)([(0,y.di)((0,i.S)((0,s.ZJ)(a[1])),0,10),"0x0000"])===`0x${o}`&&(l=a[1]),n};if(Array.isArray(t)){let n=(0,y.di)(e,0,12),a=t.find(e=>(0,c.xW)([e.key.slice(0,22),"0x0000"])===n);return a?r(e,a):r(e,t[0],!0)}return r(e,t)};function eD(e,t){let r={Singleton:t.filter(e=>"Singleton"===e.keyType),Array:t.filter(e=>"Array"===e.keyType),Mapping:t.filter(e=>"Mapping"===e.keyType),MappingWithGrouping:t.filter(e=>"MappingWithGrouping"===e.keyType)},n=null;return(n=r.Singleton.find(t=>t.key===e)||null)||(n=((e,t)=>{let r=t.find(t=>t.key===e)||null;if(r)return r;let n=(0,y.di)(e,0,16),a=(0,y.di)(e,16);if(!(0,o.q)(n)||!(0,o.q)(a))return null;let i=t.find(e=>(0,y.di)(e.key,0,16)===n)||null;if(!i)return null;let s=er("uint128",a);return{...i,key:e,dynamicName:i.name.replace("[]",`[${s}]`),dynamicKeyParts:a,name:i.name,keyType:"Singleton"}})(e,r.Array))||(n=((e,t)=>{let r=e.substring(0,26),n=t.find(t=>t.key===e)||null;if(n)return eU(e,n);let a=t.filter(e=>`${e.key.substring(0,22)}0000`===r);return 0===a.length?null:eU(e,a)})(e,r.Mapping))?n:n=((e,t)=>{let r=t.find(t=>t.key.substring(0,26)===e.substring(0,26))||null;if(r){let t=(r={...r}).name.split(":"),n=e.substring(26);return el(r.name)&&(r.dynamicName=`${t[0]}:${t[1]}:0x${n}`,r.dynamicKeyParts=`0x${n}`),{...r,key:e}}return null})(e,r.MappingWithGrouping)}function eF(e,t){let r=n;return(t&&(r=t.concat(r)),Array.isArray(e))?e.reduce((e,t)=>(e[t]=eD(t,r),e),{}):eD(e,r)}var e_=async(e,t,r,n)=>{let s=/^0x([A-Fa-f0-9]{64})$/.test(e)?e:(0,i.S)((0,a.i3)(`Ethereum Signed Message:
${e.length}${e}`));if(132!==t.length)throw Error("Signature length should be 132 (65bytes)");try{return await n.isValidSignature(r,s,t)==="0x1626ba7e"}catch{throw Error(`Error when checking signature. Is ${r} a valid contract address which supports EIP-1271 standard?`)}},eV=(e,t,r)=>Promise.all(t.map(async t=>{let n=e.find(e=>e.key===t.key);if(!n||!["jsonurl","asseturl","verifiableuri"].includes(n.valueContent.toLowerCase()))return t;try{let e;if("string"==typeof t.value)throw Error(`Value of key: ${t.name} (${t.value}) is string but valueContent is: ${n.valueContent}. Expected type should be object with url key.`);if(!t.value)throw Error(`Value of key: ${t.name} is empty`);if(Array.isArray(t.value))throw Error(`Value of key: ${t.name} (${t.value}) is string[] but valueContent is: ${n.valueContent}. Expected type should be object with url key.`);let a=t.value,{url:i}=function(e,t){if(e?.url?.startsWith("ipfs://")){if("string"==typeof t)return{...e,url:e.url.replace("ipfs://",t)};if("object"!=typeof t||!t.ipfsGateway)throw Error("Invalid ipfsGateway provided. It should be a string or an object with an ipfsGateway property.");if(t.ipfsConvertUrl){let r=t.ipfsConvertUrl(e.url);return{...e,url:r}}return{...e,url:e.url.replace("ipfs://",t.ipfsGateway)}}return e}(a,"string"==typeof r?r:r.ipfsGateway),[,s,o]=i.match(/^data:.*?;(.*?),(.*)$/)||[];if(o)e=new TextEncoder().encode("base64"===s?atob(o):o);else{if(/[=?/]$/.test(i))return t;e=await fetch(i).then(async e=>{if(!e.ok)throw Error(e.statusText);return e.arrayBuffer().then(e=>new Uint8Array(e))})}if(e.length>=2)try{let r=[];r.push(e[0]),e.length>3&&r.push(e[e.length-3]),e.length>2&&r.push(e[e.length-2]),e.length>1&&r.push(e[e.length-1]);let n=String.fromCharCode.apply(null,r);if(/^(\[.*\]|\{.*\})\s*$/.test(n)){let r=new TextDecoder().decode(e),n=JSON.parse(r),i=[];if(eN(n,a.verification,i)||eN(e,a.verification,i))return{...t,value:n};throw Error(`Hash mismatch, calculated hashes ("${i.join('", "')}") are both different from expected hash "${a.verification.data}"`)}}catch{}let l=[];if(eN(e,a.verification,l))return{...t,value:e};throw Error(`Hash mismatch, calculated hashes ("${l.join('", "')}") are both different from expected hash "${a.verification.data}"`)}catch(e){return e.message=`Value of key: ${t.name} has an error: ${e.message}`,{...t,value:null,error:e}}})),eq=async(e,t,r)=>{if("Array"!==t.keyType)throw Error(`The "getArrayValues" method requires a schema definition with "keyType: Array",
         ${t}`);let n=[],a=r[t.key];if(!a||!a.value)return n;let i=await eS("Number","uint128+",a.value,t.name),s=[];for(let e=0;e<i;e++){let n=eA(t.key,e);r[n]||s.push(n)}try{let t=await e.provider?.getAllData(e.address,s);n.push(...t)}catch{}return n},eG=async(e,t)=>{let r=eR(t,e.schemas),n=r.map(e=>e.key),a=(await e.provider?.getAllData(e.address,n)).reduce((e,t)=>(e[t.key]=t.value,e),{}),i=r.map(e=>({...e,value:a[e.key]||null}));for(let t of r.filter(e=>"array"===e.keyType.toLowerCase()))try{let r={[t.key]:{key:t.key,value:a[t.key]}},n=await eq(e,t,r);n&&n.length>0&&(n.push(r[t.key]),i[i.findIndex(e=>e.key===t.key)]={...t,value:n})}catch(e){console.error(e)}return ex(i.map(({key:e,value:t})=>({keyName:e,value:t})),r)},eW=async(e,t)=>{let r=t;return(r||(r=e.schemas.map(e=>e.name).filter(e=>!el(e))),Array.isArray(r))?eG(e,r):(await eG(e,[r]))[0]},eH={ERC1271:"0x1626ba7e",ERC725X:"0x7545acac",ERC725Y:"0x629aa694",LSP0ERC725Account:"0x24871b3d",LSP1UniversalReceiver:"0x6bb56a14",LSP1UniversalReceiverDelegate:"0xa245bbda",LSP6KeyManager:"0x23f34c62",LSP7DigitalAsset:"0xb3c4928f",LSP8IdentifiableDigitalAsset:"0x3a271706",LSP9Vault:"0x28af17e6",LSP11BasicSocialRecovery:"0x049a28f1",LSP14Ownable2Step:"0x94be5999",LSP17Extendable:"0xa918fa6b",LSP17Extension:"0xcee78b40",LSP20CallVerification:"0x1a0eb6a5",LSP20CallVerifier:"0x0d6ecac7",LSP25ExecuteRelayCall:"0x5ac79908"},eK=async(e,t)=>{let r;r=eH[e]?eH[e]:e;try{return await t.provider.supportsInterface(t.address,r)}catch(e){throw Error(`Error checking the interface: ${e}`)}};function eZ(e){let t=BigInt(0),r=Object.keys(e).filter(e=>"ALL_PERMISSIONS"!==e);r.splice(0,0,"ALL_PERMISSIONS");for(let n=0;n<r.length;n+=1){let a=r[n],i=(0,p.uU)(N[a],{});a in e&&(e[a]?t|=i:t&=~i)}return(0,f.eV)((0,a.nj)(t),{size:32})}function eJ(e){let t={CHANGEOWNER:!1,ADDCONTROLLER:!1,EDITPERMISSIONS:!1,ADDEXTENSIONS:!1,CHANGEEXTENSIONS:!1,ADDUNIVERSALRECEIVERDELEGATE:!1,CHANGEUNIVERSALRECEIVERDELEGATE:!1,REENTRANCY:!1,SUPER_TRANSFERVALUE:!1,TRANSFERVALUE:!1,SUPER_CALL:!1,CALL:!1,SUPER_STATICCALL:!1,STATICCALL:!1,SUPER_DELEGATECALL:!1,DELEGATECALL:!1,DEPLOY:!1,SUPER_SETDATA:!1,SETDATA:!1,ENCRYPT:!1,DECRYPT:!1,SIGN:!1,EXECUTE_RELAY_CALL:!1,ERC4337_PERMISSION:!1,ALL_PERMISSIONS:!1},r=Object.keys(N),n="0x"===e?0n:(0,p.uU)(e);for(let e=0;e<r.length;e+=1){let a=r[e],i=(0,p.uU)(N[a]),s=(n&i)===i;t[a]=s}return t}function eY(e){return N[e]||(0,o.q)(e,{strict:!0})?N[e]||e:null}var eX=(e,t)=>{let r=t;if("0x"===r&&(r="0x0"),!(0,o.q)(r,{strict:!0}))throw Error("Invalid grantedPermissions string. It must be a valid 32-byte hex string.");let n=Array.isArray(e)?e:[e];return n.map(eY).every((e,t)=>{if(!e)throw Error(`Invalid permission string: ${n[t]}. It must be a valid 32-byte hex string or a known permission name.`);let a=BigInt(e);return(a&BigInt(r))===a})};function eQ(e,t){if(e){if("string"==typeof e)return new z((0,v.l)({chain:x.F,transport:(0,E.L)(e)}),t);if("function"==typeof e.request||"function"==typeof e.send)return new z(e,t);throw Error(`Incorrect or unsupported provider ${e}`)}}async function e0(e,t){if(!(0,m.P)(t.address))throw Error("Invalid address");if(!t.rpcUrl)throw Error("Missing RPC URL");return eK(e,{address:t.address,provider:t.provider||eQ(t.rpcUrl,t?.gas?t?.gas:1e6)})}var e1=class{options;constructor(e,t,r,n){if(!e)throw Error("Missing schema.");let a={ipfsGateway:"https://api.universalprofile.cloud/ipfs/",gas:1e6,throwSchemaErrors:!1},i=n?.gas?n?.gas:a.gas;this.options={schemas:this.validateSchemas(e.flatMap(e=>(e=>{let t;if(Array.isArray(e))throw Error("Input schema should be a ERC725JSONSchema and not an array.");if(!("name"in e)||!("key"in e)||!("keyType"in e))throw Error("Input schema object is missing 'name', 'key' and 'keyType' properties. Did you pass a valid ERC725JSONSchema object?");let r=e.keyType.toLowerCase();if("mapping"!==r&&"mappingwithgrouping"!==r||!e.name.includes("<")||!e.name.includes("|")||!e.name.includes(">"))return[e];if(-1===e.name.indexOf(":"))throw Error(`Input schema type is Mapping or MappingWithGroups but the key: ${e.key} is not valid (missing ':').`);let n=e.name.split(":"),a=e.key.substring(0,e.key.indexOf("<")),i={...e,name:n.shift(),key:a};if(1===n.length)return eO(n[0]).map(e=>({...i,name:`${i.name}:<${e}>`,key:`${i.key}<${e}>`}));t="<"!==n[0].charAt(0)||">"!==n[0].slice(-1)?[{...i,name:`${i.name}:${n[0]}`,key:`${i.key}`}]:eO(n[0]).map(e=>({...i,name:`${i.name}:<${e}>`,key:`${i.key}<${e}>`}));let s=eO(n[1]);return t.flatMap(e=>s.map(t=>({...e,name:`${e.name}:<${t}>`,key:`${e.key}<${t}>`})))})(e)),n?.throwSchemaErrors||a.throwSchemaErrors),address:t,provider:eQ(r,i),ipfsFetch:n?.ipfsFetch,ipfsConvertUrl:n?.ipfsConvertUrl,ipfsGateway:n?.ipfsGateway?function(e){let t=e;return e.endsWith("/")&&!e.endsWith("/ipfs/")?t=`${e}ipfs/`:e.endsWith("/ipfs")?t=`${e}/`:e.endsWith("/ipfs/")||(t=`${e}/ipfs/`),t}(n?.ipfsGateway):a.ipfsGateway,gas:i}}validateSchemas(e,t){return e.filter(e=>{("AssetURL"===e.valueContent||"JSONURL"===e.valueContent)&&console.warn(`[Deprecation notice] The schema with keyName: ${e.name} uses deprecated valueContent: ${e.valueContent}. It has been replaced by VerifiableURI. Decoding is backward compatible but value will be encoded as VerifiableURI.`);let r=null,n=[],a=[];if(e.name.replace(/<(.*?)>/g,(e,t)=>{null==r&&(r=!0);let i=/bytes\d*|string|bool|address|u?int\d*/.test(t);return i||(r&&=i,a.push(`invalid dynamic key type: ${t} in name`)),n.push(t),""}),!0===r){let t=0;e.key.replace(/<(.*?)>/g,(e,i)=>(n[t]!==i&&(r=!1,a.push(`dynamic ${n[t]} != ${i} in key`)),t++,""))}let i="";if(null==r&&(i=ef(e.name),e.key!==i&&(r=!1,a.push(`key hash ${i} != ${e.key}`))),!1===r){let r=`The schema with keyName: ${e.name} is skipped because ${a.join(", ")}`;if(t)throw Error(r);console.warn(r)}return!1!==r})}getAddressAndProvider(){if(!this.options.address||!(0,m.P)(this.options.address))throw Error("Missing ERC725 contract address.");if(!this.options.provider)throw Error("Missing provider.");return{address:this.options.address,provider:this.options.provider}}async getData(e){return this.getAddressAndProvider(),eW(this.options,e)}async fetchData(e){let t;t=Array.isArray(e)?e:e?[e]:this.options.schemas.map(e=>e.name).filter(e=>!el(e));let r=await this.getData(t),n=eR(t,this.options.schemas),a=await eV(n,r,this.options);return e&&!Array.isArray(e)&&a.length>0?a[0]:a}getSchema(e,t){return eF(e,t||this.options.schemas)}encodeData(e,t){return eI(e,t||this.options.schemas)}static encodeData(e,t){return eI(e,t)}decodeData(e,t,r=!1){return ex(e,t||this.options.schemas,r)}static decodeData(e,t,r=!1){return ex(e,t,r)}async getOwner(e){let{address:t,provider:r}=this.getAddressAndProvider();return r.getOwner(e||t)}async isValidSignature(e,t){if(!this.options.address||!(0,m.P)(this.options.address))throw Error("Missing ERC725 contract address.");if(!this.options.provider)throw Error("Missing provider.");return e_(e,t,this.options.address,this.options.provider)}static encodeKeyName(e,t){return ef(e,t)}encodeKeyName(e,t){return ef(e,t)}static decodeMappingKey(e,t){return ep(e,t)}decodeMappingKey(e,t){return ep(e,t)}async supportsInterface(e){let{address:t,provider:r}=this.getAddressAndProvider();return eK(e,{address:t,provider:r})}static async supportsInterface(e,t){return e0(e,t)}static encodePermissions(e){return eZ(e)}encodePermissions(e){return eZ(e)}static decodePermissions(e){return eJ(e)}decodePermissions(e){return eJ(e)}static checkPermissions(e,t){return eX(e,t)}checkPermissions(e,t){return eX(e,t)}static mapPermission(e){return eY(e)}mapPermission(e){return eY(e)}static encodeValueType(e,t){return et(e,t)}encodeValueType(e,t){return et(e,t)}static decodeValueType(e,t){return er(e,t)}decodeValueType(e,t){return er(e,t)}static encodeValueContent(e,t){return en(e,t)}encodeValueContent(e,t){return en(e,t)}static decodeValueContent(e,t){return ea(e,t)}decodeValueContent(e,t){return ea(e,t)}encodeDataSourceWithHash(e,t){return _(e,t)}static encodeDataSourceWithHash(e,t){return _(e,t)}decodeDataSourceWithHash(e){return V(e)}static decodeDataSourceWithHash(e){return V(e)}static getVerificationMethod(e){return eT(e)}getVerificationMethod(e){return eT(e)}static isDataAuthentic(e,t){return eN(e,t)}isDataAuthentic(e,t){return eN(e,t)}},e6=e1},46685:(e,t,r)=>{r.d(t,{_o:()=>m,Pj:()=>b,uT:()=>f,NV:()=>h});var n=r(65809),a=r(1162),i=r(71400),s=r(27761),o=r(94817);class l extends o.C{constructor({current:e,depth:t}){super("Unbalanced parentheses.",{metaMessages:[`"${e.trim()}" has too many ${t>0?"opening":"closing"} parentheses.`],details:`Depth "${t}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}let u=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);var c=r(91497);function f(e,t={}){if((0,c.Ji)(e))return function(e,t={}){let r=(0,c.ej)(e);if(!r)throw new s.s7({signature:e,type:"function"});let n=h(r.parameters),a=[],i=n.length;for(let e=0;e<i;e++)a.push(b(n[e],{modifiers:c.v7,structs:t,type:"function"}));let o=[];if(r.returns){let e=h(r.returns),n=e.length;for(let r=0;r<n;r++)o.push(b(e[r],{modifiers:c.v7,structs:t,type:"function"}))}return{name:r.name,type:"function",stateMutability:r.stateMutability??"nonpayable",inputs:a,outputs:o}}(e,t);if((0,c.Rv)(e))return function(e,t={}){let r=(0,c.iB)(e);if(!r)throw new s.s7({signature:e,type:"event"});let n=h(r.parameters),a=[],i=n.length;for(let e=0;e<i;e++)a.push(b(n[e],{modifiers:c.fC,structs:t,type:"event"}));return{name:r.name,type:"event",inputs:a}}(e,t);if((0,c.pc)(e))return function(e,t={}){let r=(0,c.kz)(e);if(!r)throw new s.s7({signature:e,type:"error"});let n=h(r.parameters),a=[],i=n.length;for(let e=0;e<i;e++)a.push(b(n[e],{structs:t,type:"error"}));return{name:r.name,type:"error",inputs:a}}(e,t);if((0,c.l9)(e))return function(e,t={}){let r=(0,c.Yo)(e);if(!r)throw new s.s7({signature:e,type:"constructor"});let n=h(r.parameters),a=[],i=n.length;for(let e=0;e<i;e++)a.push(b(n[e],{structs:t,type:"constructor"}));return{type:"constructor",stateMutability:r.stateMutability??"nonpayable",inputs:a}}(e,t);if((0,c.v8)(e)){var r=e;let t=(0,c.If)(r);if(!t)throw new s.s7({signature:r,type:"fallback"});return{type:"fallback",stateMutability:t.stateMutability??"nonpayable"}}if((0,c.sP)(e))return{type:"receive",stateMutability:"payable"};throw new s.x8({signature:e})}let d=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,p=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,y=/^u?int$/;function b(e,t){var r,s;let o,l=function(e,t,r){let n="";if(r)for(let e of Object.entries(r)){if(!e)continue;let t="";for(let r of e[1])t+=`[${r.type}${r.name?`:${r.name}`:""}]`;n+=`(${e[0]}{${t}})`}return t?`${t}:${e}${n}`:e}(e,t?.type,t?.structs);if(u.has(l))return u.get(l);let f=n.wj.test(e),w=(0,n.Yv)(f?p:d,e);if(!w)throw new i.dV({param:e});if(w.name&&("address"===(r=w.name)||"bool"===r||"function"===r||"string"===r||"tuple"===r||n.BD.test(r)||n.Ge.test(r)||g.test(r)))throw new i.zd({param:e,name:w.name});let v=w.name?{name:w.name}:{},E="indexed"===w.modifier?{indexed:!0}:{},x=t?.structs??{},$={};if(f){o="tuple";let e=h(w.type),t=[],r=e.length;for(let n=0;n<r;n++)t.push(b(e[n],{structs:x}));$={components:t}}else if(w.type in x)o="tuple",$={components:x[w.type]};else if(y.test(w.type))o=`${w.type}256`;else if("address payable"===w.type)o="address";else if(o=w.type,t?.type!=="struct"&&!m(o))throw new a.UG({type:o});if(w.modifier){if(!t?.modifiers?.has?.(w.modifier))throw new i.NO({param:e,type:t?.type,modifier:w.modifier});if(c.v7.has(w.modifier)&&(s=o,!w.array&&"bytes"!==s&&"string"!==s&&"tuple"!==s))throw new i.Pj({param:e,type:t?.type,modifier:w.modifier})}let A={type:`${o}${w.array??""}`,...v,...E,...$};return u.set(l,A),A}function h(e,t=[],r="",n=0){let a=e.trim().length;for(let i=0;i<a;i++){let a=e[i],s=e.slice(i+1);switch(a){case",":return 0===n?h(s,[...t,r.trim()]):h(s,t,`${r}${a}`,n);case"(":return h(s,t,`${r}${a}`,n+1);case")":return h(s,t,`${r}${a}`,n-1);default:return h(s,t,`${r}${a}`,n)}}if(""===r)return t;if(0!==n)throw new l({current:r,depth:n});return t.push(r.trim()),t}function m(e){return"address"===e||"bool"===e||"function"===e||"string"===e||n.BD.test(e)||n.Ge.test(e)}let g=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/},49048:(e,t,r)=>{r.d(t,{M:()=>a});var n=r(33450);function a({blockNumber:e,chain:t,contract:r}){let a=t?.contracts?.[r];if(!a)throw new n.rj({chain:t,contract:{name:r}});if(e&&a.blockCreated&&a.blockCreated>e)throw new n.rj({blockNumber:e,chain:t,contract:{name:r,blockCreated:a.blockCreated}});return a.address}},50583:(e,t,r)=>{r.d(t,{Xd:()=>a,m8:()=>n});let n="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",a="0x0000000000000000000000000000000000000000"},54718:(e,t,r)=>{r.d(t,{Sl:()=>a,X:()=>s,eV:()=>o,kK:()=>i});var n=r(80170);function a(e,t){if(n.Ej(e)>t)throw new n.u({givenSize:n.Ej(e),maxSize:t})}function i(e,t){if("number"==typeof t&&t>0&&t>n.Ej(e)-1)throw new n.ii({offset:t,position:"start",size:n.Ej(e)})}function s(e,t,r){if("number"==typeof t&&"number"==typeof r&&n.Ej(e)!==r-t)throw new n.ii({offset:r,position:"end",size:n.Ej(e)})}function o(e,t={}){let{dir:r,size:a=32}=t;if(0===a)return e;let i=e.replace("0x","");if(i.length>2*a)throw new n.Fl({size:Math.ceil(i.length/2),targetSize:a,type:"Hex"});return`0x${i["right"===r?"padEnd":"padStart"](2*a,"0")}`}},55254:(e,t,r)=>{r.d(t,{secp256k1:()=>eA});var n=r(62777),a=r(23084);class i extends a.Vw{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,(0,a.sd)(e);let r=(0,a.ZJ)(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let n=this.blockLen,i=new Uint8Array(n);i.set(r.length>n?e.create().update(r).digest():r);for(let e=0;e<i.length;e++)i[e]^=54;this.iHash.update(i),this.oHash=e.create();for(let e=0;e<i.length;e++)i[e]^=106;this.oHash.update(i),(0,a.uH)(i)}update(e){return(0,a.CC)(this),this.iHash.update(e),this}digestInto(e){(0,a.CC)(this),(0,a.DO)(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:t,iHash:r,finished:n,destroyed:a,blockLen:i,outputLen:s}=this;return e.finished=n,e.destroyed=a,e.blockLen=i,e.outputLen=s,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}let s=(e,t,r)=>new i(e,t).update(r).digest();s.create=(e,t)=>new i(e,t);let o=BigInt(0),l=BigInt(1);function u(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function c(e){if(!u(e))throw Error("Uint8Array expected")}function f(e,t){if("boolean"!=typeof t)throw Error(e+" boolean expected, got "+t)}function d(e){let t=e.toString(16);return 1&t.length?"0"+t:t}function p(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);return""===e?o:BigInt("0x"+e)}let y="function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex,b=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function h(e){if(c(e),y)return e.toHex();let t="";for(let r=0;r<e.length;r++)t+=b[e[r]];return t}let m={_0:48,_9:57,A:65,F:70,a:97,f:102};function g(e){return e>=m._0&&e<=m._9?e-m._0:e>=m.A&&e<=m.F?e-(m.A-10):e>=m.a&&e<=m.f?e-(m.a-10):void 0}function w(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);if(y)return Uint8Array.fromHex(e);let t=e.length,r=t/2;if(t%2)throw Error("hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(r);for(let t=0,a=0;t<r;t++,a+=2){let r=g(e.charCodeAt(a)),i=g(e.charCodeAt(a+1));if(void 0===r||void 0===i)throw Error('hex string expected, got non-hex character "'+(e[a]+e[a+1])+'" at index '+a);n[t]=16*r+i}return n}function v(e){return p(h(e))}function E(e){return c(e),p(h(Uint8Array.from(e).reverse()))}function x(e,t){return w(e.toString(16).padStart(2*t,"0"))}function $(e,t){return x(e,t).reverse()}function A(e,t,r){let n;if("string"==typeof t)try{n=w(t)}catch(t){throw Error(e+" must be hex string or Uint8Array, cause: "+t)}else if(u(t))n=Uint8Array.from(t);else throw Error(e+" must be hex string or Uint8Array");let a=n.length;if("number"==typeof r&&a!==r)throw Error(e+" of length "+r+" expected, got "+a);return n}function P(...e){let t=0;for(let r=0;r<e.length;r++){let n=e[r];c(n),t+=n.length}let r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){let a=e[t];r.set(a,n),n+=a.length}return r}let C=e=>"bigint"==typeof e&&o<=e;function k(e,t,r){return C(e)&&C(t)&&C(r)&&t<=e&&e<r}function S(e,t,r,n){if(!k(t,r,n))throw Error("expected valid "+e+": "+r+" <= n < "+n+", got "+t)}let I=e=>(l<<BigInt(e))-l,T=e=>new Uint8Array(e),B=e=>Uint8Array.from(e),N={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||u(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function R(e,t,r={}){let n=(t,r,n)=>{let a=N[r];if("function"!=typeof a)throw Error("invalid validator function");let i=e[t];if((!n||void 0!==i)&&!a(i,e))throw Error("param "+String(t)+" is invalid. Expected "+r+", got "+i)};for(let[e,r]of Object.entries(t))n(e,r,!1);for(let[e,t]of Object.entries(r))n(e,t,!0);return e}function M(e){let t=new WeakMap;return(r,...n)=>{let a=t.get(r);if(void 0!==a)return a;let i=e(r,...n);return t.set(r,i),i}}let O=BigInt(0),L=BigInt(1),j=BigInt(2),z=BigInt(3),U=BigInt(4),D=BigInt(5),F=BigInt(8);function _(e,t){let r=e%t;return r>=O?r:t+r}function V(e,t,r){let n=e;for(;t-- >O;)n*=n,n%=r;return n}function q(e,t){if(e===O)throw Error("invert: expected non-zero number");if(t<=O)throw Error("invert: expected positive modulus, got "+t);let r=_(e,t),n=t,a=O,i=L,s=L,o=O;for(;r!==O;){let e=n/r,t=n%r,l=a-s*e,u=i-o*e;n=r,r=t,a=s,i=o,s=l,o=u}if(n!==L)throw Error("invert: does not exist");return _(a,t)}function G(e,t){let r=(e.ORDER+L)/U,n=e.pow(t,r);if(!e.eql(e.sqr(n),t))throw Error("Cannot find square root");return n}function W(e,t){let r=(e.ORDER-D)/F,n=e.mul(t,j),a=e.pow(n,r),i=e.mul(t,a),s=e.mul(e.mul(i,j),a),o=e.mul(i,e.sub(s,e.ONE));if(!e.eql(e.sqr(o),t))throw Error("Cannot find square root");return o}let H=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function K(e,t,r=!1){let n=Array(t.length).fill(r?e.ZERO:void 0),a=t.reduce((t,r,a)=>e.is0(r)?t:(n[a]=t,e.mul(t,r)),e.ONE),i=e.inv(a);return t.reduceRight((t,r,a)=>e.is0(r)?t:(n[a]=e.mul(t,n[a]),e.mul(t,r)),i),n}function Z(e,t){let r=(e.ORDER-L)/j,n=e.pow(t,r),a=e.eql(n,e.ONE),i=e.eql(n,e.ZERO),s=e.eql(n,e.neg(e.ONE));if(!a&&!i&&!s)throw Error("invalid Legendre symbol result");return a?1:i?0:-1}function J(e,t){void 0!==t&&(0,a.Fe)(t);let r=void 0!==t?t:e.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function Y(e,t,r=!1,n={}){let a;if(e<=O)throw Error("invalid field: expected ORDER > 0, got "+e);let{nBitLength:i,nByteLength:s}=J(e,t);if(s>2048)throw Error("invalid field: expected ORDER of <= 2048 bytes");let o=Object.freeze({ORDER:e,isLE:r,BITS:i,BYTES:s,MASK:I(i),ZERO:O,ONE:L,create:t=>_(t,e),isValid:t=>{if("bigint"!=typeof t)throw Error("invalid field element: expected bigint, got "+typeof t);return O<=t&&t<e},is0:e=>e===O,isOdd:e=>(e&L)===L,neg:t=>_(-t,e),eql:(e,t)=>e===t,sqr:t=>_(t*t,e),add:(t,r)=>_(t+r,e),sub:(t,r)=>_(t-r,e),mul:(t,r)=>_(t*r,e),pow:(e,t)=>(function(e,t,r){if(r<O)throw Error("invalid exponent, negatives unsupported");if(r===O)return e.ONE;if(r===L)return t;let n=e.ONE,a=t;for(;r>O;)r&L&&(n=e.mul(n,a)),a=e.sqr(a),r>>=L;return n})(o,e,t),div:(t,r)=>_(t*q(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>q(t,e),sqrt:n.sqrt||(t=>(a||(a=e%U===z?G:e%F===D?W:function(e){if(e<BigInt(3))throw Error("sqrt is not defined for small field");let t=e-L,r=0;for(;t%j===O;)t/=j,r++;let n=j,a=Y(e);for(;1===Z(a,n);)if(n++>1e3)throw Error("Cannot find square root: probably non-prime P");if(1===r)return G;let i=a.pow(n,t),s=(t+L)/j;return function(e,n){if(e.is0(n))return n;if(1!==Z(e,n))throw Error("Cannot find square root");let a=r,o=e.mul(e.ONE,i),l=e.pow(n,t),u=e.pow(n,s);for(;!e.eql(l,e.ONE);){if(e.is0(l))return e.ZERO;let t=1,r=e.sqr(l);for(;!e.eql(r,e.ONE);)if(t++,r=e.sqr(r),t===a)throw Error("Cannot find square root");let n=L<<BigInt(a-t-1),i=e.pow(o,n);a=t,o=e.sqr(i),l=e.mul(l,o),u=e.mul(u,i)}return u}}(e)),a(o,t))),toBytes:e=>r?$(e,s):x(e,s),fromBytes:e=>{if(e.length!==s)throw Error("Field.fromBytes: expected "+s+" bytes, got "+e.length);return r?E(e):v(e)},invertBatch:e=>K(o,e),cmov:(e,t,r)=>r?t:e});return Object.freeze(o)}function X(e){if("bigint"!=typeof e)throw Error("field order must be bigint");return Math.ceil(e.toString(2).length/8)}function Q(e){let t=X(e);return t+Math.ceil(t/2)}let ee=BigInt(0),et=BigInt(1);function er(e,t){let r=t.negate();return e?r:t}function en(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw Error("invalid window size, expected [1.."+t+"], got W="+e)}function ea(e,t){en(e,t);let r=Math.ceil(t/e)+1,n=2**(e-1),a=2**e;return{windows:r,windowSize:n,mask:I(e),maxNumber:a,shiftBy:BigInt(e)}}function ei(e,t,r){let{windowSize:n,mask:a,maxNumber:i,shiftBy:s}=r,o=Number(e&a),l=e>>s;o>n&&(o-=i,l+=et);let u=t*n,c=u+Math.abs(o)-1,f=0===o;return{nextN:l,offset:c,isZero:f,isNeg:o<0,isNegF:t%2!=0,offsetF:u}}let es=new WeakMap,eo=new WeakMap;function el(e){return eo.get(e)||1}function eu(e){return R(e.Fp,H.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"})),R(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...J(e.n,e.nBitLength),...e,...{p:e.Fp.ORDER}})}function ec(e){void 0!==e.lowS&&f("lowS",e.lowS),void 0!==e.prehash&&f("prehash",e.prehash)}class ef extends Error{constructor(e=""){super(e)}}let ed={Err:ef,_tlv:{encode:(e,t)=>{let{Err:r}=ed;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(1&t.length)throw new r("tlv.encode: unpadded data");let n=t.length/2,a=d(n);if(a.length/2&128)throw new r("tlv.encode: long form length too big");let i=n>127?d(a.length/2|128):"";return d(e)+i+a+t},decode(e,t){let{Err:r}=ed,n=0;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length<2||t[n++]!==e)throw new r("tlv.decode: wrong tlv");let a=t[n++],i=0;if(128&a){let e=127&a;if(!e)throw new r("tlv.decode(long): indefinite length not supported");if(e>4)throw new r("tlv.decode(long): byte length is too big");let s=t.subarray(n,n+e);if(s.length!==e)throw new r("tlv.decode: length bytes not complete");if(0===s[0])throw new r("tlv.decode(long): zero leftmost byte");for(let e of s)i=i<<8|e;if(n+=e,i<128)throw new r("tlv.decode(long): not minimal encoding")}else i=a;let s=t.subarray(n,n+i);if(s.length!==i)throw new r("tlv.decode: wrong value length");return{v:s,l:t.subarray(n+i)}}},_int:{encode(e){let{Err:t}=ed;if(e<ep)throw new t("integer: negative integers are not allowed");let r=d(e);if(8&Number.parseInt(r[0],16)&&(r="00"+r),1&r.length)throw new t("unexpected DER parsing assertion: unpadded hex");return r},decode(e){let{Err:t}=ed;if(128&e[0])throw new t("invalid signature integer: negative");if(0===e[0]&&!(128&e[1]))throw new t("invalid signature integer: unnecessary leading zero");return v(e)}},toSig(e){let{Err:t,_int:r,_tlv:n}=ed,a=A("signature",e),{v:i,l:s}=n.decode(48,a);if(s.length)throw new t("invalid signature: left bytes after parsing");let{v:o,l:l}=n.decode(2,i),{v:u,l:c}=n.decode(2,l);if(c.length)throw new t("invalid signature: left bytes after parsing");return{r:r.decode(o),s:r.decode(u)}},hexFromSig(e){let{_tlv:t,_int:r}=ed,n=t.encode(2,r.encode(e.r)),a=t.encode(2,r.encode(e.s));return t.encode(48,n+a)}},ep=BigInt(0),ey=BigInt(1),eb=(BigInt(2),BigInt(3)),eh=BigInt(4),em=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),eg=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),ew=BigInt(0),ev=BigInt(1),eE=BigInt(2),ex=(e,t)=>(e+t/eE)/t,e$=Y(em,void 0,void 0,{sqrt:function(e){let t=BigInt(3),r=BigInt(6),n=BigInt(11),a=BigInt(22),i=BigInt(23),s=BigInt(44),o=BigInt(88),l=e*e*e%em,u=l*l*e%em,c=V(u,t,em)*u%em,f=V(c,t,em)*u%em,d=V(f,eE,em)*l%em,p=V(d,n,em)*d%em,y=V(p,a,em)*p%em,b=V(y,s,em)*y%em,h=V(b,o,em)*b%em,m=V(h,s,em)*y%em,g=V(m,t,em)*u%em,w=V(g,i,em)*p%em,v=V(w,r,em)*l%em,E=V(v,eE,em);if(!e$.eql(e$.sqr(E),e))throw Error("Cannot find square root");return E}}),eA=function(e,t){let r=t=>(function(e){let t=function(e){let t=eu(e);return R(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:r,n:n,nByteLength:a,nBitLength:i}=t,s=r.BYTES+1,c=2*r.BYTES+1;function d(e){return _(e,n)}let{ProjectivePoint:p,normPrivateKeyToScalar:y,weierstrassEquation:b,isWithinCurveOrder:m}=function(e){var t;let r=function(e){let t=eu(e);R(t,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});let{endo:r,Fp:n,a}=t;if(r){if(!n.eql(a,n.ZERO))throw Error("invalid endo: CURVE.a must be 0");if("object"!=typeof r||"bigint"!=typeof r.beta||"function"!=typeof r.splitScalar)throw Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...t})}(e),{Fp:n}=r,a=Y(r.n,r.nBitLength),i=r.toBytes||((e,t,r)=>{let a=t.toAffine();return P(Uint8Array.from([4]),n.toBytes(a.x),n.toBytes(a.y))}),s=r.fromBytes||(e=>{let t=e.subarray(1);return{x:n.fromBytes(t.subarray(0,n.BYTES)),y:n.fromBytes(t.subarray(n.BYTES,2*n.BYTES))}});function c(e){let{a:t,b:a}=r,i=n.sqr(e),s=n.mul(i,e);return n.add(n.add(s,n.mul(e,t)),a)}function d(e,t){let r=n.sqr(t),a=c(e);return n.eql(r,a)}if(!d(r.Gx,r.Gy))throw Error("bad curve params: generator point");let p=n.mul(n.pow(r.a,eb),eh),y=n.mul(n.sqr(r.b),BigInt(27));if(n.is0(n.add(p,y)))throw Error("bad curve params: a or b");function b(e){let t,{allowedPrivateKeyLengths:n,nByteLength:a,wrapPrivateKey:i,n:s}=r;if(n&&"bigint"!=typeof e){if(u(e)&&(e=h(e)),"string"!=typeof e||!n.includes(e.length))throw Error("invalid private key");e=e.padStart(2*a,"0")}try{t="bigint"==typeof e?e:v(A("private key",e,a))}catch(t){throw Error("invalid private key, expected hex or "+a+" bytes, got "+typeof e)}return i&&(t=_(t,s)),S("private key",t,ey,s),t}function m(e){if(!(e instanceof E))throw Error("ProjectivePoint expected")}let g=M((e,t)=>{let{px:r,py:a,pz:i}=e;if(n.eql(i,n.ONE))return{x:r,y:a};let s=e.is0();null==t&&(t=s?n.ONE:n.inv(i));let o=n.mul(r,t),l=n.mul(a,t),u=n.mul(i,t);if(s)return{x:n.ZERO,y:n.ZERO};if(!n.eql(u,n.ONE))throw Error("invZ was invalid");return{x:o,y:l}}),w=M(e=>{if(e.is0()){if(r.allowInfinityPoint&&!n.is0(e.py))return;throw Error("bad point: ZERO")}let{x:t,y:a}=e.toAffine();if(!n.isValid(t)||!n.isValid(a))throw Error("bad point: x or y not FE");if(!d(t,a))throw Error("bad point: equation left != right");if(!e.isTorsionFree())throw Error("bad point: not in prime-order subgroup");return!0});class E{constructor(e,t,r){if(null==e||!n.isValid(e))throw Error("x required");if(null==t||!n.isValid(t)||n.is0(t))throw Error("y required");if(null==r||!n.isValid(r))throw Error("z required");this.px=e,this.py=t,this.pz=r,Object.freeze(this)}static fromAffine(e){let{x:t,y:r}=e||{};if(!e||!n.isValid(t)||!n.isValid(r))throw Error("invalid affine point");if(e instanceof E)throw Error("projective point not allowed");let a=e=>n.eql(e,n.ZERO);return a(t)&&a(r)?E.ZERO:new E(t,r,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){let t=K(n,e.map(e=>e.pz));return e.map((e,r)=>e.toAffine(t[r])).map(E.fromAffine)}static fromHex(e){let t=E.fromAffine(s(A("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return E.BASE.multiply(b(e))}static msm(e,t){return function(e,t,r,n){if(!Array.isArray(r))throw Error("array expected");r.forEach((t,r)=>{if(!(t instanceof e))throw Error("invalid point at index "+r)});if(!Array.isArray(n))throw Error("array of scalars expected");n.forEach((e,r)=>{if(!t.isValid(e))throw Error("invalid scalar at index "+r)});let a=r.length,i=n.length;if(a!==i)throw Error("arrays of points and scalars must have equal length");let s=e.ZERO,u=function(e){let t;for(t=0;e>o;e>>=l,t+=1);return t}(BigInt(a)),c=1;u>12?c=u-3:u>4?c=u-2:u>0&&(c=2);let f=I(c),d=Array(Number(f)+1).fill(s),p=Math.floor((t.BITS-1)/c)*c,y=s;for(let e=p;e>=0;e-=c){d.fill(s);for(let t=0;t<i;t++){let a=Number(n[t]>>BigInt(e)&f);d[a]=d[a].add(r[t])}let t=s;for(let e=d.length-1,r=s;e>0;e--)r=r.add(d[e]),t=t.add(r);if(y=y.add(t),0!==e)for(let e=0;e<c;e++)y=y.double()}return y}(E,a,e,t)}_setWindowSize(e){C.setWindowSize(this,e)}assertValidity(){w(this)}hasEvenY(){let{y:e}=this.toAffine();if(n.isOdd)return!n.isOdd(e);throw Error("Field doesn't support isOdd")}equals(e){m(e);let{px:t,py:r,pz:a}=this,{px:i,py:s,pz:o}=e,l=n.eql(n.mul(t,o),n.mul(i,a)),u=n.eql(n.mul(r,o),n.mul(s,a));return l&&u}negate(){return new E(this.px,n.neg(this.py),this.pz)}double(){let{a:e,b:t}=r,a=n.mul(t,eb),{px:i,py:s,pz:o}=this,l=n.ZERO,u=n.ZERO,c=n.ZERO,f=n.mul(i,i),d=n.mul(s,s),p=n.mul(o,o),y=n.mul(i,s);return y=n.add(y,y),c=n.mul(i,o),c=n.add(c,c),l=n.mul(e,c),u=n.mul(a,p),u=n.add(l,u),l=n.sub(d,u),u=n.add(d,u),u=n.mul(l,u),l=n.mul(y,l),c=n.mul(a,c),p=n.mul(e,p),y=n.sub(f,p),y=n.mul(e,y),y=n.add(y,c),c=n.add(f,f),f=n.add(c,f),f=n.add(f,p),f=n.mul(f,y),u=n.add(u,f),p=n.mul(s,o),p=n.add(p,p),f=n.mul(p,y),l=n.sub(l,f),c=n.mul(p,d),c=n.add(c,c),new E(l,u,c=n.add(c,c))}add(e){m(e);let{px:t,py:a,pz:i}=this,{px:s,py:o,pz:l}=e,u=n.ZERO,c=n.ZERO,f=n.ZERO,d=r.a,p=n.mul(r.b,eb),y=n.mul(t,s),b=n.mul(a,o),h=n.mul(i,l),g=n.add(t,a),w=n.add(s,o);g=n.mul(g,w),w=n.add(y,b),g=n.sub(g,w),w=n.add(t,i);let v=n.add(s,l);return w=n.mul(w,v),v=n.add(y,h),w=n.sub(w,v),v=n.add(a,i),u=n.add(o,l),v=n.mul(v,u),u=n.add(b,h),v=n.sub(v,u),f=n.mul(d,w),u=n.mul(p,h),f=n.add(u,f),u=n.sub(b,f),f=n.add(b,f),c=n.mul(u,f),b=n.add(y,y),b=n.add(b,y),h=n.mul(d,h),w=n.mul(p,w),b=n.add(b,h),h=n.sub(y,h),h=n.mul(d,h),w=n.add(w,h),y=n.mul(b,w),c=n.add(c,y),y=n.mul(v,w),u=n.mul(g,u),u=n.sub(u,y),y=n.mul(g,b),f=n.mul(v,f),new E(u,c,f=n.add(f,y))}subtract(e){return this.add(e.negate())}is0(){return this.equals(E.ZERO)}wNAF(e){return C.wNAFCached(this,e,E.normalizeZ)}multiplyUnsafe(e){let{endo:t,n:a}=r;S("scalar",e,ep,a);let i=E.ZERO;if(e===ep)return i;if(this.is0()||e===ey)return this;if(!t||C.hasPrecomputes(this))return C.wNAFCachedUnsafe(this,e,E.normalizeZ);let{k1neg:s,k1:o,k2neg:l,k2:u}=t.splitScalar(e),c=i,f=i,d=this;for(;o>ep||u>ep;)o&ey&&(c=c.add(d)),u&ey&&(f=f.add(d)),d=d.double(),o>>=ey,u>>=ey;return s&&(c=c.negate()),l&&(f=f.negate()),f=new E(n.mul(f.px,t.beta),f.py,f.pz),c.add(f)}multiply(e){let t,a,{endo:i,n:s}=r;if(S("scalar",e,ey,s),i){let{k1neg:r,k1:s,k2neg:o,k2:l}=i.splitScalar(e),{p:u,f:c}=this.wNAF(s),{p:f,f:d}=this.wNAF(l);u=C.constTimeNegate(r,u),f=C.constTimeNegate(o,f),f=new E(n.mul(f.px,i.beta),f.py,f.pz),t=u.add(f),a=c.add(d)}else{let{p:r,f:n}=this.wNAF(e);t=r,a=n}return E.normalizeZ([t,a])[0]}multiplyAndAddUnsafe(e,t,r){let n=E.BASE,a=(e,t)=>t!==ep&&t!==ey&&e.equals(n)?e.multiply(t):e.multiplyUnsafe(t),i=a(this,t).add(a(e,r));return i.is0()?void 0:i}toAffine(e){return g(this,e)}isTorsionFree(){let{h:e,isTorsionFree:t}=r;if(e===ey)return!0;if(t)return t(E,this);throw Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:e,clearCofactor:t}=r;return e===ey?this:t?t(E,this):this.multiplyUnsafe(r.h)}toRawBytes(e=!0){return f("isCompressed",e),this.assertValidity(),i(E,this,e)}toHex(e=!0){return f("isCompressed",e),h(this.toRawBytes(e))}}E.BASE=new E(r.Gx,r.Gy,n.ONE),E.ZERO=new E(n.ZERO,n.ONE,n.ZERO);let{endo:x,nBitLength:$}=r,C=(t=x?Math.ceil($/2):$,{constTimeNegate:er,hasPrecomputes:e=>1!==el(e),unsafeLadder(e,t,r=E.ZERO){let n=e;for(;t>ee;)t&et&&(r=r.add(n)),n=n.double(),t>>=et;return r},precomputeWindow(e,r){let{windows:n,windowSize:a}=ea(r,t),i=[],s=e,o=s;for(let e=0;e<n;e++){o=s,i.push(o);for(let e=1;e<a;e++)o=o.add(s),i.push(o);s=o.double()}return i},wNAF(e,r,n){let a=E.ZERO,i=E.BASE,s=ea(e,t);for(let e=0;e<s.windows;e++){let{nextN:t,offset:o,isZero:l,isNeg:u,isNegF:c,offsetF:f}=ei(n,e,s);n=t,l?i=i.add(er(c,r[f])):a=a.add(er(u,r[o]))}return{p:a,f:i}},wNAFUnsafe(e,r,n,a=E.ZERO){let i=ea(e,t);for(let e=0;e<i.windows&&n!==ee;e++){let{nextN:t,offset:s,isZero:o,isNeg:l}=ei(n,e,i);if(n=t,!o){let e=r[s];a=a.add(l?e.negate():e)}}return a},getPrecomputes(e,t,r){let n=es.get(t);return n||(n=this.precomputeWindow(t,e),1!==e&&es.set(t,r(n))),n},wNAFCached(e,t,r){let n=el(e);return this.wNAF(n,this.getPrecomputes(n,e,r),t)},wNAFCachedUnsafe(e,t,r,n){let a=el(e);return 1===a?this.unsafeLadder(e,t,n):this.wNAFUnsafe(a,this.getPrecomputes(a,e,r),t,n)},setWindowSize(e,r){en(r,t),eo.set(e,r),es.delete(e)}});return{CURVE:r,ProjectivePoint:E,normPrivateKeyToScalar:b,weierstrassEquation:c,isWithinCurveOrder:function(e){return k(e,ey,r.n)}}}({...t,toBytes(e,t,n){let a=t.toAffine(),i=r.toBytes(a.x);return(f("isCompressed",n),n)?P(Uint8Array.from([t.hasEvenY()?2:3]),i):P(Uint8Array.from([4]),i,r.toBytes(a.y))},fromBytes(e){let t=e.length,n=e[0],a=e.subarray(1);if(t===s&&(2===n||3===n)){let e,t=v(a);if(!k(t,ey,r.ORDER))throw Error("Point is not on curve");let i=b(t);try{e=r.sqrt(i)}catch(e){throw Error("Point is not on curve"+(e instanceof Error?": "+e.message:""))}return(1&n)==1!=((e&ey)===ey)&&(e=r.neg(e)),{x:t,y:e}}if(t===c&&4===n)return{x:r.fromBytes(a.subarray(0,r.BYTES)),y:r.fromBytes(a.subarray(r.BYTES,2*r.BYTES))};throw Error("invalid Point, expected length of "+s+", or uncompressed "+c+", got "+t)}}),g=(e,t,r)=>v(e.slice(t,r));class C{constructor(e,t,r){S("r",e,ey,n),S("s",t,ey,n),this.r=e,this.s=t,null!=r&&(this.recovery=r),Object.freeze(this)}static fromCompact(e){return new C(g(e=A("compactSignature",e,2*a),0,a),g(e,a,2*a))}static fromDER(e){let{r:t,s:r}=ed.toSig(A("DER",e));return new C(t,r)}assertValidity(){}addRecoveryBit(e){return new C(this.r,this.s,e)}recoverPublicKey(e){let{r:a,s:i,recovery:s}=this,o=j(A("msgHash",e));if(null==s||![0,1,2,3].includes(s))throw Error("recovery id invalid");let l=2===s||3===s?a+t.n:a;if(l>=r.ORDER)throw Error("recovery id 2 or 3 invalid");let u=(1&s)==0?"02":"03",c=p.fromHex(u+h(x(l,r.BYTES))),f=q(l,n),y=d(-o*f),b=d(i*f),m=p.BASE.multiplyAndAddUnsafe(c,y,b);if(!m)throw Error("point at infinify");return m.assertValidity(),m}hasHighS(){return this.s>n>>ey}normalizeS(){return this.hasHighS()?new C(this.r,d(-this.s),this.recovery):this}toDERRawBytes(){return w(this.toDERHex())}toDERHex(){return ed.hexFromSig(this)}toCompactRawBytes(){return w(this.toCompactHex())}toCompactHex(){return h(x(this.r,a))+h(x(this.s,a))}}function N(e){if("bigint"==typeof e)return!1;if(e instanceof p)return!0;let n=A("key",e).length,i=r.BYTES,s=i+1;if(!t.allowedPrivateKeyLengths&&a!==s)return n===s||n===2*i+1}let O=t.bits2int||function(e){if(e.length>8192)throw Error("input is too large");let t=v(e),r=8*e.length-i;return r>0?t>>BigInt(r):t},j=t.bits2int_modN||function(e){return d(O(e))},z=I(i);function U(e){return S("num < 2^"+i,e,ep,z),x(e,a)}let D={lowS:t.lowS,prehash:!1},F={lowS:t.lowS,prehash:!1};return p.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e,t=!0){return p.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t,r=!0){if(!0===N(e))throw Error("first arg must be private key");if(!1===N(t))throw Error("second arg must be public key");return p.fromHex(t).multiply(y(e)).toRawBytes(r)},sign:function(e,a,i=D){let{seed:s,k2sig:o}=function(e,a,i=D){if(["recovered","canonical"].some(e=>e in i))throw Error("sign() legacy options not supported");let{hash:s,randomBytes:o}=t,{lowS:l,prehash:u,extraEntropy:c}=i;null==l&&(l=!0),e=A("msgHash",e),ec(i),u&&(e=A("prehashed msgHash",s(e)));let f=j(e),b=y(a),h=[U(b),U(f)];if(null!=c&&!1!==c){let e=!0===c?o(r.BYTES):c;h.push(A("extraEntropy",e))}return{seed:P(...h),k2sig:function(e){var t;let r=O(e);if(!m(r))return;let a=q(r,n),i=p.BASE.multiply(r).toAffine(),s=d(i.x);if(s===ep)return;let o=d(a*d(f+s*b));if(o===ep)return;let u=2*(i.x!==s)|Number(i.y&ey),c=o;return l&&o>n>>ey&&(c=(t=o)>n>>ey?d(-t):t,u^=1),new C(s,c,u)}}}(e,a,i);return(function(e,t,r){if("number"!=typeof e||e<2)throw Error("hashLen must be a number");if("number"!=typeof t||t<2)throw Error("qByteLen must be a number");if("function"!=typeof r)throw Error("hmacFn must be a function");let n=T(e),a=T(e),i=0,s=()=>{n.fill(1),a.fill(0),i=0},o=(...e)=>r(a,n,...e),l=(e=T(0))=>{a=o(B([0]),e),n=o(),0!==e.length&&(a=o(B([1]),e),n=o())},u=()=>{if(i++>=1e3)throw Error("drbg: tried 1000 values");let e=0,r=[];for(;e<t;){let t=(n=o()).slice();r.push(t),e+=n.length}return P(...r)};return(e,t)=>{let r;for(s(),l(e);!(r=t(u()));)l();return s(),r}})(t.hash.outputLen,t.nByteLength,t.hmac)(s,o)},verify:function(e,r,a,i=F){let s,o;r=A("msgHash",r),a=A("publicKey",a);let{lowS:l,prehash:c,format:f}=i;if(ec(i),"strict"in i)throw Error("options.strict was renamed to lowS");if(void 0!==f&&"compact"!==f&&"der"!==f)throw Error("format must be compact or der");let y="string"==typeof e||u(e),b=!y&&!f&&"object"==typeof e&&null!==e&&"bigint"==typeof e.r&&"bigint"==typeof e.s;if(!y&&!b)throw Error("invalid signature, expected Uint8Array, hex string or Signature instance");try{if(b&&(o=new C(e.r,e.s)),y){try{"compact"!==f&&(o=C.fromDER(e))}catch(e){if(!(e instanceof ed.Err))throw e}o||"der"===f||(o=C.fromCompact(e))}s=p.fromHex(a)}catch(e){return!1}if(!o||l&&o.hasHighS())return!1;c&&(r=t.hash(r));let{r:h,s:m}=o,g=j(r),w=q(m,n),v=d(g*w),E=d(h*w),x=p.BASE.multiplyAndAddUnsafe(s,v,E)?.toAffine();return!!x&&d(x.x)===h},ProjectivePoint:p,Signature:C,utils:{isValidPrivateKey(e){try{return y(e),!0}catch(e){return!1}},normPrivateKeyToScalar:y,randomPrivateKey:()=>{let e=Q(t.n);return function(e,t,r=!1){let n=e.length,a=X(t),i=Q(t);if(n<16||n<i||n>1024)throw Error("expected "+i+"-1024 bytes of input, got "+n);let s=_(r?E(e):v(e),t-L)+L;return r?$(s,a):x(s,a)}(t.randomBytes(e),t.n)},precompute:(e=8,t=p.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)}}})({...e,...{hash:t,hmac:(e,...r)=>s(t,e,(0,a.Id)(...r)),randomBytes:a.po}});return{...r(t),create:r}}({a:ew,b:BigInt(7),Fp:e$,n:eg,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{let t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-ev*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),n=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),a=BigInt("0x100000000000000000000000000000000"),i=ex(t*e,eg),s=ex(-r*e,eg),o=_(e-i*t-s*n,eg),l=_(-i*r-s*t,eg),u=o>a,c=l>a;if(u&&(o=eg-o),c&&(l=eg-l),o>a||l>a)throw Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:u,k1:o,k2neg:c,k2:l}}}},n.sc)},57353:(e,t,r)=>{r.d(t,{zX:()=>m,bG:()=>g,M:()=>w,rR:()=>v,Po:()=>E,$S:()=>x});var n=r(57616),a=r(10708),i=r(19031),s=r(52346),o=r(40474);function l({abiItem:e,args:t,includeFunctionName:r=!0,includeName:n=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${r?e.name:""}(${e.inputs.map((e,r)=>`${n&&e.name?`${e.name}: `:""}${"object"==typeof t[r]?(0,o.A)(t[r]):t[r]}`).join(", ")})`}var u=r(96019),c=r(12305),f=r(5639),d=r(79313),p=r(76200),y=r(17830),b=r(1855),h=r(9678);class m extends p.C{constructor(e,{account:t,docsPath:r,chain:a,data:i,gas:s,gasPrice:o,maxFeePerGas:l,maxPriorityFeePerGas:u,nonce:d,to:p,value:h,stateOverride:m}){let g=t?(0,n.J)(t):void 0,w=(0,b.aO)({from:g?.address,to:p,value:void 0!==h&&`${(0,c.c)(h)} ${a?.nativeCurrency?.symbol||"ETH"}`,data:i,gas:s,gasPrice:void 0!==o&&`${(0,f.Q)(o)} gwei`,maxFeePerGas:void 0!==l&&`${(0,f.Q)(l)} gwei`,maxPriorityFeePerGas:void 0!==u&&`${(0,f.Q)(u)} gwei`,nonce:d});m&&(w+=`
${(0,y.uj)(m)}`),super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",w].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class g extends p.C{constructor(e,{abi:t,args:r,contractAddress:n,docsPath:a,functionName:i,sender:o}){let c=(0,u.iY)({abi:t,args:r,name:i}),f=c?l({abiItem:c,args:r,includeFunctionName:!1,includeName:!1}):void 0,d=c?(0,s.B)(c,{includeName:!0}):void 0,p=(0,b.aO)({address:n&&(0,h.R)(n),function:d,args:f&&"()"!==f&&`${[...Array(i?.length??0).keys()].map(()=>" ").join("")}${f}`,sender:o});super(e.shortMessage||`An unknown error occurred while executing the contract function "${i}".`,{cause:e,docsPath:a,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],p&&"Contract Call:",p].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=t,this.args=r,this.cause=e,this.contractAddress=n,this.functionName=i,this.sender=o}}class w extends p.C{constructor({abi:e,data:t,functionName:r,message:n}){let o,u,c,f,p;if(t&&"0x"!==t)try{let{abiItem:r,errorName:n,args:o}=u=(0,i.W)({abi:e,data:t});if("Error"===n)f=o[0];else if("Panic"===n){let[e]=o;f=a.fD[e]}else{let e=r?(0,s.B)(r,{includeName:!0}):void 0,t=r&&o?l({abiItem:r,args:o,includeFunctionName:!1,includeName:!1}):void 0;c=[e?`Error: ${e}`:"",t&&"()"!==t?`       ${[...Array(n?.length??0).keys()].map(()=>" ").join("")}${t}`:""]}}catch(e){o=e}else n&&(f=n);o instanceof d.Wq&&(p=o.signature,c=[`Unable to decode signature "${p}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${p}.`]),super(f&&"execution reverted"!==f||p?[`The contract function "${r}" reverted with the following ${p?"signature":"reason"}:`,f||p].join("\n"):`The contract function "${r}" reverted.`,{cause:o,metaMessages:c,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=u,this.raw=t,this.reason=f,this.signature=p}}class v extends p.C{constructor({functionName:e}){super(`The contract function "${e}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${e}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class E extends p.C{constructor({factory:e}){super(`Deployment for counterfactual contract call failed${e?` for factory "${e}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class x extends p.C{constructor({data:e,message:t}){super(t||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}},66655:(e,t,r)=>{r.d(t,{j:()=>l});var n=r(79313),a=r(76200),i=r(57353),s=r(36262),o=r(18912);function l(e,{abi:t,address:r,args:l,docsPath:u,functionName:c,sender:f}){let d=e instanceof i.$S?e:e instanceof a.C?e.walk(e=>"data"in e)||e.walk():{},{code:p,data:y,details:b,message:h,shortMessage:m}=d,g=e instanceof n.O?new i.rR({functionName:c}):[3,o.bq.code].includes(p)&&(y||b||h||m)?new i.M({abi:t,data:"object"==typeof y?y.data:y,functionName:c,message:d instanceof s.J8?b:m??h}):e;return new i.bG(g,{abi:t,args:l,contractAddress:r,docsPath:u,functionName:c,sender:f})}},66970:(e,t,r)=>{r.d(t,{$:()=>nK});var n=r(93778),a=r(94833),i=r(14237),s=r(49048),o=r(49154),l=r(81645),u=r(76200),c=r(57353);function f(e){if(!(e instanceof u.C))return!1;let t=e.walk(e=>e instanceof c.M);return t instanceof c.M&&(t.data?.errorName==="HttpError"||t.data?.errorName==="ResolverError"||t.data?.errorName==="ResolverNotContract"||t.data?.errorName==="ResolverNotFound"||t.data?.errorName==="ReverseAddressMismatch"||t.data?.errorName==="UnsupportedResolverProfile")}var d=r(18937),p=r(58798),y=r(26715),b=r(74517),h=r(65859);function m(e){if(66!==e.length||0!==e.indexOf("[")||65!==e.indexOf("]"))return null;let t=`0x${e.slice(1,65)}`;return(0,h.q)(t)?t:null}function g(e){let t=new Uint8Array(32).fill(0);if(!e)return(0,l.My)(t);let r=e.split(".");for(let e=r.length-1;e>=0;e-=1){let n=m(r[e]),a=n?(0,y.ZJ)(n):(0,b.S)((0,y.Af)(r[e]),"bytes");t=(0,b.S)((0,p.xW)([t,a]),"bytes")}return(0,l.My)(t)}function w(e){let t=e.replace(/^\.|\.$/gm,"");if(0===t.length)return new Uint8Array(1);let r=new Uint8Array((0,y.Af)(t).byteLength+2),n=0,a=t.split(".");for(let e=0;e<a.length;e++){var i;let t=(0,y.Af)(a[e]);t.byteLength>255&&(t=(0,y.Af)((i=function(e){let t=new Uint8Array(32).fill(0);return e?m(e)||(0,b.S)((0,y.Af)(e)):(0,l.My)(t)}(a[e]),`[${i.slice(2)}]`))),r[n]=t.length,r.set(t,n+1),n+=t.length+1}return r.byteLength!==n+1?r.slice(0,n+1):r}var v=r(8481),E=r(75977);async function x(e,t){let{blockNumber:r,blockTag:u,coinType:c,name:p,gatewayUrls:y,strict:b}=t,{chain:h}=e,m=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!h)throw Error("client chain not configured. universalResolverAddress is required.");return(0,s.M)({blockNumber:r,chain:h,contract:"ensUniversalResolver"})})(),x=h?.ensTlds;if(x&&!x.some(e=>p.endsWith(e)))return null;let $=null!=c?[g(p),BigInt(c)]:[g(p)];try{let t=(0,i.p)({abi:n.Rm,functionName:"addr",args:$}),s={address:m,abi:n.Ag,functionName:"resolveWithGateways",args:[(0,l.nj)(w(p)),t,y??[d.J]],blockNumber:r,blockTag:u},c=(0,v.T)(e,E.J,"readContract"),f=await c(s);if("0x"===f[0])return null;let b=(0,a.e)({abi:n.Rm,args:$,functionName:"addr",data:f[0]});if("0x"===b||"0x00"===(0,o.B)(b))return null;return b}catch(e){if(b)throw e;if(f(e))return null;throw e}}class $ extends u.C{constructor({data:e}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(e)}`],name:"EnsAvatarInvalidMetadataError"})}}class A extends u.C{constructor({reason:e}){super(`ENS NFT avatar URI is invalid. ${e}`,{name:"EnsAvatarInvalidNftUriError"})}}class P extends u.C{constructor({uri:e}){super(`Unable to resolve ENS avatar URI "${e}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class C extends u.C{constructor({namespace:e}){super(`ENS NFT avatar namespace "${e}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}u.C;let k=/(?<protocol>https?:\/\/[^/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,S=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,I=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,T=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function B(e){try{let t=await fetch(e,{method:"HEAD"});if(200===t.status){let e=t.headers.get("content-type");return e?.startsWith("image/")}return!1}catch(t){if("object"==typeof t&&void 0!==t.response||!Object.hasOwn(globalThis,"Image"))return!1;return new Promise(t=>{let r=new Image;r.onload=()=>{t(!0)},r.onerror=()=>{t(!1)},r.src=e})}}function N(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function R({uri:e,gatewayUrls:t}){let r=I.test(e);if(r)return{uri:e,isOnChain:!0,isEncoded:r};let n=N(t?.ipfs,"https://ipfs.io"),a=N(t?.arweave,"https://arweave.net"),i=e.match(k),{protocol:s,subpath:o,target:l,subtarget:u=""}=i?.groups||{},c="ipns:/"===s||"ipns/"===o,f="ipfs:/"===s||"ipfs/"===o||S.test(e);if(e.startsWith("http")&&!c&&!f){let r=e;return t?.arweave&&(r=e.replace(/https:\/\/arweave.net/g,t?.arweave)),{uri:r,isOnChain:!1,isEncoded:!1}}if((c||f)&&l)return{uri:`${n}/${c?"ipns":"ipfs"}/${l}${u}`,isOnChain:!1,isEncoded:!1};if("ar:/"===s&&l)return{uri:`${a}/${l}${u||""}`,isOnChain:!1,isEncoded:!1};let d=e.replace(T,"");if(d.startsWith("<svg")&&(d=`data:image/svg+xml;base64,${btoa(d)}`),d.startsWith("data:")||d.startsWith("{"))return{uri:d,isOnChain:!0,isEncoded:!1};throw new P({uri:e})}function M(e){if("object"!=typeof e||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new $({data:e});return e.image||e.image_url||e.image_data}async function O({gatewayUrls:e,uri:t}){try{let r=await fetch(t).then(e=>e.json());return await L({gatewayUrls:e,uri:M(r)})}catch{throw new P({uri:t})}}async function L({gatewayUrls:e,uri:t}){let{uri:r,isOnChain:n}=R({uri:t,gatewayUrls:e});if(n||await B(r))return r;throw new P({uri:t})}async function j(e,{nft:t}){if("erc721"===t.namespace)return(0,E.J)(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if("erc1155"===t.namespace)return(0,E.J)(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new C({namespace:t.namespace})}async function z(e,{gatewayUrls:t,record:r}){return/eip155:/i.test(r)?U(e,{gatewayUrls:t,record:r}):L({uri:r,gatewayUrls:t})}async function U(e,{gatewayUrls:t,record:r}){let n=function(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));let[r,n,a]=t.split("/"),[i,s]=r.split(":"),[o,l]=n.split(":");if(!i||"eip155"!==i.toLowerCase())throw new A({reason:"Only EIP-155 supported"});if(!s)throw new A({reason:"Chain ID not found"});if(!l)throw new A({reason:"Contract address not found"});if(!a)throw new A({reason:"Token ID not found"});if(!o)throw new A({reason:"ERC namespace not found"});return{chainID:Number.parseInt(s,10),namespace:o.toLowerCase(),contractAddress:l,tokenID:a}}(r),{uri:a,isOnChain:i,isEncoded:s}=R({uri:await j(e,{nft:n}),gatewayUrls:t});if(i&&(a.includes("data:application/json;base64,")||a.startsWith("{")))return L({uri:M(JSON.parse(s?atob(a.replace("data:application/json;base64,","")):a)),gatewayUrls:t});let o=n.tokenID;return"erc1155"===n.namespace&&(o=o.replace("0x","").padStart(64,"0")),O({gatewayUrls:t,uri:a.replace(/(?:0x)?{id}/,o)})}async function D(e,t){let{blockNumber:r,blockTag:o,key:u,name:c,gatewayUrls:p,strict:y}=t,{chain:b}=e,h=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!b)throw Error("client chain not configured. universalResolverAddress is required.");return(0,s.M)({blockNumber:r,chain:b,contract:"ensUniversalResolver"})})(),m=b?.ensTlds;if(m&&!m.some(e=>c.endsWith(e)))return null;try{let t={address:h,abi:n.Ag,args:[(0,l.nj)(w(c)),(0,i.p)({abi:n.SJ,functionName:"text",args:[g(c),u]}),p??[d.J]],functionName:"resolveWithGateways",blockNumber:r,blockTag:o},s=(0,v.T)(e,E.J,"readContract"),f=await s(t);if("0x"===f[0])return null;let y=(0,a.e)({abi:n.SJ,functionName:"text",data:f[0]});return""===y?null:y}catch(e){if(y)throw e;if(f(e))return null;throw e}}async function F(e,{blockNumber:t,blockTag:r,assetGatewayUrls:n,name:a,gatewayUrls:i,strict:s,universalResolverAddress:o}){let l=await (0,v.T)(e,D,"getEnsText")({blockNumber:t,blockTag:r,key:"avatar",name:a,universalResolverAddress:o,gatewayUrls:i,strict:s});if(!l)return null;try{return await z(e,{record:l,gatewayUrls:n})}catch{return null}}async function _(e,t){let{address:r,blockNumber:a,blockTag:i,coinType:o=60n,gatewayUrls:l,strict:u}=t,{chain:c}=e,p=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw Error("client chain not configured. universalResolverAddress is required.");return(0,s.M)({blockNumber:a,chain:c,contract:"ensUniversalResolver"})})();try{let t={address:p,abi:n.oX,args:[r,o,l??[d.J]],functionName:"reverseWithGateways",blockNumber:a,blockTag:i},s=(0,v.T)(e,E.J,"readContract"),[u]=await s(t);return u||null}catch(e){if(u)throw e;if(f(e))return null;throw e}}async function V(e,t){let{blockNumber:r,blockTag:n,name:a}=t,{chain:i}=e,o=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!i)throw Error("client chain not configured. universalResolverAddress is required.");return(0,s.M)({blockNumber:r,chain:i,contract:"ensUniversalResolver"})})(),u=i?.ensTlds;if(u&&!u.some(e=>a.endsWith(e)))throw Error(`${a} is not a valid ENS TLD (${u?.join(", ")}) for chain "${i.name}" (id: ${i.id}).`);let[c]=await (0,v.T)(e,E.J,"readContract")({address:o,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"},{type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[(0,l.nj)(w(a))],blockNumber:r,blockTag:n});return c}var q=r(7559),G=r(57616),W=r(81873),H=r(35884),K=r(94770),Z=r(39575);async function J(e,t){let{account:r=e.account,blockNumber:n,blockTag:a="latest",blobs:i,data:s,gas:o,gasPrice:u,maxFeePerBlobGas:c,maxFeePerGas:f,maxPriorityFeePerGas:d,to:p,value:y,...b}=t,h=r?(0,G.J)(r):void 0;try{(0,Z.c)(t);let r="bigint"==typeof n?(0,l.cK)(n):void 0,m=e.chain?.formatters?.transactionRequest?.format,g=(m||K.Bv)({...(0,H.o)(b,{format:m}),account:h,blobs:i,data:s,gas:o,gasPrice:u,maxFeePerBlobGas:c,maxFeePerGas:f,maxPriorityFeePerGas:d,to:p,value:y},"createAccessList"),w=await e.request({method:"eth_createAccessList",params:[g,r||a]});return{accessList:w.accessList,gasUsed:BigInt(w.gasUsed)}}catch(r){throw(0,W.d)(r,{...t,account:h,chain:e.chain})}}function Y(e,{method:t}){let r={};return"fallback"===e.transport.type&&e.transport.onResponse?.(({method:e,response:n,status:a,transport:i})=>{"success"===a&&t===e&&(r[n]=i.request)}),t=>r[t]||e.request}async function X(e){let t=Y(e,{method:"eth_newBlockFilter"}),r=await e.request({method:"eth_newBlockFilter"});return{id:r,request:t(r),type:"block"}}var Q=r(79313);class ee extends u.C{constructor(e){super(`Filter type "${e}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}var et=r(51304),er=r(23414),en=r(52346),ea=r(96019);let ei="/docs/contract/encodeEventTopics";function es(e){let{abi:t,eventName:r,args:n}=e,a=t[0];if(r){let e=(0,ea.iY)({abi:t,name:r});if(!e)throw new Q.M_(r,{docsPath:ei});a=e}if("event"!==a.type)throw new Q.M_(void 0,{docsPath:ei});let i=(0,en.B)(a),s=(0,et.h)(i),o=[];if(n&&"inputs"in a){let e=a.inputs?.filter(e=>"indexed"in e&&e.indexed),t=Array.isArray(n)?n:Object.values(n).length>0?e?.map(e=>n[e.name])??[]:[];t.length>0&&(o=e?.map((e,r)=>Array.isArray(t[r])?t[r].map((n,a)=>eo({param:e,value:t[r][a]})):void 0!==t[r]&&null!==t[r]?eo({param:e,value:t[r]}):null)??[])}return[s,...o]}function eo({param:e,value:t}){if("string"===e.type||"bytes"===e.type)return(0,b.S)((0,y.ZJ)(t));if("tuple"===e.type||e.type.match(/^(.*)\[(\d+)?\]$/))throw new ee(e.type);return(0,er.h)([e],[t])}async function el(e,t){let{address:r,abi:n,args:a,eventName:i,fromBlock:s,strict:o,toBlock:u}=t,c=Y(e,{method:"eth_newFilter"}),f=i?es({abi:n,args:a,eventName:i}):void 0,d=await e.request({method:"eth_newFilter",params:[{address:r,fromBlock:"bigint"==typeof s?(0,l.cK)(s):s,toBlock:"bigint"==typeof u?(0,l.cK)(u):u,topics:f}]});return{abi:n,args:a,eventName:i,id:d,request:c(d),strict:!!o,type:"event"}}async function eu(e,{address:t,args:r,event:n,events:a,fromBlock:i,strict:s,toBlock:o}={}){let u=a??(n?[n]:void 0),c=Y(e,{method:"eth_newFilter"}),f=[];u&&(f=[u.flatMap(e=>es({abi:[e],eventName:e.name,args:r}))],n&&(f=f[0]));let d=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:"bigint"==typeof i?(0,l.cK)(i):i,toBlock:"bigint"==typeof o?(0,l.cK)(o):o,...f.length?{topics:f}:{}}]});return{abi:u,args:r,eventName:n?n.name:void 0,fromBlock:i,id:d,request:c(d),strict:!!s,toBlock:o,type:"event"}}async function ec(e){let t=Y(e,{method:"eth_newPendingTransactionFilter"}),r=await e.request({method:"eth_newPendingTransactionFilter"});return{id:r,request:t(r),type:"transaction"}}var ef=r(66655),ed=r(32544),ep=r(38047),ey=r(16006);async function eb({hash:e,signature:t}){let n=(0,h.q)(e)?e:(0,l.nj)(e),{secp256k1:a}=await Promise.resolve().then(r.bind(r,55254)),i=(()=>{if("object"==typeof t&&"r"in t&&"s"in t){let{r:e,s:r,v:n,yParity:i}=t,s=eh(Number(i??n));return new a.Signature((0,ey.uU)(e),(0,ey.uU)(r)).addRecoveryBit(s)}let e=(0,h.q)(t)?t:(0,l.nj)(t);if(65!==(0,ep.E)(e))throw Error("invalid signature length");let r=eh((0,ey.ME)(`0x${e.slice(130)}`));return a.Signature.fromCompact(e.substring(2,130)).addRecoveryBit(r)})().recoverPublicKey(n.substring(2)).toHex(!1);return`0x${i}`}function eh(e){if(0===e||1===e)return e;if(27===e)return 0;if(28===e)return 1;throw Error("Invalid yParityOrV value")}async function em({hash:e,signature:t}){var r=await eb({hash:e,signature:t});let n=(0,b.S)(`0x${r.substring(4)}`).substring(26);return(0,ed.o)(`0x${n}`)}var eg=r(83894);async function ew(e){let{authorization:t,signature:r}=e;return em({hash:function(e){let{chainId:t,nonce:r,to:n}=e,a=e.contractAddress??e.address,i=(0,b.S)((0,p.aP)(["0x05",(0,eg.EQ)([t?(0,l.cK)(t):"0x",a,r?(0,l.cK)(r):"0x"])]));return"bytes"===n?(0,y.aT)(i):i}(t),signature:r??t})}var ev=r(12305),eE=r(5639),ex=r(1855);class e$ extends u.C{constructor(e,{account:t,docsPath:r,chain:n,data:a,gas:i,gasPrice:s,maxFeePerGas:o,maxPriorityFeePerGas:l,nonce:u,to:c,value:f}){super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",(0,ex.aO)({from:t?.address,to:c,value:void 0!==f&&`${(0,ev.c)(f)} ${n?.nativeCurrency?.symbol||"ETH"}`,data:a,gas:i,gasPrice:void 0!==s&&`${(0,eE.Q)(s)} gwei`,maxFeePerGas:void 0!==o&&`${(0,eE.Q)(o)} gwei`,maxPriorityFeePerGas:void 0!==l&&`${(0,eE.Q)(l)} gwei`,nonce:u})].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}var eA=r(98877),eP=r(19953),eC=r(45710);class ek extends u.C{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class eS extends u.C{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class eI extends u.C{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${(0,eE.Q)(e)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class eT extends u.C{constructor({blockHash:e,blockNumber:t}){let r="Block";e&&(r=`Block at hash "${e}"`),t&&(r=`Block at number "${t}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}var eB=r(37744);async function eN(e,{blockHash:t,blockNumber:r,blockTag:n=e.experimental_blockTag??"latest",includeTransactions:a}={}){let i=a??!1,s=void 0!==r?(0,l.cK)(r):void 0,o=null;if(!(o=t?await e.request({method:"eth_getBlockByHash",params:[t,i]},{dedupe:!0}):await e.request({method:"eth_getBlockByNumber",params:[s||n,i]},{dedupe:!!s})))throw new eT({blockHash:t,blockNumber:r});return(e.chain?.formatters?.block?.format||eB.$)(o,"getBlock")}async function eR(e){return BigInt(await e.request({method:"eth_gasPrice"}))}async function eM(e,t){return eO(e,t)}async function eO(e,t){let{block:r,chain:n=e.chain,request:a}=t||{};try{let t=n?.fees?.maxPriorityFeePerGas??n?.fees?.defaultPriorityFee;if("function"==typeof t){let n=r||await (0,v.T)(e,eN,"getBlock")({}),i=await t({block:n,client:e,request:a});if(null===i)throw Error();return i}if(void 0!==t)return t;let i=await e.request({method:"eth_maxPriorityFeePerGas"});return(0,ey.uU)(i)}catch{let[t,n]=await Promise.all([r?Promise.resolve(r):(0,v.T)(e,eN,"getBlock")({}),(0,v.T)(e,eR,"getGasPrice")({})]);if("bigint"!=typeof t.baseFeePerGas)throw new eS;let a=n-t.baseFeePerGas;if(a<0n)return 0n;return a}}async function eL(e,t){return ej(e,t)}async function ej(e,t){let{block:r,chain:n=e.chain,request:a,type:i="eip1559"}=t||{},s=await (async()=>"function"==typeof n?.fees?.baseFeeMultiplier?n.fees.baseFeeMultiplier({block:r,client:e,request:a}):n?.fees?.baseFeeMultiplier??1.2)();if(s<1)throw new ek;let o=s.toString().split(".")[1]?.length??0,l=10**o,u=e=>e*BigInt(Math.ceil(s*l))/BigInt(l),c=r||await (0,v.T)(e,eN,"getBlock")({});if("function"==typeof n?.fees?.estimateFeesPerGas){let t=await n.fees.estimateFeesPerGas({block:r,client:e,multiply:u,request:a,type:i});if(null!==t)return t}if("eip1559"===i){if("bigint"!=typeof c.baseFeePerGas)throw new eS;let t="bigint"==typeof a?.maxPriorityFeePerGas?a.maxPriorityFeePerGas:await eO(e,{block:c,chain:n,request:a}),r=u(c.baseFeePerGas);return{maxFeePerGas:a?.maxFeePerGas??r+t,maxPriorityFeePerGas:t}}return{gasPrice:a?.gasPrice??u(await (0,v.T)(e,eR,"getGasPrice")({}))}}async function ez(e,{address:t,blockTag:r="latest",blockNumber:n}){let a=await e.request({method:"eth_getTransactionCount",params:[t,"bigint"==typeof n?(0,l.cK)(n):r]},{dedupe:!!n});return(0,ey.ME)(a)}var eU=r(8922),eD=r(39151),eF=r(47714),e_=r(20289),eV=r(13800);async function eq(e){let t=await e.request({method:"eth_chainId"},{dedupe:!0});return(0,ey.ME)(t)}let eG=["blobVersionedHashes","chainId","fees","gas","nonce","type"],eW=new Map;async function eH(e,t){let r,n,{account:a=e.account,blobs:i,chain:s,gas:o,kzg:l,nonce:u,nonceManager:c,parameters:f=eG,type:d}=t,p=a?(0,G.J)(a):a,y={...t,...p?{from:p?.address}:{}};async function b(){return r||(r=await (0,v.T)(e,eN,"getBlock")({blockTag:"latest"}))}async function h(){return n||(s?s.id:void 0!==t.chainId?t.chainId:n=await (0,v.T)(e,eq,"getChainId")({}))}if(f.includes("nonce")&&void 0===u&&p)if(c){let t=await h();y.nonce=await c.consume({address:p.address,chainId:t,client:e})}else y.nonce=await (0,v.T)(e,ez,"getTransactionCount")({address:p.address,blockTag:"pending"});if((f.includes("blobVersionedHashes")||f.includes("sidecars"))&&i&&l){let e=(0,eU.S)({blobs:i,kzg:l});if(f.includes("blobVersionedHashes")&&(y.blobVersionedHashes=(0,eF.d)({commitments:e,to:"hex"})),f.includes("sidecars")){let t=(0,eD.t)({blobs:i,commitments:e,kzg:l});y.sidecars=(0,e_.T)({blobs:i,commitments:e,proofs:t,to:"hex"})}}if(f.includes("chainId")&&(y.chainId=await h()),(f.includes("fees")||f.includes("type"))&&void 0===d)try{y.type=(0,eV.L)(y)}catch{let t=eW.get(e.uid);if(void 0===t){let r=await b();t="bigint"==typeof r?.baseFeePerGas,eW.set(e.uid,t)}y.type=t?"eip1559":"legacy"}if(f.includes("fees"))if("legacy"!==y.type&&"eip2930"!==y.type){if(void 0===y.maxFeePerGas||void 0===y.maxPriorityFeePerGas){let r=await b(),{maxFeePerGas:n,maxPriorityFeePerGas:a}=await ej(e,{block:r,chain:s,request:y});if(void 0===t.maxPriorityFeePerGas&&t.maxFeePerGas&&t.maxFeePerGas<a)throw new eI({maxPriorityFeePerGas:a});y.maxPriorityFeePerGas=a,y.maxFeePerGas=n}}else{if(void 0!==t.maxFeePerGas||void 0!==t.maxPriorityFeePerGas)throw new eS;if(void 0===t.gasPrice){let t=await b(),{gasPrice:r}=await ej(e,{block:t,chain:s,request:y,type:"legacy"});y.gasPrice=r}}return f.includes("gas")&&void 0===o&&(y.gas=await (0,v.T)(e,eK,"estimateGas")({...y,account:p,prepare:p?.type==="local"?[]:["blobVersionedHashes"]})),(0,Z.c)(y),delete y.parameters,y}async function eK(e,t){let{account:r=e.account,prepare:n=!0}=t,a=r?(0,G.J)(r):void 0,i=Array.isArray(n)?n:a?.type!=="local"?["blobVersionedHashes"]:void 0;try{let{accessList:r,authorizationList:s,blobs:o,blobVersionedHashes:c,blockNumber:f,blockTag:d,data:p,gas:y,gasPrice:b,maxFeePerBlobGas:h,maxFeePerGas:m,maxPriorityFeePerGas:g,nonce:w,value:v,stateOverride:E,...x}=n?await eH(e,{...t,parameters:i}):t,$=("bigint"==typeof f?(0,l.cK)(f):void 0)||d,A=(0,eC.yH)(E),P=await (async()=>x.to?x.to:s&&s.length>0?await ew({authorization:s[0]}).catch(()=>{throw new u.C("`to` is required. Could not infer from `authorizationList`")}):void 0)();(0,Z.c)(t);let C=e.chain?.formatters?.transactionRequest?.format,k=(C||K.Bv)({...(0,H.o)(x,{format:C}),account:a,accessList:r,authorizationList:s,blobs:o,blobVersionedHashes:c,data:p,gas:y,gasPrice:b,maxFeePerBlobGas:h,maxFeePerGas:m,maxPriorityFeePerGas:g,nonce:w,to:P,value:v},"estimateGas");return BigInt(await e.request({method:"eth_estimateGas",params:A?[k,$??e.experimental_blockTag??"latest",A]:$?[k,$]:[k]}))}catch(r){throw function(e,{docsPath:t,...r}){return new e$((()=>{let t=(0,eP.l)(e,r);return t instanceof eA.RM?e:t})(),{docsPath:t,...r})}(r,{...t,account:a,chain:e.chain})}}async function eZ(e,t){let{abi:r,address:n,args:a,functionName:s,dataSuffix:o,...l}=t,u=(0,i.p)({abi:r,args:a,functionName:s});try{return await (0,v.T)(e,eK,"estimateGas")({data:`${u}${o?o.replace("0x",""):""}`,to:n,...l})}catch(t){let e=l.account?(0,G.J)(l.account):void 0;throw(0,ef.j)(t,{abi:r,address:n,args:a,docsPath:"/docs/contract/estimateContractGas",functionName:s,sender:e?.address})}}async function eJ(e,{address:t,blockNumber:r,blockTag:n=e.experimental_blockTag??"latest"}){let a="bigint"==typeof r?(0,l.cK)(r):void 0;return BigInt(await e.request({method:"eth_getBalance",params:[t,a||n]}))}async function eY(e){return BigInt(await e.request({method:"eth_blobBaseFee"}))}let eX=new Map,eQ=new Map;async function e0(e,{cacheKey:t,cacheTime:r=1/0}){let n=function(e){let t=(e,t)=>({clear:()=>t.delete(e),get:()=>t.get(e),set:r=>t.set(e,r)}),r=t(e,eX),n=t(e,eQ);return{clear:()=>{r.clear(),n.clear()},promise:r,response:n}}(t),a=n.response.get();if(a&&r>0&&Date.now()-a.created.getTime()<r)return a.data;let i=n.promise.get();i||(i=e(),n.promise.set(i));try{let e=await i;return n.response.set({created:new Date,data:e}),e}finally{n.promise.clear()}}async function e1(e,{cacheTime:t=e.cacheTime}={}){let r;return BigInt(await e0(()=>e.request({method:"eth_blockNumber"}),{cacheKey:(r=e.uid,`blockNumber.${r}`),cacheTime:t}))}async function e6(e,{blockHash:t,blockNumber:r,blockTag:n="latest"}={}){let a,i=void 0!==r?(0,l.cK)(r):void 0;return a=t?await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]},{dedupe:!0}):await e.request({method:"eth_getBlockTransactionCountByNumber",params:[i||n]},{dedupe:!!i}),(0,ey.ME)(a)}var e5=r(4972),e2=r(96268),e8=r(60539),e3=r(42802);let e9="/docs/contract/decodeEventLog";function e4(e){let{abi:t,data:r,strict:n,topics:a}=e,i=n??!0,[s,...o]=a;if(!s)throw new Q._z({docsPath:e9});let l=t.find(e=>"event"===e.type&&s===(0,et.h)((0,en.B)(e)));if(!(l&&"name"in l)||"event"!==l.type)throw new Q.kE(s,{docsPath:e9});let{name:u,inputs:c}=l,f=c?.some(e=>!("name"in e&&e.name)),d=f?[]:{},p=c.map((e,t)=>[e,t]).filter(([e])=>"indexed"in e&&e.indexed);for(let e=0;e<p.length;e++){let[t,r]=p[e],n=o[e];if(!n)throw new Q.l3({abiItem:l,param:t});d[f?r:t.name||r]=function({param:e,value:t}){return"string"===e.type||"bytes"===e.type||"tuple"===e.type||e.type.match(/^(.*)\[(\d+)?\]$/)?t:((0,e3.n)([e],t)||[])[0]}({param:t,value:n})}let y=c.filter(e=>!("indexed"in e&&e.indexed));if(y.length>0){if(r&&"0x"!==r)try{let e=(0,e3.n)(y,r);if(e)if(f)for(let t=0;t<c.length;t++)d[t]=d[t]??e.shift();else for(let t=0;t<y.length;t++)d[y[t].name]=e[t]}catch(e){if(i){if(e instanceof Q.Iy||e instanceof e8.SK)throw new Q.fo({abiItem:l,data:r,params:y,size:(0,ep.E)(r)});throw e}}else if(i)throw new Q.fo({abiItem:l,data:"0x",params:y,size:0})}return{eventName:u,args:Object.values(d).length>0?d:void 0}}function e7(e){let{abi:t,args:r,logs:n,strict:a=!0}=e,i=(()=>{if(e.eventName)return Array.isArray(e.eventName)?e.eventName:[e.eventName]})();return n.map(e=>{try{let n=t.find(t=>"event"===t.type&&e.topics[0]===(0,et.h)(t));if(!n)return null;let s=e4({...e,abi:[n],strict:a});if(i&&!i.includes(s.eventName)||!function(e){let{args:t,inputs:r,matchArgs:n}=e;if(!n)return!0;if(!t)return!1;function a(e,t,r){try{if("address"===e.type)return(0,e2.h)(t,r);if("string"===e.type||"bytes"===e.type)return(0,b.S)((0,y.ZJ)(t))===r;return t===r}catch{return!1}}return Array.isArray(t)&&Array.isArray(n)?n.every((e,n)=>{if(null==e)return!0;let i=r[n];return!!i&&(Array.isArray(e)?e:[e]).some(e=>a(i,e,t[n]))}):!("object"!=typeof t||Array.isArray(t)||"object"!=typeof n||Array.isArray(n))&&Object.entries(n).every(([e,n])=>{if(null==n)return!0;let i=r.find(t=>t.name===e);return!!i&&(Array.isArray(n)?n:[n]).some(r=>a(i,r,t[e]))})}({args:s.args,inputs:n.inputs,matchArgs:r}))return null;return{...s,...e}}catch(n){let t,r;if(n instanceof Q.kE)return null;if(n instanceof Q.fo||n instanceof Q.l3){if(a)return null;t=n.abiItem.name,r=n.abiItem.inputs?.some(e=>!("name"in e&&e.name))}return{...e,args:r?[]:{},eventName:t}}}).filter(Boolean)}var te=r(82367);async function tt(e,{address:t,blockHash:r,fromBlock:n,toBlock:a,event:i,events:s,args:o,strict:u}={}){let c=s??(i?[i]:void 0),f=[];c&&(f=[c.flatMap(e=>es({abi:[e],eventName:e.name,args:s?void 0:o}))],i&&(f=f[0]));let d=(r?await e.request({method:"eth_getLogs",params:[{address:t,topics:f,blockHash:r}]}):await e.request({method:"eth_getLogs",params:[{address:t,topics:f,fromBlock:"bigint"==typeof n?(0,l.cK)(n):n,toBlock:"bigint"==typeof a?(0,l.cK)(a):a}]})).map(e=>(0,te.e)(e));return c?e7({abi:c,args:o,logs:d,strict:u??!1}):d}async function tr(e,t){let{abi:r,address:n,args:a,blockHash:i,eventName:s,fromBlock:o,toBlock:l,strict:u}=t,c=s?(0,ea.iY)({abi:r,name:s}):void 0,f=c?void 0:r.filter(e=>"event"===e.type);return(0,v.T)(e,tt,"getLogs")({address:n,args:a,blockHash:i,event:c,events:f,fromBlock:o,toBlock:l,strict:u})}class tn extends u.C{constructor({address:e}){super(`No EIP-712 domain found on contract "${e}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${e}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function ta(e,t){let{address:r,factory:n,factoryData:a}=t;try{let[t,i,s,o,l,u,c]=await (0,v.T)(e,E.J,"readContract")({abi:ti,address:r,functionName:"eip712Domain",factory:n,factoryData:a});return{domain:{name:i,version:s,chainId:Number(o),verifyingContract:l,salt:u},extensions:c,fields:t}}catch(e){if("ContractFunctionExecutionError"===e.name&&"ContractFunctionZeroDataError"===e.cause.name)throw new tn({address:r});throw e}}let ti=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];async function ts(e,{blockCount:t,blockNumber:r,blockTag:n="latest",rewardPercentiles:a}){var i;let s="bigint"==typeof r?(0,l.cK)(r):void 0;return{baseFeePerGas:(i=await e.request({method:"eth_feeHistory",params:[(0,l.cK)(t),s||n,a]},{dedupe:!!s})).baseFeePerGas.map(e=>BigInt(e)),gasUsedRatio:i.gasUsedRatio,oldestBlock:BigInt(i.oldestBlock),reward:i.reward?.map(e=>e.map(e=>BigInt(e)))}}async function to(e,{filter:t}){let r="strict"in t&&t.strict,n=await t.request({method:"eth_getFilterChanges",params:[t.id]});if("string"==typeof n[0])return n;let a=n.map(e=>(0,te.e)(e));return"abi"in t&&t.abi?e7({abi:t.abi,logs:a,strict:r}):a}async function tl(e,{filter:t}){let r=t.strict??!1,n=(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map(e=>(0,te.e)(e));return t.abi?e7({abi:t.abi,logs:n,strict:r}):n}async function tu(e,{address:t,blockNumber:r,blockTag:n,storageKeys:a}){let i=void 0!==r?(0,l.cK)(r):void 0;var s=await e.request({method:"eth_getProof",params:[t,a,i||(n??"latest")]});return{...s,balance:s.balance?BigInt(s.balance):void 0,nonce:s.nonce?(0,ey.ME)(s.nonce):void 0,storageProof:s.storageProof?s.storageProof.map(e=>({...e,value:BigInt(e.value)})):void 0}}async function tc(e,{address:t,blockNumber:r,blockTag:n="latest",slot:a}){let i=void 0!==r?(0,l.cK)(r):void 0;return await e.request({method:"eth_getStorageAt",params:[t,a,i||n]})}var tf=r(93505);async function td(e,{blockHash:t,blockNumber:r,blockTag:n,hash:a,index:i,sender:s,nonce:o}){let u=n||"latest",c=void 0!==r?(0,l.cK)(r):void 0,f=null;if(a?f=await e.request({method:"eth_getTransactionByHash",params:[a]},{dedupe:!0}):t?f=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,(0,l.cK)(i)]},{dedupe:!0}):(c||u)&&"number"==typeof i?f=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[c||u,(0,l.cK)(i)]},{dedupe:!!c}):s&&"number"==typeof o&&(f=await e.request({method:"eth_getTransactionBySenderAndNonce",params:[s,(0,l.cK)(o)]},{dedupe:!0})),!f)throw new ex.Kz({blockHash:t,blockNumber:r,blockTag:u,hash:a,index:i});return(e.chain?.formatters?.transaction?.format||tf.uP)(f,"getTransaction")}async function tp(e,{hash:t,transactionReceipt:r}){let[n,a]=await Promise.all([(0,v.T)(e,e1,"getBlockNumber")({}),t?(0,v.T)(e,td,"getTransaction")({hash:t}):void 0]),i=r?.blockNumber||a?.blockNumber;return i?n-i+1n:0n}var ty=r(58547);async function tb(e,{hash:t}){let r=await e.request({method:"eth_getTransactionReceipt",params:[t]},{dedupe:!0});if(!r)throw new ex.Kc({hash:t});return(e.chain?.formatters?.transactionReceipt?.format||ty.uL)(r,"getTransactionReceipt")}var th=r(15488);async function tm(e,t){let{account:r,authorizationList:o,allowFailure:l=!0,blockNumber:f,blockOverrides:d,blockTag:p,stateOverride:y}=t,b=t.contracts,{batchSize:h=t.batchSize??1024,deployless:m=t.deployless??!1}="object"==typeof e.batch?.multicall?e.batch.multicall:{},g=(()=>{if(t.multicallAddress)return t.multicallAddress;if(m)return null;if(e.chain)return(0,s.M)({blockNumber:f,chain:e.chain,contract:"multicall3"});throw Error("client chain not configured. multicallAddress is required.")})(),w=[[]],x=0,$=0;for(let e=0;e<b.length;e++){let{abi:t,address:n,args:a,functionName:s}=b[e];try{let e=(0,i.p)({abi:t,args:a,functionName:s});$+=(e.length-2)/2,h>0&&$>h&&w[x].length>0&&(x++,$=(e.length-2)/2,w[x]=[]),w[x]=[...w[x],{allowFailure:!0,callData:e,target:n}]}catch(i){let e=(0,ef.j)(i,{abi:t,address:n,args:a,docsPath:"/docs/contract/multicall",functionName:s,sender:r});if(!l)throw e;w[x]=[...w[x],{allowFailure:!0,callData:"0x",target:n}]}}let A=await Promise.allSettled(w.map(t=>(0,v.T)(e,E.J,"readContract")({...null===g?{code:th.Ez}:{address:g},abi:n.v2,account:r,args:[t],authorizationList:o,blockNumber:f,blockOverrides:d,blockTag:p,functionName:"aggregate3",stateOverride:y}))),P=[];for(let e=0;e<A.length;e++){let t=A[e];if("rejected"===t.status){if(!l)throw t.reason;for(let r=0;r<w[e].length;r++)P.push({status:"failure",error:t.reason,result:void 0});continue}let r=t.value;for(let t=0;t<r.length;t++){let{returnData:n,success:i}=r[t],{callData:s}=w[e][t],{abi:o,address:u,functionName:f,args:d}=b[P.length];try{if("0x"===s)throw new Q.O;if(!i)throw new c.$S({data:n});let e=(0,a.e)({abi:o,args:d,data:n,functionName:f});P.push(l?{result:e,status:"success"}:e)}catch(t){let e=(0,ef.j)(t,{abi:o,address:u,args:d,docsPath:"/docs/contract/multicall",functionName:f});if(!l)throw e;P.push({error:e,result:void 0,status:"failure"})}}}if(P.length!==b.length)throw new u.C("multicall results mismatch");return P}var tg=r(91633);async function tw(e,t){let{blockNumber:r,blockTag:n=e.experimental_blockTag??"latest",blocks:s,returnFullTransactions:o,traceTransfers:u,validation:f}=t;try{let t=[];for(let e of s){let r=e.blockOverrides?tg.J(e.blockOverrides):void 0,n=e.calls.map(e=>{let t=e.account?(0,G.J)(e.account):void 0,r=e.abi?(0,i.p)(e):e.data,n={...e,account:t,data:e.dataSuffix?(0,p.xW)([r||"0x",e.dataSuffix]):r,from:e.from??t?.address};return(0,Z.c)(n),(0,K.Bv)(n)}),a=e.stateOverrides?(0,eC.yH)(e.stateOverrides):void 0;t.push({blockOverrides:r,calls:n,stateOverrides:a})}let d="bigint"==typeof r?(0,l.cK)(r):void 0;return(await e.request({method:"eth_simulateV1",params:[{blockStateCalls:t,returnFullTransactions:o,traceTransfers:u,validation:f},d||n]})).map((e,t)=>({...(0,eB.$)(e),calls:e.calls.map((e,r)=>{let{abi:n,args:i,functionName:o,to:l}=s[t].calls[r],u=e.error?.data??e.returnData,f=BigInt(e.gasUsed),d=e.logs?.map(e=>(0,te.e)(e)),p="0x1"===e.status?"success":"failure",y=n&&"success"===p&&"0x"!==u?(0,a.e)({abi:n,data:u,functionName:o}):null,b=(()=>{let t;if("success"!==p&&(e.error?.data==="0x"?t=new Q.O:e.error&&(t=new c.$S(e.error)),t))return(0,ef.j)(t,{abi:n??[],address:l??"0x",args:i,functionName:o??"<unknown>"})})();return{data:u,gasUsed:f,logs:d,status:p,..."success"===p?{result:y}:{error:b}}})}))}catch(t){let e=(0,eP.l)(t,{});if(e instanceof eA.RM)throw t;throw e}}class tv extends Error{constructor(e,t={}){let r=t.cause instanceof tv?t.cause.details:t.cause?.message?t.cause.message:t.details,n=t.cause instanceof tv&&t.cause.docsPath||t.docsPath;super([e||"An error occurred.","",...t.metaMessages?[...t.metaMessages,""]:[],...n?[`Docs: https://abitype.dev${n}`]:[],...r?[`Details: ${r}`]:[],"Version: abitype@1.1.1"].join("\n")),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),t.cause&&(this.cause=t.cause),this.details=r,this.docsPath=n,this.metaMessages=t.metaMessages,this.shortMessage=e}}class tE extends tv{constructor({signature:e}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class tx extends tv{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class t$ extends tv{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}function tA(e,t){let r=e.exec(t);return r?.groups}let tP=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,tC=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,tk=/^\(.+?\).*?$/,tS=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/,tI=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/,tT=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/,tB=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function tN(e){return tB.test(e)}let tR=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/,tM=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/,tO=/^receive\(\) external payable$/,tL=new Set(["memory","indexed","storage","calldata"]),tj=new Set(["indexed"]),tz=new Set(["calldata","memory","storage"]);class tU extends tv{constructor({params:e}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}class tD extends tv{constructor({param:e}){super("Invalid ABI parameter.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class tF extends tv{constructor({param:e,name:t}){super("Invalid ABI parameter.",{details:e,metaMessages:[`"${t}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class t_ extends tv{constructor({param:e,type:t,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${t?` in "${t}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class tV extends tv{constructor({param:e,type:t,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${t?` in "${t}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class tq extends tv{constructor({abiParameter:e}){super("Invalid ABI parameter.",{details:JSON.stringify(e,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class tG extends tv{constructor({signature:e,type:t}){super(`Invalid ${t} signature.`,{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class tW extends tv{constructor({signature:e}){super("Unknown signature.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class tH extends tv{constructor({signature:e}){super("Invalid struct signature.",{details:e,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class tK extends tv{constructor({type:e}){super("Circular reference detected.",{metaMessages:[`Struct "${e}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class tZ extends tv{constructor({current:e,depth:t}){super("Unbalanced parentheses.",{metaMessages:[`"${e.trim()}" has too many ${t>0?"opening":"closing"} parentheses.`],details:`Depth "${t}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}let tJ=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function tY(e,t={}){if(tT.test(e))return function(e,t={}){let r=tA(tT,e);if(!r)throw new tG({signature:e,type:"function"});let n=t6(r.parameters),a=[],i=n.length;for(let e=0;e<i;e++)a.push(t1(n[e],{modifiers:tz,structs:t,type:"function"}));let s=[];if(r.returns){let e=t6(r.returns),n=e.length;for(let r=0;r<n;r++)s.push(t1(e[r],{modifiers:tz,structs:t,type:"function"}))}return{name:r.name,type:"function",stateMutability:r.stateMutability??"nonpayable",inputs:a,outputs:s}}(e,t);if(tI.test(e))return function(e,t={}){let r=tA(tI,e);if(!r)throw new tG({signature:e,type:"event"});let n=t6(r.parameters),a=[],i=n.length;for(let e=0;e<i;e++)a.push(t1(n[e],{modifiers:tj,structs:t,type:"event"}));return{name:r.name,type:"event",inputs:a}}(e,t);if(tS.test(e))return function(e,t={}){let r=tA(tS,e);if(!r)throw new tG({signature:e,type:"error"});let n=t6(r.parameters),a=[],i=n.length;for(let e=0;e<i;e++)a.push(t1(n[e],{structs:t,type:"error"}));return{name:r.name,type:"error",inputs:a}}(e,t);if(tR.test(e))return function(e,t={}){let r=tA(tR,e);if(!r)throw new tG({signature:e,type:"constructor"});let n=t6(r.parameters),a=[],i=n.length;for(let e=0;e<i;e++)a.push(t1(n[e],{structs:t,type:"constructor"}));return{type:"constructor",stateMutability:r.stateMutability??"nonpayable",inputs:a}}(e,t);if(tM.test(e)){var r=e;let t=tA(tM,r);if(!t)throw new tG({signature:r,type:"fallback"});return{type:"fallback",stateMutability:t.stateMutability??"nonpayable"}}if(tO.test(e))return{type:"receive",stateMutability:"payable"};throw new tW({signature:e})}let tX=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,tQ=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,t0=/^u?int$/;function t1(e,t){var r,n;let a,i=function(e,t,r){let n="";if(r)for(let e of Object.entries(r)){if(!e)continue;let t="";for(let r of e[1])t+=`[${r.type}${r.name?`:${r.name}`:""}]`;n+=`(${e[0]}{${t}})`}return t?`${t}:${e}${n}`:e}(e,t?.type,t?.structs);if(tJ.has(i))return tJ.get(i);let s=tk.test(e),o=tA(s?tQ:tX,e);if(!o)throw new tD({param:e});if(o.name&&("address"===(r=o.name)||"bool"===r||"function"===r||"string"===r||"tuple"===r||tP.test(r)||tC.test(r)||t2.test(r)))throw new tF({param:e,name:o.name});let l=o.name?{name:o.name}:{},u="indexed"===o.modifier?{indexed:!0}:{},c=t?.structs??{},f={};if(s){a="tuple";let e=t6(o.type),t=[],r=e.length;for(let n=0;n<r;n++)t.push(t1(e[n],{structs:c}));f={components:t}}else if(o.type in c)a="tuple",f={components:c[o.type]};else if(t0.test(o.type))a=`${o.type}256`;else if("address payable"===o.type)a="address";else if(a=o.type,t?.type!=="struct"&&!t5(a))throw new t$({type:a});if(o.modifier){if(!t?.modifiers?.has?.(o.modifier))throw new t_({param:e,type:t?.type,modifier:o.modifier});if(tz.has(o.modifier)&&(n=a,!o.array&&"bytes"!==n&&"string"!==n&&"tuple"!==n))throw new tV({param:e,type:t?.type,modifier:o.modifier})}let d={type:`${a}${o.array??""}`,...l,...u,...f};return tJ.set(i,d),d}function t6(e,t=[],r="",n=0){let a=e.trim().length;for(let i=0;i<a;i++){let a=e[i],s=e.slice(i+1);switch(a){case",":return 0===n?t6(s,[...t,r.trim()]):t6(s,t,`${r}${a}`,n);case"(":return t6(s,t,`${r}${a}`,n+1);case")":return t6(s,t,`${r}${a}`,n-1);default:return t6(s,t,`${r}${a}`,n)}}if(""===r)return t;if(0!==n)throw new tZ({current:r,depth:n});return t.push(r.trim()),t}function t5(e){return"address"===e||"bool"===e||"function"===e||"string"===e||tP.test(e)||tC.test(e)}let t2=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function t8(e){let t={},r=e.length;for(let n=0;n<r;n++){let r=e[n];if(!tN(r))continue;let a=tA(tB,r);if(!a)throw new tG({signature:r,type:"struct"});let i=a.properties.split(";"),s=[],o=i.length;for(let e=0;e<o;e++){let t=i[e].trim();if(!t)continue;let r=t1(t,{type:"struct"});s.push(r)}if(!s.length)throw new tH({signature:r});t[a.name]=s}let n={},a=Object.entries(t),i=a.length;for(let e=0;e<i;e++){let[r,i]=a[e];n[r]=function e(t,r,n=new Set){let a=[],i=t.length;for(let s=0;s<i;s++){let i=t[s];if(tk.test(i.type))a.push(i);else{let t=tA(t3,i.type);if(!t?.type)throw new tq({abiParameter:i});let{array:s,type:o}=t;if(o in r){if(n.has(o))throw new tK({type:o});a.push({...i,type:`tuple${s??""}`,components:e(r[o]??[],r,new Set([...n,o]))})}else if(t5(o))a.push(i);else throw new tx({type:o})}}return a}(i,t)}return n}let t3=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/,t9=/^tuple(?<array>(\[(\d*)\])*)$/;function t4(e){let t="",r=e.length;for(let n=0;n<r;n++)t+=function e(t){let r=t.type;if(t9.test(t.type)&&"components"in t){r="(";let n=t.components.length;for(let a=0;a<n;a++)r+=e(t.components[a]),a<n-1&&(r+=", ");let a=tA(t9,t.type);return r+=`)${a?.array??""}`,e({...t,type:r})}return("indexed"in t&&t.indexed&&(r=`${r} indexed`),t.name)?`${r} ${t.name}`:r}(e[n]),n!==r-1&&(t+=", ");return t}function t7(e){return"function"===e.type?`function ${e.name}(${t4(e.inputs)})${e.stateMutability&&"nonpayable"!==e.stateMutability?` ${e.stateMutability}`:""}${e.outputs?.length?` returns (${t4(e.outputs)})`:""}`:"event"===e.type?`event ${e.name}(${t4(e.inputs)})`:"error"===e.type?`error ${e.name}(${t4(e.inputs)})`:"constructor"===e.type?`constructor(${t4(e.inputs)})${"payable"===e.stateMutability?" payable":""}`:"fallback"===e.type?`fallback() external${"payable"===e.stateMutability?" payable":""}`:"receive() external payable"}var re=r(9431),rt=r(17191),rr=r(80170);function rn(e,t){if(rd(e)>t)throw new rh({givenSize:rd(e),maxSize:t})}let ra={zero:48,nine:57,A:65,F:70,a:97,f:102};function ri(e){return e>=ra.zero&&e<=ra.nine?e-ra.zero:e>=ra.A&&e<=ra.F?e-(ra.A-10):e>=ra.a&&e<=ra.f?e-(ra.a-10):void 0}function rs(e,t={}){let{dir:r="left"}=t,n=e,a=0;for(let e=0;e<n.length-1;e++)if("0"===n["left"===r?e:n.length-e-1].toString())a++;else break;return"left"===r?n.slice(a):n.slice(0,n.length-a)}var ro=r(54718),rl=r(23511);let ru=new TextDecoder,rc=new TextEncoder;function rf(e,t={}){let{size:r}=t,n=e;r&&(ro.Sl(e,r),n=rr.M7(e,r));let a=n.slice(2);a.length%2&&(a=`0${a}`);let i=a.length/2,s=new Uint8Array(i);for(let e=0,t=0;e<i;e++){let r=ri(a.charCodeAt(t++)),n=ri(a.charCodeAt(t++));if(void 0===r||void 0===n)throw new re.C(`Invalid byte sequence ("${a[t-2]}${a[t-1]}" in "${a}").`);s[e]=16*r+n}return s}function rd(e){return e.length}function rp(e,t={}){let{size:r}=t;void 0!==r&&rn(e,r);let n=rr.uK(e,t);return rr.Ro(n,t)}function ry(e){return rs(e,{dir:"left"})}class rb extends re.C{constructor(e){super(`Bytes value \`${e}\` is not a valid boolean.`,{metaMessages:["The bytes array must contain a single byte of either a `0` or `1` value."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesBooleanError"})}}re.C;class rh extends re.C{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed \`${t}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}}class rm extends re.C{constructor({offset:e,position:t,size:r}){super(`Slice ${"start"===t?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SliceOffsetOutOfBoundsError"})}}class rg extends re.C{constructor({size:e,targetSize:t,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}}function rw(e,t={}){var r;let{as:n="string"==typeof e?"Hex":"Bytes"}=t,a=(0,rt.lY)(e instanceof Uint8Array?e:"string"==typeof e?rf(e):(r=e)instanceof Uint8Array?r:new Uint8Array(r));return"Bytes"===n?a:rr.uK(a)}class rv extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){let t=super.get(e);return super.has(e)&&void 0!==t&&(this.delete(e),super.set(e,t)),t}set(e,t){if(super.set(e,t),this.maxSize&&this.size>this.maxSize){let e=this.keys().next().value;e&&this.delete(e)}return this}}let rE={checksum:new rv(8192)}.checksum,rx=/^0x[a-fA-F0-9]{40}$/;function r$(e,t={}){let{strict:r=!0}=t;if(!rx.test(e))throw new rC({address:e,cause:new rk});if(r){if(e.toLowerCase()===e)return;if(rA(e)!==e)throw new rC({address:e,cause:new rS})}}function rA(e){if(rE.has(e))return rE.get(e);r$(e,{strict:!1});let t=e.substring(2).toLowerCase(),r=rw(function(e,t={}){let{size:r}=t,n=rc.encode(e);return"number"==typeof r?(rn(n,r),function(e,t={}){let{dir:r,size:n=32}=t;if(0===n)return e;if(e.length>n)throw new rg({size:e.length,targetSize:n,type:"Bytes"});let a=new Uint8Array(n);for(let t=0;t<n;t++){let i="right"===r;a[i?t:n-t-1]=e[i?t:e.length-t-1]}return a}(n,{dir:"right",size:r})):n}(t),{as:"Bytes"}),n=t.split("");for(let e=0;e<40;e+=2)r[e>>1]>>4>=8&&n[e]&&(n[e]=n[e].toUpperCase()),(15&r[e>>1])>=8&&n[e+1]&&(n[e+1]=n[e+1].toUpperCase());let a=`0x${n.join("")}`;return rE.set(e,a),a}function rP(e,t={}){let{strict:r=!0}=t??{};try{return r$(e,{strict:r}),!0}catch{return!1}}class rC extends re.C{constructor({address:e,cause:t}){super(`Address "${e}" is invalid.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class rk extends re.C{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class rS extends re.C{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}function rI(e){let t=!0,r="",n=0,a="",i=!1;for(let s=0;s<e.length;s++){let o=e[s];if(["(",")",","].includes(o)&&(t=!0),"("===o&&n++,")"===o&&n--,t){if(0===n){if(" "===o&&["event","function","error",""].includes(a))a="";else if(a+=o,")"===o){i=!0;break}continue}if(" "===o){","!==e[s-1]&&","!==r&&",("!==r&&(r="",t=!1);continue}a+=o,r+=o}}if(!i)throw new re.C("Unable to normalize signature.");return a}function rT(e,t={}){let{prepare:r=!0}=t,n=Array.isArray(e)||"string"==typeof e?function(e){let t;if("string"==typeof e)t=tY(e);else{let r=t8(e),n=e.length;for(let a=0;a<n;a++){let n=e[a];if(!tN(n)){t=tY(n,r);break}}}if(!t)throw new tE({signature:e});return t}(e):e;return{...n,...r?{hash:rR(n)}:{}}}function rB(e,t,r){let n,{args:a=[],prepare:i=!0}=r??{},s=rr.tf(t,{strict:!1}),o=e.filter(e=>s?"function"===e.type||"error"===e.type?rN(e)===rr.di(t,0,4):"event"===e.type&&rR(e)===t:"name"in e&&e.name===t);if(0===o.length)throw new rO({name:t});if(1===o.length)return{...o[0],...i?{hash:rR(o[0])}:{}};for(let e of o){if("inputs"in e){if(!a||0===a.length){if(!e.inputs||0===e.inputs.length)return{...e,...i?{hash:rR(e)}:{}};continue}if(e.inputs&&0!==e.inputs.length&&e.inputs.length===a.length&&a.every((t,r)=>{let n="inputs"in e&&e.inputs[r];return!!n&&function e(t,r){let n=typeof t,a=r.type;switch(a){case"address":return rP(t,{strict:!1});case"bool":return"boolean"===n;case"function":case"string":return"string"===n;default:if("tuple"===a&&"components"in r)return Object.values(r.components).every((r,n)=>e(Object.values(t)[n],r));if(/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(a))return"number"===n||"bigint"===n;if(/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(a))return"string"===n||t instanceof Uint8Array;if(/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(a))return Array.isArray(t)&&t.every(t=>e(t,{...r,type:a.replace(/(\[[0-9]{0,}\])$/,"")}));return!1}}(t,n)})){if(n&&"inputs"in n&&n.inputs){let t=function e(t,r,n){for(let a in t){let i=t[a],s=r[a];if("tuple"===i.type&&"tuple"===s.type&&"components"in i&&"components"in s)return e(i.components,s.components,n[a]);let o=[i.type,s.type];if(o.includes("address")&&o.includes("bytes20")||(o.includes("address")&&o.includes("string")||o.includes("address")&&o.includes("bytes"))&&rP(n[a],{strict:!1}))return o}}(e.inputs,n.inputs,a);if(t)throw new rM({abiItem:e,type:t[0]},{abiItem:n,type:t[1]})}n=e}}}let l=(()=>{if(n)return n;let[e,...t]=o;return{...e,overloads:t}})();if(!l)throw new rO({name:t});return{...l,...i?{hash:rR(l)}:{}}}function rN(...e){let t=(()=>{if(Array.isArray(e[0])){let[t,r]=e;return rB(t,r)}return e[0]})();return rr.di(rR(t),0,4)}function rR(...e){let t=(()=>{if(Array.isArray(e[0])){let[t,r]=e;return rB(t,r)}return e[0]})();return"string"!=typeof t&&"hash"in t&&t.hash?t.hash:rw(rr.sH(function(...e){let t=(()=>{if(Array.isArray(e[0])){let[t,r]=e;return rB(t,r)}return e[0]})();return rI("string"==typeof t?t:t7(t))}(t)))}class rM extends re.C{constructor(e,t){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${e.type}\` in \`${rI(t7(e.abiItem))}\`, and`,`\`${t.type}\` in \`${rI(t7(t.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class rO extends re.C{constructor({name:e,data:t,type:r="item"}){super(`ABI ${r}${e?` with name "${e}"`:t?` with data "${t}"`:""} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}re.C;let rL=/^(.*)\[([0-9]*)\]$/,rj=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,rz=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,rU=2n**256n-1n;function rD(e){let t=0;for(let r=0;r<e.length;r++){let{dynamic:n,encoded:a}=e[r];n?t+=32:t+=rr.Ej(a)}let r=[],n=[],a=0;for(let i=0;i<e.length;i++){let{dynamic:s,encoded:o}=e[i];s?(r.push(rr.oB(t+a,{size:32})),n.push(o),a+=rr.Ej(o)):r.push(o)}return rr.xW(...r,...n)}function rF(e){let t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}function r_(e){let{type:t}=e;if("string"===t||"bytes"===t||t.endsWith("[]"))return!0;if("tuple"===t)return e.components?.some(r_);let r=rF(e.type);return!!(r&&r_({...e,type:r[1]}))}let rV={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:1/0,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new rW({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new rG({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new rq({offset:e});let t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new rq({offset:e});let t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){let t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){let r=t??this.position;return this.assertPosition(r+e-1),this.bytes.subarray(r,r+e)},inspectUint8(e){let t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){let t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){let t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){let t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,255&e),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();let e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();let r=this.inspectBytes(e);return this.position+=t??e,r},readUint8(){this.assertReadLimit(),this._touch();let e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();let e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();let e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();let e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){let t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===1/0)return;let e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};class rq extends re.C{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}}class rG extends re.C{constructor({length:e,position:t}){super(`Position \`${t}\` is out of bounds (\`0 < position < ${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}}class rW extends re.C{constructor({count:e,limit:t}){super(`Recursive read limit of \`${t}\` exceeded (recursive read count: \`${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}function rH(e,t,r){let{checksumAddress:n=!1}=r??{};if(e.length!==t.length)throw new r0({expectedLength:e.length,givenLength:t.length});let a=rD(function({checksumAddress:e,parameters:t,values:r}){let n=[];for(let a=0;a<t.length;a++)n.push(function e({checksumAddress:t=!1,parameter:r,value:n}){let a=rF(r.type);if(a){let[i,s]=a;return function(t,r){let{checksumAddress:n,length:a,parameter:i}=r,s=null===a;if(!Array.isArray(t))throw new r1(t);if(!s&&t.length!==a)throw new rX({expectedLength:a,givenLength:t.length,type:`${i.type}[${a}]`});let o=!1,l=[];for(let r=0;r<t.length;r++){let a=e({checksumAddress:n,parameter:i,value:t[r]});a.dynamic&&(o=!0),l.push(a)}if(s||o){let e=rD(l);if(s){let t=rr.oB(l.length,{size:32});return{dynamic:!0,encoded:l.length>0?rr.xW(t,e):t}}if(o)return{dynamic:!0,encoded:e}}return{dynamic:!1,encoded:rr.xW(...l.map(({encoded:e})=>e))}}(n,{checksumAddress:t,length:i,parameter:{...r,type:s}})}if("tuple"===r.type)return function(t,r){let{checksumAddress:n,parameter:a}=r,i=!1,s=[];for(let r=0;r<a.components.length;r++){let o=a.components[r],l=Array.isArray(t)?r:o.name,u=e({checksumAddress:n,parameter:o,value:t[l]});s.push(u),u.dynamic&&(i=!0)}return{dynamic:i,encoded:i?rD(s):rr.xW(...s.map(({encoded:e})=>e))}}(n,{checksumAddress:t,parameter:r});if("address"===r.type){var i=n,s={checksum:t};let{checksum:e=!1}=s;return r$(i,{strict:e}),{dynamic:!1,encoded:rr.Ho(i.toLowerCase())}}if("bool"===r.type){var o=n;if("boolean"!=typeof o)throw new re.C(`Invalid boolean value: "${o}" (type: ${typeof o}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:rr.Ho(rr.xb(o))}}if(r.type.startsWith("uint")||r.type.startsWith("int")){let e=r.type.startsWith("int"),[,,t="256"]=rz.exec(r.type)??[];return function(e,{signed:t,size:r}){if("number"==typeof r){let n=2n**(BigInt(r)-(t?1n:0n))-1n,a=t?-n-1n:0n;if(e>n||e<a)throw new rr.Ty({max:n.toString(),min:a.toString(),signed:t,size:r/8,value:e.toString()})}return{dynamic:!1,encoded:rr.oB(e,{size:32,signed:t})}}(n,{signed:e,size:Number(t)})}if(r.type.startsWith("bytes"))return function(e,{type:t}){let[,r]=t.split("bytes"),n=rr.Ej(e);if(!r){let t=e;return n%32!=0&&(t=rr.M7(t,32*Math.ceil((e.length-2)/2/32))),{dynamic:!0,encoded:rr.xW(rr.Ho(rr.oB(n,{size:32})),t)}}if(n!==Number.parseInt(r,10))throw new rQ({expectedSize:Number.parseInt(r,10),value:e});return{dynamic:!1,encoded:rr.M7(e)}}(n,{type:r.type});if("string"===r.type){var l=n;let e=rr.sH(l),t=Math.ceil(rr.Ej(e)/32),r=[];for(let n=0;n<t;n++)r.push(rr.M7(rr.di(e,32*n,(n+1)*32)));return{dynamic:!0,encoded:rr.xW(rr.M7(rr.oB(rr.Ej(e),{size:32})),...r)}}throw new r6(r.type)}({checksumAddress:e,parameter:t[a],value:r[a]}));return n}({checksumAddress:n,parameters:e,values:t}));return 0===a.length?"0x":a}function rK(e,t){if(e.length!==t.length)throw new r0({expectedLength:e.length,givenLength:t.length});let r=[];for(let n=0;n<e.length;n++){let a=e[n],i=t[n];r.push(rK.encode(a,i))}return rr.xW(...r)}function rZ(e){return Array.isArray(e)&&"string"==typeof e[0]||"string"==typeof e?function(e){let t=[];if("string"==typeof e){let r=t6(e),n=r.length;for(let e=0;e<n;e++)t.push(t1(r[e],{modifiers:tL}))}else{let r=t8(e),n=e.length;for(let a=0;a<n;a++){let n=e[a];if(tN(n))continue;let i=t6(n),s=i.length;for(let e=0;e<s;e++)t.push(t1(i[e],{modifiers:tL,structs:r}))}}if(0===t.length)throw new tU({params:e});return t}(e):e}(rK||(rK={})).encode=function e(t,r,n=!1){if("address"===t)return r$(r),rr.Ho(r.toLowerCase(),32*!!n);if("string"===t)return rr.sH(r);if("bytes"===t)return r;if("bool"===t)return rr.Ho(rr.xb(r),n?32:1);let a=t.match(rz);if(a){let[e,t,i="256"]=a,s=Number.parseInt(i,10)/8;return rr.oB(r,{size:n?32:s,signed:"int"===t})}let i=t.match(rj);if(i){let[e,t]=i;if(Number.parseInt(t,10)!==(r.length-2)/2)throw new rQ({expectedSize:Number.parseInt(t,10),value:r});return rr.M7(r,32*!!n)}let s=t.match(rL);if(s&&Array.isArray(r)){let[t,n]=s,a=[];for(let t=0;t<r.length;t++)a.push(e(n,r[t],!0));return 0===a.length?"0x":rr.xW(...a)}throw new r6(t)};class rJ extends re.C{constructor({data:e,parameters:t,size:r}){super(`Data size of ${r} bytes is too small for given parameters.`,{metaMessages:[`Params: (${t4(t)})`,`Data:   ${e} (${r} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.DataSizeTooSmallError"})}}class rY extends re.C{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ZeroDataError"})}}class rX extends re.C{constructor({expectedLength:e,givenLength:t,type:r}){super(`Array length mismatch for type \`${r}\`. Expected: \`${e}\`. Given: \`${t}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class rQ extends re.C{constructor({expectedSize:e,value:t}){super(`Size of bytes "${t}" (bytes${rr.Ej(t)}) does not match expected size (bytes${e}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class r0 extends re.C{constructor({expectedLength:e,givenLength:t}){super(`ABI encoding parameters/values length mismatch.
Expected length (parameters): ${e}
Given length (values): ${t}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class r1 extends re.C{constructor(e){super(`Value \`${e}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class r6 extends re.C{constructor(e){super(`Type \`${e}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}function r5(e,t={}){return rT(e,t)}function r2(e,t,r){let n=rB(e,t,r);if("function"!==n.type)throw new rO({name:t,type:"function"});return n}var r8=r(50583);async function r3(e,t){let{blockNumber:r,blockTag:n,calls:a,stateOverrides:s,traceAssetChanges:o,traceTransfers:l,validation:c}=t,f=t.account?(0,G.J)(t.account):void 0;if(o&&!f)throw new u.C("`account` is required when `traceAssetChanges` is true");let d=f?function(...e){let[t,r]=(()=>{if(Array.isArray(e[0])){let[t,r]=e;return[function(e){let t=e.find(e=>"constructor"===e.type);if(!t)throw new rO({name:"constructor"});return t}(t),r]}return e})(),{bytecode:n,args:a}=r;return rr.xW(n,t.inputs?.length&&a?.length?rH(t.inputs,a):"0x")}(rT("constructor(bytes, bytes)"),{bytecode:th.LX,args:["0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033",function(...e){let[t,r=[]]=(()=>{if(Array.isArray(e[0])){let[t,r,n]=e;return[r2(t,r,{args:n}),n]}let[t,r]=e;return[t,r]})(),{overloads:n}=t,a=n?r2([t,...n],t.name,{args:r}):t,i=rN(a),s=r.length>0?rH(a.inputs,r):void 0;return s?rr.xW(i,s):i}(r5("function getBalance(address)"),[f.address])]}):void 0,p=o?await Promise.all(t.calls.map(async t=>{if(!t.data&&!t.abi)return;let{accessList:r}=await J(e,{account:f.address,...t,data:t.abi?(0,i.p)(t):t.data});return r.map(({address:e,storageKeys:t})=>t.length>0?e:null)})).then(e=>e.flat().filter(Boolean)):[],y=await tw(e,{blockNumber:r,blockTag:n,blocks:[...o?[{calls:[{data:d}],stateOverrides:s},{calls:p.map((e,t)=>({abi:[r5("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[f.address],to:e,from:r8.Xd,nonce:t})),stateOverrides:[{address:r8.Xd,nonce:0}]}]:[],{calls:[...a,{}].map(e=>({...e,from:f?.address})),stateOverrides:s},...o?[{calls:[{data:d}]},{calls:p.map((e,t)=>({abi:[r5("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[f.address],to:e,from:r8.Xd,nonce:t})),stateOverrides:[{address:r8.Xd,nonce:0}]},{calls:p.map((e,t)=>({to:e,abi:[r5("function decimals() returns (uint256)")],functionName:"decimals",from:r8.Xd,nonce:t})),stateOverrides:[{address:r8.Xd,nonce:0}]},{calls:p.map((e,t)=>({to:e,abi:[r5("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:r8.Xd,nonce:t})),stateOverrides:[{address:r8.Xd,nonce:0}]},{calls:p.map((e,t)=>({to:e,abi:[r5("function symbol() returns (string)")],functionName:"symbol",from:r8.Xd,nonce:t})),stateOverrides:[{address:r8.Xd,nonce:0}]}]:[]],traceTransfers:l,validation:c}),b=o?y[2]:y[0],[h,m,,g,w,v,E,x]=o?y:[],{calls:$,...A}=b,P=$.slice(0,-1)??[],C=[...h?.calls??[],...m?.calls??[]].map(e=>"success"===e.status?(0,ey.uU)(e.data):null),k=[...g?.calls??[],...w?.calls??[]].map(e=>"success"===e.status?(0,ey.uU)(e.data):null),S=(v?.calls??[]).map(e=>"success"===e.status?e.result:null),I=(x?.calls??[]).map(e=>"success"===e.status?e.result:null),T=(E?.calls??[]).map(e=>"success"===e.status?e.result:null),B=[];for(let[e,t]of k.entries()){let r=C[e];if("bigint"!=typeof t||"bigint"!=typeof r)continue;let n=S[e-1],a=I[e-1],i=T[e-1],s=0===e?{address:r8.m8,decimals:18,symbol:"ETH"}:{address:p[e-1],decimals:i||n?Number(n??1):void 0,symbol:a??void 0};B.some(e=>e.token.address===s.address)||B.push({token:s,value:{pre:r,post:t,diff:t-r}})}return{assetChanges:B,block:A,results:P}}async function r9(e,t){let{abi:r,address:n,args:s,dataSuffix:o,functionName:l,...u}=t,c=u.account?(0,G.J)(u.account):e.account,f=(0,i.p)({abi:r,args:s,functionName:l});try{let{data:i}=await (0,v.T)(e,q.T,"call")({batch:!1,data:`${f}${o?o.replace("0x",""):""}`,to:n,...u,account:c}),d=(0,a.e)({abi:r,args:s,functionName:l,data:i||"0x"}),p=r.filter(e=>"name"in e&&e.name===t.functionName);return{result:d,request:{abi:p,address:n,args:s,dataSuffix:o,functionName:l,...u,account:c}}}catch(e){throw(0,ef.j)(e,{abi:r,address:n,args:s,docsPath:"/docs/contract/simulateContract",functionName:l,sender:c?.address})}}async function r4(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}let r7="0x6492649264926492649264926492649264926492649264926492649264926492";class ne extends re.C{constructor(e){super(`Value \`${e}\` is an invalid ERC-6492 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc6492.InvalidWrappedSignatureError"})}}function nt(e,t={}){let{recovered:r}=t;if(void 0===e.r||void 0===e.s||r&&void 0===e.yParity)throw new ni({signature:e});if(e.r<0n||e.r>rU)throw new ns({value:e.r});if(e.s<0n||e.s>rU)throw new no({value:e.s});if("number"==typeof e.yParity&&0!==e.yParity&&1!==e.yParity)throw new nl({value:e.yParity})}function nr(e){if(130!==e.length&&132!==e.length)throw new na({signature:e});let t=BigInt(rr.di(e,0,32)),r=BigInt(rr.di(e,32,64)),n=(()=>{let t=Number(`0x${e.slice(130)}`);if(!Number.isNaN(t))try{return nn(t)}catch{throw new nl({value:t})}})();return void 0===n?{r:t,s:r}:{r:t,s:r,yParity:n}}function nn(e){if(0===e||27===e)return 0;if(1===e||28===e)return 1;if(e>=35)return+(e%2==0);throw new nu({value:e})}class na extends re.C{constructor({signature:e}){super(`Value \`${e}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${rr.Ej(rr.HT(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class ni extends re.C{constructor({signature:e}){super(`Signature \`${rl.A(e)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}class ns extends re.C{constructor({value:e}){super(`Value \`${e}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}class no extends re.C{constructor({value:e}){super(`Value \`${e}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}class nl extends re.C{constructor({value:e}){super(`Value \`${e}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class nu extends re.C{constructor({value:e}){super(`Value \`${e}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}let nc=rZ("(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data");function nf(e){if("string"==typeof e){if("0x8010801080108010801080108010801080108010801080108010801080108010"!==rr.di(e,-32))throw new nd(e)}else nt(e.authorization)}class nd extends re.C{constructor(e){super(`Value \`${e}\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc8010.InvalidWrappedSignatureError"})}}var np=r(13003);async function ny({address:e,authorization:t,signature:r}){return(0,e2.h)((0,ed.b)(e),await ew({authorization:t,signature:r}))}var nb=r(55254);async function nh(e,t){let{address:r,hash:n,erc6492VerifierAddress:a=t.universalSignatureVerifierAddress??e.chain?.contracts?.erc6492Verifier?.address,multicallAddress:i=t.multicallAddress??e.chain?.contracts?.multicall3?.address}=t,s=(()=>{let e=t.signature;return(0,h.q)(e)?e:"object"==typeof e&&"r"in e&&"s"in e?function({r:e,s:t,to:r="hex",v:n,yParity:a}){let i=(()=>{if(0===a||1===a)return a;if(n&&(27n===n||28n===n||n>=35n))return+(n%2n===0n);throw Error("Invalid `v` or `yParity` value")})(),s=`0x${new nb.secp256k1.Signature((0,ey.uU)(e),(0,ey.uU)(t)).toCompactHex()}${0===i?"1b":"1c"}`;return"hex"===r?s:(0,y.aT)(s)}(e):(0,l.My)(e)})();try{if(function(e){try{return nf(e),!0}catch{return!1}}(s))return await nm(e,{...t,multicallAddress:i,signature:s});return await ng(e,{...t,verifierAddress:a,signature:s})}catch(e){try{if((0,e2.h)((0,ed.b)(r),await em({hash:n,signature:s})))return!0}catch{}if(e instanceof nv)return!1;throw e}}async function nm(e,t){let{address:r,blockNumber:a,blockTag:s,hash:o,multicallAddress:u}=t,{authorization:c,data:f,signature:d,to:y}=function(e){nf(e);let t=rr.Ro(rr.di(e,-64,-32)),r=rr.di(e,-t-64,-64),n=rr.di(e,0,-t-64),[a,i,s]=function(e,t,r={}){let{as:n="Array",checksumAddress:a=!1}=r,i="string"==typeof t?rf(t):t,s=function(e,{recursiveReadLimit:t=8192}={}){let r=Object.create(rV);return r.bytes=e,r.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),r.positionReadCount=new Map,r.recursiveReadLimit=t,r}(i);if(0===rd(i)&&e.length>0)throw new rY;if(rd(i)&&32>rd(i))throw new rJ({data:"string"==typeof t?t:rr.uK(t),parameters:e,size:rd(i)});let o=0,l="Array"===n?[]:{};for(let t=0;t<e.length;++t){let r=e[t];s.setPosition(o);let[i,u]=function e(t,r,n){let{checksumAddress:a,staticPosition:i}=n,s=rF(r.type);if(s){let[n,o]=s;return function(t,r,n){let{checksumAddress:a,length:i,staticPosition:s}=n;if(!i){let n=s+rp(t.readBytes(32)),i=n+32;t.setPosition(n);let o=rp(t.readBytes(32)),l=r_(r),u=0,c=[];for(let n=0;n<o;++n){t.setPosition(i+(l?32*n:u));let[s,o]=e(t,r,{checksumAddress:a,staticPosition:i});u+=o,c.push(s)}return t.setPosition(s+32),[c,32]}if(r_(r)){let n=s+rp(t.readBytes(32)),o=[];for(let s=0;s<i;++s){t.setPosition(n+32*s);let[i]=e(t,r,{checksumAddress:a,staticPosition:n});o.push(i)}return t.setPosition(s+32),[o,32]}let o=0,l=[];for(let n=0;n<i;++n){let[n,i]=e(t,r,{checksumAddress:a,staticPosition:s+o});o+=i,l.push(n)}return[l,o]}(t,{...r,type:o},{checksumAddress:a,length:n,staticPosition:i})}if("tuple"===r.type)return function(t,r,n){let{checksumAddress:a,staticPosition:i}=n,s=0===r.components.length||r.components.some(({name:e})=>!e),o=s?[]:{},l=0;if(r_(r)){let n=i+rp(t.readBytes(32));for(let i=0;i<r.components.length;++i){let u=r.components[i];t.setPosition(n+l);let[c,f]=e(t,u,{checksumAddress:a,staticPosition:n});l+=f,o[s?i:u?.name]=c}return t.setPosition(i+32),[o,32]}for(let n=0;n<r.components.length;++n){let u=r.components[n],[c,f]=e(t,u,{checksumAddress:a,staticPosition:i});o[s?n:u?.name]=c,l+=f}return[o,l]}(t,r,{checksumAddress:a,staticPosition:i});if("address"===r.type)return function(e,t={}){let r,{checksum:n=!1}=t,a=e.readBytes(32);return[(r=rr.uK(function(e,t,r,n={}){let{strict:a}=n;!1;let i=e.slice(-20,void 0);return a&&function(e,t,r){if("number"==typeof t&&"number"==typeof r&&rd(e)!==r-t)throw new rm({offset:r,position:"end",size:rd(e)})}(i,-20,void 0),i}(a,-20)),n?rA(r):r),32]}(t,{checksum:a});if("bool"===r.type)return[function(e,t={}){let{size:r}=t,n=e;if(void 0!==r&&(rn(n,r),n=ry(n)),n.length>1||n[0]>1)throw new rb(n);return!!n[0]}(t.readBytes(32),{size:32}),32];if(r.type.startsWith("bytes"))return function(e,t,{staticPosition:r}){let[n,a]=t.type.split("bytes");if(!a){let t=rp(e.readBytes(32));e.setPosition(r+t);let n=rp(e.readBytes(32));if(0===n)return e.setPosition(r+32),["0x",32];let a=e.readBytes(n);return e.setPosition(r+32),[rr.uK(a),32]}return[rr.uK(e.readBytes(Number.parseInt(a,10),32)),32]}(t,r,{staticPosition:i});if(r.type.startsWith("uint")||r.type.startsWith("int")){var o=t,l=r;let e=l.type.startsWith("int"),n=Number.parseInt(l.type.split("int")[1]||"256",10),a=o.readBytes(32);return[n>48?function(e,t={}){let{size:r}=t;void 0!==r&&rn(e,r);let n=rr.uK(e,t);return rr.Dg(n,t)}(a,{signed:e}):rp(a,{signed:e}),32]}if("string"===r.type)return function(e,{staticPosition:t}){let r=rp(e.readBytes(32));e.setPosition(t+r);let n=rp(e.readBytes(32));if(0===n)return e.setPosition(t+32),["",32];let a=function(e,t={}){let{size:r}=t,n=e;return void 0!==r&&(rn(n,r),n=rs(n,{dir:"right"})),ru.decode(n)}(ry(e.readBytes(n,32)));return e.setPosition(t+32),[a,32]}(t,{staticPosition:i});throw new r6(r.type)}(s,r,{checksumAddress:a,staticPosition:0});o+=u,"Array"===n?l.push(i):l[r.name??t]=i}return l}(nc,r);return{authorization:function(e,t={}){return"string"==typeof e.chainId?function(e){let{address:t,chainId:r,nonce:n}=e,a=function(e){if(void 0!==e.r&&void 0!==e.s){var t=e;let r=(()=>{var e;if("string"==typeof t)return nr(t);if(t instanceof Uint8Array)return nr(rr.uK(t));return"string"==typeof t.r?function(e){let t=(()=>{let t=e.v?Number(e.v):void 0,r=e.yParity?Number(e.yParity):void 0;if("number"==typeof t&&"number"!=typeof r&&(r=nn(t)),"number"!=typeof r)throw new nl({value:e.yParity});return r})();return{r:BigInt(e.r),s:BigInt(e.s),yParity:t}}(t):t.v?{r:(e=t).r,s:e.s,yParity:nn(e.v)}:{r:t.r,s:t.s,...void 0!==t.yParity?{yParity:t.yParity}:{}}})();return nt(r),r}}(e);return{address:t,chainId:Number(r),nonce:BigInt(n),...a}}(e):{...e,...t.signature}}({address:a.delegation,chainId:Number(a.chainId),nonce:a.nonce,yParity:a.yParity,r:a.r,s:a.s}),signature:n,...s&&"0x"!==s?{data:s,to:i}:{}}}(t.signature);if(await (0,e5.Q)(e,{address:r,blockNumber:a,blockTag:s})===(0,p.aP)(["0xef0100",c.address]))return await nw(e,{address:r,blockNumber:a,blockTag:s,hash:o,signature:d});let b={address:c.address,chainId:Number(c.chainId),nonce:Number(c.nonce),r:(0,l.cK)(c.r,{size:32}),s:(0,l.cK)(c.s,{size:32}),yParity:c.yParity};if(!await ny({address:r,authorization:b}))throw new nv;let h=await (0,v.T)(e,E.J,"readContract")({...u?{address:u}:{code:th.Ez},authorizationList:[b],abi:n.v2,blockNumber:a,blockTag:"pending",functionName:"aggregate3",args:[[...f?[{allowFailure:!0,target:y??r,callData:f}]:[],{allowFailure:!0,target:r,callData:(0,i.p)({abi:n.UW,functionName:"isValidSignature",args:[o,d]})}]]}),m=h[h.length-1]?.returnData;if(m?.startsWith("0x1626ba7e"))return!0;throw new nv}async function ng(e,t){let{address:r,factory:a,factoryData:s,hash:o,signature:l,verifierAddress:u,...f}=t,d=await (async()=>{if(!a&&!s||function(e){try{if(rr.di(e,-32)!==r7)throw new ne(e);return!0}catch{return!1}}(l))return l;let{data:e,signature:t,to:r}={data:s,signature:l,to:a};return rr.xW(rH(rZ("address, bytes, bytes"),[r,e,t]),r7)})(),p=u?{to:u,data:(0,i.p)({abi:n.E5,functionName:"isValidSig",args:[r,o,d]}),...f}:{data:(0,np.m)({abi:n.E5,args:[r,o,d],bytecode:th.fT}),...f},{data:y}=await (0,v.T)(e,q.T,"call")(p).catch(e=>{if(e instanceof c.zX)throw new nv;throw e});if((0,ey.Nx)(y??"0x0"))return!0;throw new nv}async function nw(e,t){let{address:r,blockNumber:a,blockTag:i,hash:s,signature:o}=t;if((await (0,v.T)(e,E.J,"readContract")({address:r,abi:n.UW,args:[s,o],blockNumber:a,blockTag:i,functionName:"isValidSignature"}).catch(e=>{if(e instanceof c.bG)throw new nv;throw e})).startsWith("0x1626ba7e"))return!0;throw new nv}class nv extends Error{}function nE(e,t){return(0,b.S)(function(e){let t="string"==typeof e?(0,l.i3)(e):"string"==typeof e.raw?e.raw:(0,l.My)(e.raw),r=(0,l.i3)(`\x19Ethereum Signed Message:
${(0,ep.E)(t)}`);return(0,p.xW)([r,t])}(e),t)}async function nx(e,{address:t,message:r,factory:n,factoryData:a,signature:i,...s}){return nh(e,{address:t,factory:n,factoryData:a,hash:nE(r),signature:i,...s})}var n$=r(45755),nA=r(40474);class nP extends u.C{constructor({domain:e}){super(`Invalid domain "${(0,nA.A)(e)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class nC extends u.C{constructor({primaryType:e,types:t}){super(`Invalid primary type \`${e}\` must be one of \`${JSON.stringify(Object.keys(t))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class nk extends u.C{constructor({type:e}){super(`Struct type "${e}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}var nS=r(57512),nI=r(3796);function nT({data:e,primaryType:t,types:r}){let n=function e({data:t,primaryType:r,types:n}){let a=[{type:"bytes32"}],i=[function({primaryType:e,types:t}){let r=(0,l.nj)(function({primaryType:e,types:t}){let r="",n=function e({primaryType:t,types:r},n=new Set){let a=t.match(/^\w*/u),i=a?.[0];if(n.has(i)||void 0===r[i])return n;for(let t of(n.add(i),r[i]))e({primaryType:t.type,types:r},n);return n}({primaryType:e,types:t});for(let a of(n.delete(e),[e,...Array.from(n).sort()]))r+=`${a}(${t[a].map(({name:e,type:t})=>`${t} ${e}`).join(",")})`;return r}({primaryType:e,types:t}));return(0,b.S)(r)}({primaryType:r,types:n})];for(let s of n[r]){let[r,o]=function t({types:r,name:n,type:a,value:i}){if(void 0!==r[a])return[{type:"bytes32"},(0,b.S)(e({data:i,primaryType:a,types:r}))];if("bytes"===a){let e=i.length%2?"0":"";return i=`0x${e+i.slice(2)}`,[{type:"bytes32"},(0,b.S)(i)]}if("string"===a)return[{type:"bytes32"},(0,b.S)((0,l.nj)(i))];if(a.lastIndexOf("]")===a.length-1){let e=a.slice(0,a.lastIndexOf("[")),s=i.map(a=>t({name:n,type:e,types:r,value:a}));return[{type:"bytes32"},(0,b.S)((0,er.h)(s.map(([e])=>e),s.map(([,e])=>e)))]}return[{type:a},i]}({types:n,name:s.name,type:s.type,value:t[s.name]});a.push(r),i.push(o)}return(0,er.h)(a,i)}({data:e,primaryType:t,types:r});return(0,b.S)(n)}async function nB(e,t){let{address:r,factory:n,factoryData:a,signature:i,message:s,primaryType:o,types:u,domain:c,...f}=t;return nh(e,{address:r,factory:n,factoryData:a,hash:function(e){let{domain:t={},message:r,primaryType:n}=e,a={EIP712Domain:function({domain:e}){return["string"==typeof e?.name&&{name:"name",type:"string"},e?.version&&{name:"version",type:"string"},("number"==typeof e?.chainId||"bigint"==typeof e?.chainId)&&{name:"chainId",type:"uint256"},e?.verifyingContract&&{name:"verifyingContract",type:"address"},e?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}({domain:t}),...e.types},{domain:i,message:s,primaryType:o,types:u}={domain:t,message:r,primaryType:n,types:a},c=(e,t)=>{for(let r of e){let{name:e,type:n}=r,a=t[e],i=n.match(nI.Ge);if(i&&("number"==typeof a||"bigint"==typeof a)){let[e,t,r]=i;(0,l.cK)(a,{signed:"int"===t,size:Number.parseInt(r,10)/8})}if("address"===n&&"string"==typeof a&&!(0,nS.P)(a))throw new n$.M({address:a});let s=n.match(nI.BD);if(s){let[e,t]=s;if(t&&(0,ep.E)(a)!==Number.parseInt(t,10))throw new Q.BI({expectedSize:Number.parseInt(t,10),givenSize:(0,ep.E)(a)})}let o=u[n];o&&(function(e){if("address"===e||"bool"===e||"string"===e||e.startsWith("bytes")||e.startsWith("uint")||e.startsWith("int"))throw new nk({type:e})}(n),c(o,a))}};if(u.EIP712Domain&&i){if("object"!=typeof i)throw new nP({domain:i});c(u.EIP712Domain,i)}if("EIP712Domain"!==o)if(u[o])c(u[o],s);else throw new nC({primaryType:o,types:u});let f=["0x1901"];return t&&f.push(function({domain:e,types:t}){return nT({data:e,primaryType:"EIP712Domain",types:t})}({domain:t,types:a})),"EIP712Domain"!==n&&f.push(nT({data:r,primaryType:n,types:a})),(0,b.S)((0,p.xW)(f))}({message:s,primaryType:o,types:u,domain:c}),signature:i,...f})}let nN=new Map,nR=new Map,nM=0;function nO(e,t,r){let n=++nM,a=()=>nN.get(e)||[],i=()=>{let t=a();if(!t.some(e=>e.id===n))return;let r=nR.get(e);if(1===t.length&&r){let e=r();e instanceof Promise&&e.catch(()=>{})}let i=a();nN.set(e,i.filter(e=>e.id!==n))},s=a();if(nN.set(e,[...s,{id:n,fns:t}]),s&&s.length>0)return i;let o={};for(let e in t)o[e]=(...t)=>{let r=a();if(0!==r.length)for(let n of r)n.fns[e]?.(...t)};let l=r(o);return"function"==typeof l&&nR.set(e,l),i}var nL=r(3190),nj=r(44439),nz=r(77004);function nU(e,{emitOnBegin:t,initialWaitTime:r,interval:n}){let a=!0,i=()=>a=!1;return(async()=>{let s;t&&(s=await e({unpoll:i}));let o=await r?.(s)??n;await (0,nz.u)(o);let l=async()=>{a&&(await e({unpoll:i}),await (0,nz.u)(n),l())};l()})(),i}function nD(e,{emitOnBegin:t=!1,emitMissed:r=!1,onBlockNumber:n,onError:a,poll:i,pollingInterval:s=e.pollingInterval}){let o;return(void 0!==i?i:"webSocket"!==e.transport.type&&"ipc"!==e.transport.type&&("fallback"!==e.transport.type||"webSocket"!==e.transport.transports[0].config.type&&"ipc"!==e.transport.transports[0].config.type))?nO((0,nA.A)(["watchBlockNumber",e.uid,t,r,s]),{onBlockNumber:n,onError:a},n=>nU(async()=>{try{let t=await (0,v.T)(e,e1,"getBlockNumber")({cacheTime:0});if(void 0!==o){if(t===o)return;if(t-o>1&&r)for(let e=o+1n;e<t;e++)n.onBlockNumber(e,o),o=e}(void 0===o||t>o)&&(n.onBlockNumber(t,o),o=t)}catch(e){n.onError?.(e)}},{emitOnBegin:t,interval:s})):nO((0,nA.A)(["watchBlockNumber",e.uid,t,r]),{onBlockNumber:n,onError:a},t=>{let r=!0,n=()=>r=!1;return(async()=>{try{let a=(()=>{if("fallback"===e.transport.type){let t=e.transport.transports.find(e=>"webSocket"===e.config.type||"ipc"===e.config.type);return t?t.value:e.transport}return e.transport})(),{unsubscribe:i}=await a.subscribe({params:["newHeads"],onData(e){if(!r)return;let n=(0,ey.uU)(e.result?.number);t.onBlockNumber(n,o),o=n},onError(e){t.onError?.(e)}});n=i,r||n()}catch(e){a?.(e)}})(),()=>n()})}async function nF(e,t){let r,n,a,i,s,{checkReplacement:o=!0,confirmations:l=1,hash:u,onReplaced:c,retryCount:f=6,retryDelay:d=({count:e})=>200*~~(1<<e),timeout:p=18e4}=t,y=(0,nA.A)(["waitForTransactionReceipt",e.uid,u]),b=t.pollingInterval?t.pollingInterval:e.chain?.experimental_preconfirmationTime?e.chain.experimental_preconfirmationTime:e.pollingInterval,h=!1,{promise:m,resolve:g,reject:w}=(0,nL.Y)(),E=p?setTimeout(()=>{s?.(),i?.(),w(new ex.WA({hash:u}))},p):void 0;return i=nO(y,{onReplaced:c,resolve:g,reject:w},async t=>{if((a=await (0,v.T)(e,tb,"getTransactionReceipt")({hash:u}).catch(()=>void 0))&&l<=1){clearTimeout(E),t.resolve(a),i?.();return}s=(0,v.T)(e,nD,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:b,async onBlockNumber(c){let p=e=>{clearTimeout(E),s?.(),e(),i?.()},y=c;if(!h)try{if(a){if(l>1&&(!a.blockNumber||y-a.blockNumber+1n<l))return;p(()=>t.resolve(a));return}if(o&&!r&&(h=!0,await (0,nj.b)(async()=>{(r=await (0,v.T)(e,td,"getTransaction")({hash:u})).blockNumber&&(y=r.blockNumber)},{delay:d,retryCount:f}),h=!1),a=await (0,v.T)(e,tb,"getTransactionReceipt")({hash:u}),l>1&&(!a.blockNumber||y-a.blockNumber+1n<l))return;p(()=>t.resolve(a))}catch(i){if(i instanceof ex.Kz||i instanceof ex.Kc){if(!r){h=!1;return}try{n=r,h=!0;let i=await (0,nj.b)(()=>(0,v.T)(e,eN,"getBlock")({blockNumber:y,includeTransactions:!0}),{delay:d,retryCount:f,shouldRetry:({error:e})=>e instanceof eT});h=!1;let s=i.transactions.find(({from:e,nonce:t})=>e===n.from&&t===n.nonce);if(!s||(a=await (0,v.T)(e,tb,"getTransactionReceipt")({hash:s.hash}),l>1&&(!a.blockNumber||y-a.blockNumber+1n<l)))return;let o="replaced";s.to===n.to&&s.value===n.value&&s.input===n.input?o="repriced":s.from===s.to&&0n===s.value&&(o="cancelled"),p(()=>{t.onReplaced?.({reason:o,replacedTransaction:n,transaction:s,transactionReceipt:a}),t.resolve(a)})}catch(e){p(()=>t.reject(e))}}else p(()=>t.reject(i))}}})}),m}var n_=r(18912);let nV=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,nq=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;async function nG(e,t){let{address:r,domain:n,message:a,nonce:i,scheme:s,signature:o,time:l=new Date,...u}=t,c=function(e){let{scheme:t,statement:r,...n}=e.match(nV)?.groups??{},{chainId:a,expirationTime:i,issuedAt:s,notBefore:o,requestId:l,...u}=e.match(nq)?.groups??{},c=e.split("Resources:")[1]?.split("\n- ").slice(1);return{...n,...u,...a?{chainId:Number(a)}:{},...i?{expirationTime:new Date(i)}:{},...s?{issuedAt:new Date(s)}:{},...o?{notBefore:new Date(o)}:{},...l?{requestId:l}:{},...c?{resources:c}:{},...t?{scheme:t}:{},...r?{statement:r}:{}}}(a);if(!c.address||!function(e){let{address:t,domain:r,message:n,nonce:a,scheme:i,time:s=new Date}=e;if(r&&n.domain!==r||a&&n.nonce!==a||i&&n.scheme!==i||n.expirationTime&&s>=n.expirationTime||n.notBefore&&s<n.notBefore)return!1;try{if(!n.address||!(0,nS.P)(n.address,{strict:!1})||t&&!(0,e2.h)(n.address,t))return!1}catch{return!1}return!0}({address:r,domain:n,message:c,nonce:i,scheme:s,time:l}))return!1;let f=nE(a);return nh(e,{address:c.address,hash:f,signature:o,...u})}async function nW(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}async function nH(e,{serializedTransaction:t,throwOnReceiptRevert:r,timeout:n}){let a=await e.request({method:"eth_sendRawTransactionSync",params:n?[t,(0,l.cK)(n)]:[t]},{retryCount:0}),i=(e.chain?.formatters?.transactionReceipt?.format||ty.uL)(a);if("reverted"===i.status&&r)throw new ex.Sq({receipt:i});return i}function nK(e){return{call:t=>(0,q.T)(e,t),createAccessList:t=>J(e,t),createBlockFilter:()=>X(e),createContractEventFilter:t=>el(e,t),createEventFilter:t=>eu(e,t),createPendingTransactionFilter:()=>ec(e),estimateContractGas:t=>eZ(e,t),estimateGas:t=>eK(e,t),getBalance:t=>eJ(e,t),getBlobBaseFee:()=>eY(e),getBlock:t=>eN(e,t),getBlockNumber:t=>e1(e,t),getBlockTransactionCount:t=>e6(e,t),getBytecode:t=>(0,e5.Q)(e,t),getChainId:()=>eq(e),getCode:t=>(0,e5.Q)(e,t),getContractEvents:t=>tr(e,t),getEip712Domain:t=>ta(e,t),getEnsAddress:t=>x(e,t),getEnsAvatar:t=>F(e,t),getEnsName:t=>_(e,t),getEnsResolver:t=>V(e,t),getEnsText:t=>D(e,t),getFeeHistory:t=>ts(e,t),estimateFeesPerGas:t=>eL(e,t),getFilterChanges:t=>to(e,t),getFilterLogs:t=>tl(e,t),getGasPrice:()=>eR(e),getLogs:t=>tt(e,t),getProof:t=>tu(e,t),estimateMaxPriorityFeePerGas:t=>eM(e,t),getStorageAt:t=>tc(e,t),getTransaction:t=>td(e,t),getTransactionConfirmations:t=>tp(e,t),getTransactionCount:t=>ez(e,t),getTransactionReceipt:t=>tb(e,t),multicall:t=>tm(e,t),prepareTransactionRequest:t=>eH(e,t),readContract:t=>(0,E.J)(e,t),sendRawTransaction:t=>nW(e,t),sendRawTransactionSync:t=>nH(e,t),simulate:t=>tw(e,t),simulateBlocks:t=>tw(e,t),simulateCalls:t=>r3(e,t),simulateContract:t=>r9(e,t),verifyHash:t=>nh(e,t),verifyMessage:t=>nx(e,t),verifySiweMessage:t=>nG(e,t),verifyTypedData:t=>nB(e,t),uninstallFilter:t=>r4(e,t),waitForTransactionReceipt:t=>nF(e,t),watchBlocks:t=>(function(e,{blockTag:t=e.experimental_blockTag??"latest",emitMissed:r=!1,emitOnBegin:n=!1,onBlock:a,onError:i,includeTransactions:s,poll:o,pollingInterval:l=e.pollingInterval}){let u,c,f,d,p=void 0!==o?o:"webSocket"!==e.transport.type&&"ipc"!==e.transport.type&&("fallback"!==e.transport.type||"webSocket"!==e.transport.transports[0].config.type&&"ipc"!==e.transport.transports[0].config.type),y=s??!1;return p?nO((0,nA.A)(["watchBlocks",e.uid,t,r,n,y,l]),{onBlock:a,onError:i},a=>nU(async()=>{try{let n=await (0,v.T)(e,eN,"getBlock")({blockTag:t,includeTransactions:y});if(null!==n.number&&u?.number!=null){if(n.number===u.number)return;if(n.number-u.number>1&&r)for(let t=u?.number+1n;t<n.number;t++){let r=await (0,v.T)(e,eN,"getBlock")({blockNumber:t,includeTransactions:y});a.onBlock(r,u),u=r}}(u?.number==null||"pending"===t&&n?.number==null||null!==n.number&&n.number>u.number)&&(a.onBlock(n,u),u=n)}catch(e){a.onError?.(e)}},{emitOnBegin:n,interval:l})):(c=!0,f=!0,d=()=>c=!1,(async()=>{try{n&&(0,v.T)(e,eN,"getBlock")({blockTag:t,includeTransactions:y}).then(e=>{c&&f&&(a(e,void 0),f=!1)}).catch(i);let r=(()=>{if("fallback"===e.transport.type){let t=e.transport.transports.find(e=>"webSocket"===e.config.type||"ipc"===e.config.type);return t?t.value:e.transport}return e.transport})(),{unsubscribe:s}=await r.subscribe({params:["newHeads"],async onData(t){if(!c)return;let r=await (0,v.T)(e,eN,"getBlock")({blockNumber:t.result?.number,includeTransactions:y}).catch(()=>{});c&&(a(r,u),f=!1,u=r)},onError(e){i?.(e)}});d=s,c||d()}catch(e){i?.(e)}})(),()=>d())})(e,t),watchBlockNumber:t=>nD(e,t),watchContractEvent:t=>(function(e,t){let{abi:r,address:n,args:a,batch:i=!0,eventName:s,fromBlock:o,onError:l,onLogs:u,poll:c,pollingInterval:f=e.pollingInterval,strict:d}=t;return(void 0!==c?c:"bigint"==typeof o||"webSocket"!==e.transport.type&&"ipc"!==e.transport.type&&("fallback"!==e.transport.type||"webSocket"!==e.transport.transports[0].config.type&&"ipc"!==e.transport.transports[0].config.type))?(()=>{let t=d??!1;return nO((0,nA.A)(["watchContractEvent",n,a,i,e.uid,s,f,t,o]),{onLogs:u,onError:l},l=>{let u,c;void 0!==o&&(u=o-1n);let d=!1,p=nU(async()=>{if(!d){try{c=await (0,v.T)(e,el,"createContractEventFilter")({abi:r,address:n,args:a,eventName:s,strict:t,fromBlock:o})}catch{}d=!0;return}try{let o;if(c)o=await (0,v.T)(e,to,"getFilterChanges")({filter:c});else{let i=await (0,v.T)(e,e1,"getBlockNumber")({});o=u&&u<i?await (0,v.T)(e,tr,"getContractEvents")({abi:r,address:n,args:a,eventName:s,fromBlock:u+1n,toBlock:i,strict:t}):[],u=i}if(0===o.length)return;if(i)l.onLogs(o);else for(let e of o)l.onLogs([e])}catch(e){c&&e instanceof n_.Di&&(d=!1),l.onError?.(e)}},{emitOnBegin:!0,interval:f});return async()=>{c&&await (0,v.T)(e,r4,"uninstallFilter")({filter:c}),p()}})})():(()=>{let t=(0,nA.A)(["watchContractEvent",n,a,i,e.uid,s,f,d??!1]),o=!0,c=()=>o=!1;return nO(t,{onLogs:u,onError:l},t=>((async()=>{try{let i=(()=>{if("fallback"===e.transport.type){let t=e.transport.transports.find(e=>"webSocket"===e.config.type||"ipc"===e.config.type);return t?t.value:e.transport}return e.transport})(),l=s?es({abi:r,eventName:s,args:a}):[],{unsubscribe:u}=await i.subscribe({params:["logs",{address:n,topics:l}],onData(e){if(!o)return;let n=e.result;try{let{eventName:e,args:a}=e4({abi:r,data:n.data,topics:n.topics,strict:d}),i=(0,te.e)(n,{args:a,eventName:e});t.onLogs([i])}catch(i){let e,r;if(i instanceof Q.fo||i instanceof Q.l3){if(d)return;e=i.abiItem.name,r=i.abiItem.inputs?.some(e=>!("name"in e&&e.name))}let a=(0,te.e)(n,{args:r?[]:{},eventName:e});t.onLogs([a])}},onError(e){t.onError?.(e)}});c=u,o||c()}catch(e){l?.(e)}})(),()=>c()))})()})(e,t),watchEvent:t=>(function(e,{address:t,args:r,batch:n=!0,event:a,events:i,fromBlock:s,onError:o,onLogs:l,poll:u,pollingInterval:c=e.pollingInterval,strict:f}){let d,p,y=void 0!==u?u:"bigint"==typeof s||"webSocket"!==e.transport.type&&"ipc"!==e.transport.type&&("fallback"!==e.transport.type||"webSocket"!==e.transport.transports[0].config.type&&"ipc"!==e.transport.transports[0].config.type),b=f??!1;return y?nO((0,nA.A)(["watchEvent",t,r,n,e.uid,a,c,s]),{onLogs:l,onError:o},o=>{let l,u;void 0!==s&&(l=s-1n);let f=!1,d=nU(async()=>{if(!f){try{u=await (0,v.T)(e,eu,"createEventFilter")({address:t,args:r,event:a,events:i,strict:b,fromBlock:s})}catch{}f=!0;return}try{let s;if(u)s=await (0,v.T)(e,to,"getFilterChanges")({filter:u});else{let n=await (0,v.T)(e,e1,"getBlockNumber")({});s=l&&l!==n?await (0,v.T)(e,tt,"getLogs")({address:t,args:r,event:a,events:i,fromBlock:l+1n,toBlock:n}):[],l=n}if(0===s.length)return;if(n)o.onLogs(s);else for(let e of s)o.onLogs([e])}catch(e){u&&e instanceof n_.Di&&(f=!1),o.onError?.(e)}},{emitOnBegin:!0,interval:c});return async()=>{u&&await (0,v.T)(e,r4,"uninstallFilter")({filter:u}),d()}}):(d=!0,p=()=>d=!1,(async()=>{try{let n=(()=>{if("fallback"===e.transport.type){let t=e.transport.transports.find(e=>"webSocket"===e.config.type||"ipc"===e.config.type);return t?t.value:e.transport}return e.transport})(),s=i??(a?[a]:void 0),u=[];s&&(u=[s.flatMap(e=>es({abi:[e],eventName:e.name,args:r}))],a&&(u=u[0]));let{unsubscribe:c}=await n.subscribe({params:["logs",{address:t,topics:u}],onData(e){if(!d)return;let t=e.result;try{let{eventName:e,args:r}=e4({abi:s??[],data:t.data,topics:t.topics,strict:b}),n=(0,te.e)(t,{args:r,eventName:e});l([n])}catch(a){let e,r;if(a instanceof Q.fo||a instanceof Q.l3){if(f)return;e=a.abiItem.name,r=a.abiItem.inputs?.some(e=>!("name"in e&&e.name))}let n=(0,te.e)(t,{args:r?[]:{},eventName:e});l([n])}},onError(e){o?.(e)}});p=c,d||p()}catch(e){o?.(e)}})(),()=>p())})(e,t),watchPendingTransactions:t=>(function(e,{batch:t=!0,onError:r,onTransactions:n,poll:a,pollingInterval:i=e.pollingInterval}){let s,o;return(void 0!==a?a:"webSocket"!==e.transport.type&&"ipc"!==e.transport.type)?nO((0,nA.A)(["watchPendingTransactions",e.uid,t,i]),{onTransactions:n,onError:r},r=>{let n,a=nU(async()=>{try{if(!n)try{n=await (0,v.T)(e,ec,"createPendingTransactionFilter")({});return}catch(e){throw a(),e}let i=await (0,v.T)(e,to,"getFilterChanges")({filter:n});if(0===i.length)return;if(t)r.onTransactions(i);else for(let e of i)r.onTransactions([e])}catch(e){r.onError?.(e)}},{emitOnBegin:!0,interval:i});return async()=>{n&&await (0,v.T)(e,r4,"uninstallFilter")({filter:n}),a()}}):(s=!0,o=()=>s=!1,(async()=>{try{let{unsubscribe:t}=await e.transport.subscribe({params:["newPendingTransactions"],onData(e){if(!s)return;let t=e.result;n([t])},onError(e){r?.(e)}});o=t,s||o()}catch(e){r?.(e)}})(),()=>o())})(e,t)}}},71400:(e,t,r)=>{r.d(t,{A9:()=>a,NO:()=>o,Pj:()=>l,dV:()=>i,nx:()=>u,zd:()=>s});var n=r(94817);n.C;class a extends n.C{constructor({params:e}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}class i extends n.C{constructor({param:e}){super("Invalid ABI parameter.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class s extends n.C{constructor({param:e,name:t}){super("Invalid ABI parameter.",{details:e,metaMessages:[`"${t}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class o extends n.C{constructor({param:e,type:t,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${t?` in "${t}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class l extends n.C{constructor({param:e,type:t,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${t?` in "${t}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class u extends n.C{constructor({abiParameter:e}){super("Invalid ABI parameter.",{details:JSON.stringify(e,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}},75977:(e,t,r)=>{r.d(t,{J:()=>l});var n=r(94833),a=r(14237),i=r(66655),s=r(8481),o=r(7559);async function l(e,t){let{abi:r,address:l,args:u,functionName:c,...f}=t,d=(0,a.p)({abi:r,args:u,functionName:c});try{let{data:t}=await (0,s.T)(e,o.T,"call")({...f,data:d,to:l});return(0,n.e)({abi:r,args:u,functionName:c,data:t||"0x"})}catch(e){throw(0,i.j)(e,{abi:r,address:l,args:u,docsPath:"/docs/contract/readContract",functionName:c})}}},80170:(e,t,r)=>{r.d(t,{Dg:()=>g,Ej:()=>m,Fl:()=>C,HT:()=>u,Ho:()=>y,M7:()=>b,Ro:()=>w,Ty:()=>E,di:()=>h,ii:()=>P,oB:()=>d,sH:()=>p,tf:()=>v,u:()=>A,uK:()=>f,xW:()=>l,xb:()=>c});var n=r(9431),a=r(54718),i=r(23511);let s=new TextEncoder,o=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function l(...e){return`0x${e.reduce((e,t)=>e+t.replace("0x",""),"")}`}function u(e){return e instanceof Uint8Array?f(e):Array.isArray(e)?f(new Uint8Array(e)):e}function c(e,t={}){let r=`0x${Number(e)}`;return"number"==typeof t.size?(a.Sl(r,t.size),y(r,t.size)):r}function f(e,t={}){let r="";for(let t=0;t<e.length;t++)r+=o[e[t]];let n=`0x${r}`;return"number"==typeof t.size?(a.Sl(n,t.size),b(n,t.size)):n}function d(e,t={}){let r,{signed:n,size:a}=t,i=BigInt(e);a?r=n?(1n<<8n*BigInt(a)-1n)-1n:2n**(8n*BigInt(a))-1n:"number"==typeof e&&(r=BigInt(Number.MAX_SAFE_INTEGER));let s="bigint"==typeof r&&n?-r-1n:0;if(r&&i>r||i<s){let t="bigint"==typeof e?"n":"";throw new E({max:r?`${r}${t}`:void 0,min:`${s}${t}`,signed:n,size:a,value:`${e}${t}`})}let o=(n&&i<0?(1n<<BigInt(8*a))+BigInt(i):i).toString(16),l=`0x${o}`;return a?y(l,a):l}function p(e,t={}){return f(s.encode(e),t)}function y(e,t){return a.eV(e,{dir:"left",size:t})}function b(e,t){return a.eV(e,{dir:"right",size:t})}function h(e,t,r,n={}){let{strict:i}=n;a.kK(e,t);let s=`0x${e.replace("0x","").slice((t??0)*2,(r??e.length)*2)}`;return i&&a.X(s,t,r),s}function m(e){return Math.ceil((e.length-2)/2)}function g(e,t={}){let{signed:r}=t;t.size&&a.Sl(e,t.size);let n=BigInt(e);if(!r)return n;let i=(1n<<8n*BigInt((e.length-2)/2))-1n;return n<=i>>1n?n:n-i-1n}function w(e,t={}){let{signed:r,size:n}=t;return r||n?Number(g(e,t)):Number(e)}function v(e,t={}){let{strict:r=!1}=t;try{return!function(e,t={}){let{strict:r=!1}=t;if(!e||"string"!=typeof e)throw new x(e);if(r&&!/^0x[0-9a-fA-F]*$/.test(e)||!e.startsWith("0x"))throw new $(e)}(e,{strict:r}),!0}catch{return!1}}class E extends n.C{constructor({max:e,min:t,signed:r,size:n,value:a}){super(`Number \`${a}\` is not in safe${n?` ${8*n}-bit`:""}${r?" signed":" unsigned"} integer range ${e?`(\`${t}\` to \`${e}\`)`:`(above \`${t}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}n.C;class x extends n.C{constructor(e){super(`Value \`${"object"==typeof e?i.A(e):e}\` of type \`${typeof e}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class $ extends n.C{constructor(e){super(`Value \`${e}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}n.C;class A extends n.C{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed \`${t}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class P extends n.C{constructor({offset:e,position:t,size:r}){super(`Slice ${"start"===t?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}class C extends n.C{constructor({size:e,targetSize:t,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}},81873:(e,t,r)=>{r.d(t,{d:()=>s});var n=r(57353),a=r(98877),i=r(19953);function s(e,{docsPath:t,...r}){let s=(()=>{let t=(0,i.l)(e,r);return t instanceof a.RM?e:t})();return new n.zX(s,{docsPath:t,...r})}},91497:(e,t,r)=>{r.d(t,{Dv:()=>A,FO:()=>b,If:()=>E,Ji:()=>f,Rv:()=>l,WL:()=>y,Yo:()=>g,ej:()=>d,fC:()=>P,iB:()=>u,kz:()=>s,l9:()=>m,pc:()=>i,sP:()=>$,v7:()=>C,v8:()=>v});var n=r(65809);let a=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function i(e){return a.test(e)}function s(e){return(0,n.Yv)(a,e)}let o=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function l(e){return o.test(e)}function u(e){return(0,n.Yv)(o,e)}let c=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function f(e){return c.test(e)}function d(e){return(0,n.Yv)(c,e)}let p=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function y(e){return p.test(e)}function b(e){return(0,n.Yv)(p,e)}let h=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function m(e){return h.test(e)}function g(e){return(0,n.Yv)(h,e)}let w=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function v(e){return w.test(e)}function E(e){return(0,n.Yv)(w,e)}let x=/^receive\(\) external payable$/;function $(e){return x.test(e)}let A=new Set(["memory","indexed","storage","calldata"]),P=new Set(["indexed"]),C=new Set(["calldata","memory","storage"])},91633:(e,t,r)=>{r.d(t,{J:()=>i});var n=r(80170);function a(e){return{address:e.address,amount:n.oB(e.amount),index:n.oB(e.index),validatorIndex:n.oB(e.validatorIndex)}}function i(e){return{..."bigint"==typeof e.baseFeePerGas&&{baseFeePerGas:n.oB(e.baseFeePerGas)},..."bigint"==typeof e.blobBaseFee&&{blobBaseFee:n.oB(e.blobBaseFee)},..."string"==typeof e.feeRecipient&&{feeRecipient:e.feeRecipient},..."bigint"==typeof e.gasLimit&&{gasLimit:n.oB(e.gasLimit)},..."bigint"==typeof e.number&&{number:n.oB(e.number)},..."bigint"==typeof e.prevRandao&&{prevRandao:n.oB(e.prevRandao)},..."bigint"==typeof e.time&&{time:n.oB(e.time)},...e.withdrawals&&{withdrawals:e.withdrawals.map(a)}}}},93778:(e,t,r)=>{r.d(t,{Ag:()=>s,E5:()=>f,Rm:()=>u,SJ:()=>l,UW:()=>c,b2:()=>a,oX:()=>o,v2:()=>n});let n=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockTimestamp",outputs:[{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"}],a=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],i=[{inputs:[{name:"dns",type:"bytes"}],name:"DNSDecodingFailed",type:"error"},{inputs:[{name:"ens",type:"string"}],name:"DNSEncodingFailed",type:"error"},{inputs:[],name:"EmptyAddress",type:"error"},{inputs:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"HttpError",type:"error"},{inputs:[],name:"InvalidBatchGatewayResponse",type:"error"},{inputs:[{name:"errorData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{name:"name",type:"bytes"},{name:"resolver",type:"address"}],name:"ResolverNotContract",type:"error"},{inputs:[{name:"name",type:"bytes"}],name:"ResolverNotFound",type:"error"},{inputs:[{name:"primary",type:"string"},{name:"primaryAddress",type:"bytes"}],name:"ReverseAddressMismatch",type:"error"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"UnsupportedResolverProfile",type:"error"}],s=[...i,{name:"resolveWithGateways",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],o=[...i,{name:"reverseWithGateways",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"uint256",name:"coinType"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolver"},{type:"address",name:"reverseResolver"}]}],l=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],u=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],c=[{name:"isValidSignature",type:"function",stateMutability:"view",inputs:[{name:"hash",type:"bytes32"},{name:"signature",type:"bytes"}],outputs:[{name:"",type:"bytes4"}]}],f=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}]},94770:(e,t,r)=>{r.d(t,{Bv:()=>i});var n=r(81645);let a={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function i(e,t){let r={};return void 0!==e.authorizationList&&(r.authorizationList=e.authorizationList.map(e=>({address:e.address,r:e.r?(0,n.cK)(BigInt(e.r)):e.r,s:e.s?(0,n.cK)(BigInt(e.s)):e.s,chainId:(0,n.cK)(e.chainId),nonce:(0,n.cK)(e.nonce),...void 0!==e.yParity?{yParity:(0,n.cK)(e.yParity)}:{},...void 0!==e.v&&void 0===e.yParity?{v:(0,n.cK)(e.v)}:{}}))),void 0!==e.accessList&&(r.accessList=e.accessList),void 0!==e.blobVersionedHashes&&(r.blobVersionedHashes=e.blobVersionedHashes),void 0!==e.blobs&&("string"!=typeof e.blobs[0]?r.blobs=e.blobs.map(e=>(0,n.My)(e)):r.blobs=e.blobs),void 0!==e.data&&(r.data=e.data),e.account&&(r.from=e.account.address),void 0!==e.from&&(r.from=e.from),void 0!==e.gas&&(r.gas=(0,n.cK)(e.gas)),void 0!==e.gasPrice&&(r.gasPrice=(0,n.cK)(e.gasPrice)),void 0!==e.maxFeePerBlobGas&&(r.maxFeePerBlobGas=(0,n.cK)(e.maxFeePerBlobGas)),void 0!==e.maxFeePerGas&&(r.maxFeePerGas=(0,n.cK)(e.maxFeePerGas)),void 0!==e.maxPriorityFeePerGas&&(r.maxPriorityFeePerGas=(0,n.cK)(e.maxPriorityFeePerGas)),void 0!==e.nonce&&(r.nonce=(0,n.cK)(e.nonce)),void 0!==e.to&&(r.to=e.to),void 0!==e.type&&(r.type=a[e.type]),void 0!==e.value&&(r.value=(0,n.cK)(e.value)),r}},94817:(e,t,r)=>{r.d(t,{C:()=>n});class n extends Error{constructor(e,t={}){let r=t.cause instanceof n?t.cause.details:t.cause?.message?t.cause.message:t.details,a=t.cause instanceof n&&t.cause.docsPath||t.docsPath;super([e||"An error occurred.","",...t.metaMessages?[...t.metaMessages,""]:[],...a?[`Docs: https://abitype.dev${a}`]:[],...r?[`Details: ${r}`]:[],"Version: abitype@1.1.0"].join("\n")),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),t.cause&&(this.cause=t.cause),this.details=r,this.docsPath=a,this.metaMessages=t.metaMessages,this.shortMessage=e}}},94833:(e,t,r)=>{r.d(t,{e:()=>o});var n=r(79313),a=r(42802),i=r(96019);let s="/docs/contract/decodeFunctionResult";function o(e){let{abi:t,args:r,functionName:o,data:l}=e,u=t[0];if(o){let e=(0,i.iY)({abi:t,args:r,name:o});if(!e)throw new n.Iz(o,{docsPath:s});u=e}if("function"!==u.type)throw new n.Iz(void 0,{docsPath:s});if(!u.outputs)throw new n.MR(u.name,{docsPath:s});let c=(0,a.n)(u.outputs,l);return c&&c.length>1?c:c&&1===c.length?c[0]:void 0}},96268:(e,t,r)=>{r.d(t,{h:()=>i});var n=r(45755),a=r(57512);function i(e,t){if(!(0,a.P)(e,{strict:!1}))throw new n.M({address:e});if(!(0,a.P)(t,{strict:!1}))throw new n.M({address:t});return e.toLowerCase()===t.toLowerCase()}}}]);