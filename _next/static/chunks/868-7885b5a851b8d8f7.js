(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[868],{4019:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WEBP=void 0;let i=r(23686);t.WEBP={validate(e){let t="RIFF"===(0,i.toUTF8String)(e,0,4),r="WEBP"===(0,i.toUTF8String)(e,8,12),n="VP8"===(0,i.toUTF8String)(e,12,15);return t&&r&&n},calculate(e){var t,r,n;let a=(0,i.toUTF8String)(e,12,16);if(e=e.slice(20,30),"VP8X"===a){let r=e[0];if((192&r)==0&&(1&r)==0)return t=e,{height:1+(0,i.readUInt24LE)(t,7),width:1+(0,i.readUInt24LE)(t,4)};throw TypeError("Invalid WebP")}if("VP8 "===a&&47!==e[0])return r=e,{height:16383&(0,i.readInt16LE)(r,8),width:16383&(0,i.readInt16LE)(r,6)};let o=(0,i.toHexString)(e,3,6);if("VP8L"===a&&"9d012a"!==o)return{height:1+((15&(n=e)[4])<<10|n[3]<<2|(192&n[2])>>6),width:1+((63&n[2])<<8|n[1])};throw TypeError("Invalid WebP")}}},13562:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PNM=void 0;let i=r(23686),n={P1:"pbm/ascii",P2:"pgm/ascii",P3:"ppm/ascii",P4:"pbm",P5:"pgm",P6:"ppm",P7:"pam",PF:"pfm"},a={default:e=>{let t=[];for(;e.length>0;){let r=e.shift();if("#"!==r[0]){t=r.split(" ");break}}if(2===t.length)return{height:parseInt(t[1],10),width:parseInt(t[0],10)};throw TypeError("Invalid PNM")},pam:e=>{let t={};for(;e.length>0;){let r=e.shift();if(r.length>16||r.charCodeAt(0)>128)continue;let[i,n]=r.split(" ");if(i&&n&&(t[i.toLowerCase()]=parseInt(n,10)),t.height&&t.width)break}if(t.height&&t.width)return{height:t.height,width:t.width};throw TypeError("Invalid PAM")}};t.PNM={validate:e=>(0,i.toUTF8String)(e,0,2)in n,calculate(e){let t=n[(0,i.toUTF8String)(e,0,2)],r=(0,i.toUTF8String)(e,3).split(/[\r\n]+/);return(a[t]||a.default)(r)}}},16245:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GIF=void 0;let i=r(23686),n=/^GIF8[79]a/;t.GIF={validate:e=>n.test((0,i.toUTF8String)(e,0,6)),calculate:e=>({height:(0,i.readUInt16LE)(e,8),width:(0,i.readUInt16LE)(e,6)})}},20539:e=>{"use strict";e.exports=JSON.parse('[{"name":"SupportedStandards:LSP4DigitalAsset","key":"0xeafec4d89fa9619884b60000a4d96624a38f7ac2d8d9a604ecf07c12c77e480c","keyType":"Mapping","valueType":"bytes4","valueContent":"0xa4d96624"},{"name":"LSP4TokenName","key":"0xdeba1e292f8ba88238e10ab3c7f88bd4be4fac56cad5194b6ecceaf653468af1","keyType":"Singleton","valueType":"string","valueContent":"String"},{"name":"LSP4TokenSymbol","key":"0x2f0a68ab07768e01943a599e73362a0e17a63a72e94dd2e384d2c1d4db932756","keyType":"Singleton","valueType":"string","valueContent":"String"},{"name":"LSP4TokenType","key":"0xe0261fa95db2eb3b5439bd033cda66d56b96f92f243a8228fd87550ed7bdfdb3","keyType":"Singleton","valueType":"uint256","valueContent":"Number"},{"name":"LSP4Metadata","key":"0x9afb95cacc9f95858ec44aa8c3b685511002e30ae54415823f406128b85b238e","keyType":"Singleton","valueType":"bytes","valueContent":"VerifiableURI"},{"name":"LSP4Creators[]","key":"0x114bd03b3a46d48759680d81ebb2b414fda7d030a7105a851867accf1c2352e7","keyType":"Array","valueType":"address","valueContent":"Address"},{"name":"LSP4CreatorsMap:<address>","key":"0x6de85eaf5d982b4e5da00000<address>","keyType":"Mapping","valueType":"(bytes4,uint128)","valueContent":"(Bytes4,Number)"}]')},22304:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PNG=void 0;let i=r(23686),n="CgBI";t.PNG={validate(e){if("PNG\r\n\x1a\n"===(0,i.toUTF8String)(e,1,8)){let t=(0,i.toUTF8String)(e,12,16);if(t===n&&(t=(0,i.toUTF8String)(e,28,32)),"IHDR"!==t)throw TypeError("Invalid PNG");return!0}return!1},calculate:e=>(0,i.toUTF8String)(e,12,16)===n?{height:(0,i.readUInt32BE)(e,36),width:(0,i.readUInt32BE)(e,32)}:{height:(0,i.readUInt32BE)(e,20),width:(0,i.readUInt32BE)(e,16)}}},23686:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findBox=t.readUInt=t.readUInt32LE=t.readUInt32BE=t.readInt32LE=t.readUInt24LE=t.readUInt16LE=t.readUInt16BE=t.readInt16LE=t.toHexString=t.toUTF8String=void 0;let r=new TextDecoder;t.toUTF8String=(e,t=0,i=e.length)=>r.decode(e.slice(t,i)),t.toHexString=(e,t=0,r=e.length)=>e.slice(t,r).reduce((e,t)=>e+("0"+t.toString(16)).slice(-2),""),t.readInt16LE=(e,t=0)=>{let r=e[t]+256*e[t+1];return r|(32768&r)*131070},t.readUInt16BE=(e,t=0)=>256*e[t]+e[t+1],t.readUInt16LE=(e,t=0)=>e[t]+256*e[t+1],t.readUInt24LE=(e,t=0)=>e[t]+256*e[t+1]+65536*e[t+2],t.readInt32LE=(e,t=0)=>e[t]+256*e[t+1]+65536*e[t+2]+(e[t+3]<<24),t.readUInt32BE=(e,t=0)=>0x1000000*e[t]+65536*e[t+1]+256*e[t+2]+e[t+3],t.readUInt32LE=(e,t=0)=>e[t]+256*e[t+1]+65536*e[t+2]+0x1000000*e[t+3];let i={readUInt16BE:t.readUInt16BE,readUInt16LE:t.readUInt16LE,readUInt32BE:t.readUInt32BE,readUInt32LE:t.readUInt32LE};t.readUInt=function(e,t,r,n){return r=r||0,i["readUInt"+t+(n?"BE":"LE")](e,r)},t.findBox=function(e,r,i){for(;i<e.length;){let n=function(e,r){if(e.length-r<4)return;let i=(0,t.readUInt32BE)(e,r);if(!(e.length-r<i))return{name:(0,t.toUTF8String)(e,4+r,8+r),offset:r,size:i}}(e,i);if(!n)break;if(n.name===r)return n;i+=n.size>0?n.size:8}}},27960:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BitReader=void 0;class r{constructor(e,t){this.input=e,this.endianness=t,this.byteOffset=2,this.bitOffset=0}getBits(e=1){let t=0,r=0;for(;r<e;){if(this.byteOffset>=this.input.length)throw Error("Reached end of input");let i=this.input[this.byteOffset],n=Math.min(e-r,8-this.bitOffset);if("little-endian"===this.endianness){let e=(1<<n)-1;t|=(i>>this.bitOffset&e)<<r}else{let e=(i&(1<<n)-1<<8-this.bitOffset-n)>>8-this.bitOffset-n;t=t<<n|e}r+=n,this.bitOffset+=n,8===this.bitOffset&&(this.byteOffset++,this.bitOffset=0)}return t}}t.BitReader=r},31793:(e,t,r)=>{"use strict";var i=r(99742);Object.defineProperty(t,"__esModule",{value:!0}),t.types=t.setConcurrency=t.disableTypes=t.disableFS=t.imageSize=void 0;let n=r(88306),a=r(79052),o=r(90976),s=r(98539),l=r(52069),d=new o.default({concurrency:100,autostart:!0}),u={disabledFS:!1,disabledTypes:[]};function f(e,t){let r=(0,l.detector)(e);if(void 0!==r){if(u.disabledTypes.indexOf(r)>-1)throw TypeError("disabled file type: "+r);if(r in s.typeHandlers){let i=s.typeHandlers[r].calculate(e,t);if(void 0!==i)return i.type=i.type??r,i}}throw TypeError("unsupported file type: "+r+" (file: "+t+")")}async function h(e){let t=await n.promises.open(e,"r");try{let{size:e}=await t.stat();if(e<=0)throw Error("Empty file");let r=Math.min(e,524288),i=new Uint8Array(r);return await t.read(i,0,r,0),i}finally{await t.close()}}function c(e,t){if(e instanceof Uint8Array)return f(e);if("string"!=typeof e||u.disabledFS)throw TypeError("invalid invocation. input should be a Uint8Array");let r=a.resolve(e);if("function"!=typeof t)return f(function(e){let t=n.openSync(e,"r");try{let{size:e}=n.fstatSync(t);if(e<=0)throw Error("Empty file");let r=Math.min(e,524288),i=new Uint8Array(r);return n.readSync(t,i,0,r,0),i}finally{n.closeSync(t)}}(r),r);d.push(()=>h(r).then(e=>i.nextTick(t,null,f(e,r))).catch(t))}e.exports=t=c,t.default=c,t.imageSize=c,t.disableFS=e=>{u.disabledFS=e},t.disableTypes=e=>{u.disabledTypes=e},t.setConcurrency=e=>{d.concurrency=e},t.types=Object.keys(s.typeHandlers)},38211:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JP2=void 0;let i=r(23686);t.JP2={validate(e){if("jP  "!==(0,i.toUTF8String)(e,4,8))return!1;let t=(0,i.findBox)(e,"ftyp",0);return!!t&&"jp2 "===(0,i.toUTF8String)(e,t.offset+8,t.offset+12)},calculate(e){let t=(0,i.findBox)(e,"jp2h",0),r=t&&(0,i.findBox)(e,"ihdr",t.offset+8);if(r)return{height:(0,i.readUInt32BE)(e,r.offset+8),width:(0,i.readUInt32BE)(e,r.offset+12)};throw TypeError("Unsupported JPEG 2000 format")}}},40721:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JXL=void 0;let i=r(23686),n=r(96272);t.JXL={validate:e=>{if("JXL "!==(0,i.toUTF8String)(e,4,8))return!1;let t=(0,i.findBox)(e,"ftyp",0);return!!t&&"jxl "===(0,i.toUTF8String)(e,t.offset+8,t.offset+12)},calculate(e){let t=function(e){let t=(0,i.findBox)(e,"jxlc",0);if(t)return e.slice(t.offset+8,t.offset+t.size);let r=function(e){let t=[],r=0;for(;r<e.length;){let n=(0,i.findBox)(e,"jxlp",r);if(!n)break;t.push(e.slice(n.offset+12,n.offset+n.size)),r=n.offset+n.size}return t}(e);if(r.length>0){var n=r;let e=new Uint8Array(n.reduce((e,t)=>e+t.length,0)),t=0;for(let r of n)e.set(r,t),t+=r.length;return e}}(e);if(t)return n.JXLStream.calculate(t);throw Error("No codestream found in JXL container")}}},48029:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HEIF=void 0;let i=r(23686),n={avif:"avif",mif1:"heif",msf1:"heif",heic:"heic",heix:"heic",hevc:"heic",hevx:"heic"};t.HEIF={validate(e){if("ftyp"!==(0,i.toUTF8String)(e,4,8))return!1;let t=(0,i.findBox)(e,"ftyp",0);return!!t&&(0,i.toUTF8String)(e,t.offset+8,t.offset+12)in n},calculate(e){let t=(0,i.findBox)(e,"meta",0),r=t&&(0,i.findBox)(e,"iprp",t.offset+12),n=r&&(0,i.findBox)(e,"ipco",r.offset+8),a=n&&(0,i.findBox)(e,"ispe",n.offset+8);if(a)return{height:(0,i.readUInt32BE)(e,a.offset+16),width:(0,i.readUInt32BE)(e,a.offset+12),type:(0,i.toUTF8String)(e,8,12)};throw TypeError("Invalid HEIF, no size found")}}},48921:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CUR=void 0;let i=r(66578),n=r(23686);t.CUR={validate(e){let t=(0,n.readUInt16LE)(e,0),r=(0,n.readUInt16LE)(e,4);return 0===t&&0!==r&&2===(0,n.readUInt16LE)(e,2)},calculate:e=>i.ICO.calculate(e)}},52069:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.detector=void 0;let i=r(98539),n=Object.keys(i.typeHandlers),a={56:"psd",66:"bmp",68:"dds",71:"gif",73:"tiff",77:"tiff",82:"webp",105:"icns",137:"png",255:"jpg"};t.detector=function(e){let t=e[0];if(t in a){let r=a[t];if(r&&i.typeHandlers[r].validate(e))return r}return n.find(t=>i.typeHandlers[t].validate(e))}},53446:(e,t,r)=>{"use strict";r.d(t,{U7:()=>g});var i=r(39600),n=r(82909).Buffer,a="undefined"==typeof window;async function o(){return"undefined"!=typeof FormData?FormData:await r.e(912).then(r.bind(r,6912)).then(({FormData:e})=>e)}async function s(){return"undefined"!=typeof fetch?fetch:await Promise.all([r.e(121),r.e(629),r.e(733)]).then(r.bind(r,38629)).then(({default:e})=>e)}async function l(){return"undefined"!=typeof Blob?Blob:await r.e(912).then(r.bind(r,6912)).then(({Blob:e})=>e)}async function d(){return"undefined"!=typeof File?File:await r.e(912).then(r.bind(r,6912)).then(({File:e})=>e)}async function u(e){if(a){let{ReadStream:t}=await r.e(674).then(r.t.bind(r,19674,19));if(e instanceof t){if("string"!=typeof e.path){let t,r=[];do{if(null===(t=e.read(1024)))break;r.push(t)}while(t);return new(await l())(r)}if("undefined"!=typeof Bun){let t=Bun.file(e.path);return new(await d())([await t.arrayBuffer()],"file",{type:"application/octet-stream"})}let{fileFromPath:t}=await r.e(911).then(r.bind(r,25911));return await t(e.path)}}return e}var f="Not implemented",h=class{async populate(e,t,r){let a,o=await this.wrapStream(t);if(o.arrayBuffer)a=n.from(await o.arrayBuffer());else{let e=await new Promise((e,t)=>{let r=new FileReader;console.log("starting"),r.onload=t=>{console.log(t,t.type),"load"===t.type&&e(r.result)},r.onerror=e=>{console.log(e),t(e)},console.log("kicking"),r.readAsArrayBuffer(o)});a=n.from(e)}let s=(0,i.S)(a),l=r;return e.append("file",o),"name"in o&&(l={...l,name:o.name}),"type"in o&&(l={...l,type:o.type}),{meta:l,hash:s}}async wrapStream(e){return u(e)}async upload(e,t){let r=t,i=new(await o()),{meta:n,hash:a}=await this.populate(i,e,r);r=n,await this.addMetadata(i,r);let s=await this.getRequestOptions(i,r);return{url:this.resolveUrl(await this.uploadFormData(s,i)),hash:a}}async addMetadata(e,t){}async getRequestOptions(e,t){return{maxContentLength:Number.MAX_SAFE_INTEGER,maxBodyLength:Number.MAX_SAFE_INTEGER,withCredentials:!0}}getPostEndpoint(){throw Error(f)}resolveUrl(e){throw Error(f)}async uploadFormData(e,t){let r={method:"POST",...e},i=this.getEndpoint();r.headers={...t.getHeaders?t.getHeaders():{},...r.headers};let n=await s();return await n(i,{...r,body:t}).then(async e=>{let[t]=(await e.text()).split("\n");if(200!==e.status){let r=t;try{r=JSON.parse(t)}catch{}throw r=r.error||r,Error(`unknown server response while pinning File to IPFS: ${r||e.status}`)}return JSON.parse(t)}).catch(e=>{throw e?.response?.data?.error?e.response.data.error:e?.data?.error?e.data.error:e?.response?.error?e.response.error:e})}async getToken(){throw Error(f)}getEndpoint(){throw Error(f)}};async function c(e,t){let i="undefined"!=typeof window?window.crypto:await Promise.all([r.e(513),r.e(30)]).then(r.t.bind(r,63426,19));return i.subtle.importKey("jwk",{kty:"oct",k:t,alg:"HS256",ext:!0},{name:"HMAC",hash:{name:"SHA-256"}},!0,["sign","verify"]).then(t=>{let r=JSON.stringify(e),n=new TextEncoder().encode(r);return i.subtle.sign({name:"HMAC"},t,n)}).then(e=>{let t=new Uint8Array(e);return btoa(String.fromCharCode.apply(void 0,t))})}async function p(e,t){let r=[encodeURIComponent(btoa(JSON.stringify({typ:"JWT",alg:"HS256"}))),encodeURIComponent(btoa(JSON.stringify(e)))],i=await c(r.join("."),t);return r.push(i),r.join(".")}var g=class extends h{constructor(e,t){super(),this.gateway=e,this.sharedKey=t}async getRequestOptions(e,t){let{headers:r,...i}=await super.getRequestOptions(e,t),n=await this.getToken();return{...i,headers:{...r,...n?{Authorization:`Bearer ${n}`}:{}},maxContentLength:Number.MAX_SAFE_INTEGER,maxBodyLength:Number.MAX_SAFE_INTEGER,withCredentials:!0}}resolveUrl(e){return`ipfs://${e.IpfsHash}`}getEndpoint(){return this.gateway}async getToken(){if(!this.sharedKey)return"";let e=Date.now();return await p({iss:"extension",iat:e/1e3,exp:(e+12e4)/1e3},this.sharedKey||"")}}},55039:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TGA=void 0;let i=r(23686);t.TGA={validate:e=>0===(0,i.readUInt16LE)(e,0)&&0===(0,i.readUInt16LE)(e,4),calculate:e=>({height:(0,i.readUInt16LE)(e,14),width:(0,i.readUInt16LE)(e,12)})}},63530:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ICNS=void 0;let i=r(23686),n={ICON:32,"ICN#":32,"icm#":16,icm4:16,icm8:16,"ics#":16,ics4:16,ics8:16,is32:16,s8mk:16,icp4:16,icl4:32,icl8:32,il32:32,l8mk:32,icp5:32,ic11:32,ich4:48,ich8:48,ih32:48,h8mk:48,icp6:64,ic12:32,it32:128,t8mk:128,ic07:128,ic08:256,ic13:256,ic09:512,ic14:512,ic10:1024};function a(e,t){let r=t+4;return[(0,i.toUTF8String)(e,t,r),(0,i.readUInt32BE)(e,r)]}function o(e){let t=n[e];return{width:t,height:t,type:e}}t.ICNS={validate:e=>"icns"===(0,i.toUTF8String)(e,0,4),calculate(e){let t=e.length,r=(0,i.readUInt32BE)(e,4),n=8,s=a(e,8),l=o(s[0]);if((n+=s[1])===r)return l;let d={height:l.height,images:[l],width:l.width};for(;n<r&&n<t;)l=o((s=a(e,n))[0]),n+=s[1],d.images.push(l);return d}}},66578:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ICO=void 0;let i=r(23686);function n(e,t){let r=e[t];return 0===r?256:r}function a(e,t){let r=6+16*t;return{height:n(e,r+1),width:n(e,r)}}t.ICO={validate(e){let t=(0,i.readUInt16LE)(e,0),r=(0,i.readUInt16LE)(e,4);return 0===t&&0!==r&&1===(0,i.readUInt16LE)(e,2)},calculate(e){let t=(0,i.readUInt16LE)(e,4),r=a(e,0);if(1===t)return r;let n=[r];for(let r=1;r<t;r+=1)n.push(a(e,r));return{height:r.height,images:n,width:r.width}}}},68898:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DDS=void 0;let i=r(23686);t.DDS={validate:e=>0x20534444===(0,i.readUInt32LE)(e,0),calculate:e=>({height:(0,i.readUInt32LE)(e,12),width:(0,i.readUInt32LE)(e,16)})}},69760:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BMP=void 0;let i=r(23686);t.BMP={validate:e=>"BM"===(0,i.toUTF8String)(e,0,2),calculate:e=>({height:Math.abs((0,i.readInt32LE)(e,22)),width:(0,i.readUInt32LE)(e,18)})}},72962:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TIFF=void 0;let i=r(80236),n=r(23686),a=["49492a00","4d4d002a"];t.TIFF={validate:e=>a.includes((0,n.toHexString)(e,0,4)),calculate(e,t){if(!t)throw TypeError("Tiff doesn't support buffer");let r="BE"===function(e){let t=(0,n.toUTF8String)(e,0,2);return"II"===t?"LE":"MM"===t?"BE":void 0}(e),a=function(e,t){let r={},i=e;for(;i&&i.length;){let e=(0,n.readUInt)(i,16,0,t),a=(0,n.readUInt)(i,16,2,t),o=(0,n.readUInt)(i,32,4,t);if(0===e)break;1===o&&(3===a||4===a)&&(r[e]=function(e,t){let r=(0,n.readUInt)(e,16,8,t);return((0,n.readUInt)(e,16,10,t)<<16)+r}(i,t)),i=function(e){if(e.length>24)return e.slice(12)}(i)}return r}(function(e,t,r){let a=(0,n.readUInt)(e,32,4,r),o=1024,s=i.statSync(t).size;a+o>s&&(o=s-a-10);let l=new Uint8Array(o),d=i.openSync(t,"r");return i.readSync(d,l,0,o,a),i.closeSync(d),l.slice(2)}(e,t,r),r),o=a[256],s=a[257];if(!o||!s)throw TypeError("Invalid Tiff. Missing tags");return{height:s,width:o}}}},79052:e=>{!function(){"use strict";var t={114:function(e){function t(e){if("string"!=typeof e)throw TypeError("Path must be a string. Received "+JSON.stringify(e))}function r(e,t){for(var r,i="",n=0,a=-1,o=0,s=0;s<=e.length;++s){if(s<e.length)r=e.charCodeAt(s);else if(47===r)break;else r=47;if(47===r){if(a===s-1||1===o);else if(a!==s-1&&2===o){if(i.length<2||2!==n||46!==i.charCodeAt(i.length-1)||46!==i.charCodeAt(i.length-2)){if(i.length>2){var l=i.lastIndexOf("/");if(l!==i.length-1){-1===l?(i="",n=0):n=(i=i.slice(0,l)).length-1-i.lastIndexOf("/"),a=s,o=0;continue}}else if(2===i.length||1===i.length){i="",n=0,a=s,o=0;continue}}t&&(i.length>0?i+="/..":i="..",n=2)}else i.length>0?i+="/"+e.slice(a+1,s):i=e.slice(a+1,s),n=s-a-1;a=s,o=0}else 46===r&&-1!==o?++o:o=-1}return i}var i={resolve:function(){for(var e,i,n="",a=!1,o=arguments.length-1;o>=-1&&!a;o--)o>=0?i=arguments[o]:(void 0===e&&(e=""),i=e),t(i),0!==i.length&&(n=i+"/"+n,a=47===i.charCodeAt(0));if(n=r(n,!a),a)if(n.length>0)return"/"+n;else return"/";return n.length>0?n:"."},normalize:function(e){if(t(e),0===e.length)return".";var i=47===e.charCodeAt(0),n=47===e.charCodeAt(e.length-1);return(0!==(e=r(e,!i)).length||i||(e="."),e.length>0&&n&&(e+="/"),i)?"/"+e:e},isAbsolute:function(e){return t(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0==arguments.length)return".";for(var e,r=0;r<arguments.length;++r){var n=arguments[r];t(n),n.length>0&&(void 0===e?e=n:e+="/"+n)}return void 0===e?".":i.normalize(e)},relative:function(e,r){if(t(e),t(r),e===r||(e=i.resolve(e))===(r=i.resolve(r)))return"";for(var n=1;n<e.length&&47===e.charCodeAt(n);++n);for(var a=e.length,o=a-n,s=1;s<r.length&&47===r.charCodeAt(s);++s);for(var l=r.length-s,d=o<l?o:l,u=-1,f=0;f<=d;++f){if(f===d){if(l>d){if(47===r.charCodeAt(s+f))return r.slice(s+f+1);else if(0===f)return r.slice(s+f)}else o>d&&(47===e.charCodeAt(n+f)?u=f:0===f&&(u=0));break}var h=e.charCodeAt(n+f);if(h!==r.charCodeAt(s+f))break;47===h&&(u=f)}var c="";for(f=n+u+1;f<=a;++f)(f===a||47===e.charCodeAt(f))&&(0===c.length?c+="..":c+="/..");return c.length>0?c+r.slice(s+u):(s+=u,47===r.charCodeAt(s)&&++s,r.slice(s))},_makeLong:function(e){return e},dirname:function(e){if(t(e),0===e.length)return".";for(var r=e.charCodeAt(0),i=47===r,n=-1,a=!0,o=e.length-1;o>=1;--o)if(47===(r=e.charCodeAt(o))){if(!a){n=o;break}}else a=!1;return -1===n?i?"/":".":i&&1===n?"//":e.slice(0,n)},basename:function(e,r){if(void 0!==r&&"string"!=typeof r)throw TypeError('"ext" argument must be a string');t(e);var i,n=0,a=-1,o=!0;if(void 0!==r&&r.length>0&&r.length<=e.length){if(r.length===e.length&&r===e)return"";var s=r.length-1,l=-1;for(i=e.length-1;i>=0;--i){var d=e.charCodeAt(i);if(47===d){if(!o){n=i+1;break}}else -1===l&&(o=!1,l=i+1),s>=0&&(d===r.charCodeAt(s)?-1==--s&&(a=i):(s=-1,a=l))}return n===a?a=l:-1===a&&(a=e.length),e.slice(n,a)}for(i=e.length-1;i>=0;--i)if(47===e.charCodeAt(i)){if(!o){n=i+1;break}}else -1===a&&(o=!1,a=i+1);return -1===a?"":e.slice(n,a)},extname:function(e){t(e);for(var r=-1,i=0,n=-1,a=!0,o=0,s=e.length-1;s>=0;--s){var l=e.charCodeAt(s);if(47===l){if(!a){i=s+1;break}continue}-1===n&&(a=!1,n=s+1),46===l?-1===r?r=s:1!==o&&(o=1):-1!==r&&(o=-1)}return -1===r||-1===n||0===o||1===o&&r===n-1&&r===i+1?"":e.slice(r,n)},format:function(e){var t,r;if(null===e||"object"!=typeof e)throw TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return t=e.dir||e.root,r=e.base||(e.name||"")+(e.ext||""),t?t===e.root?t+r:t+"/"+r:r},parse:function(e){t(e);var r,i={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return i;var n=e.charCodeAt(0),a=47===n;a?(i.root="/",r=1):r=0;for(var o=-1,s=0,l=-1,d=!0,u=e.length-1,f=0;u>=r;--u){if(47===(n=e.charCodeAt(u))){if(!d){s=u+1;break}continue}-1===l&&(d=!1,l=u+1),46===n?-1===o?o=u:1!==f&&(f=1):-1!==o&&(f=-1)}return -1===o||-1===l||0===f||1===f&&o===l-1&&o===s+1?-1!==l&&(0===s&&a?i.base=i.name=e.slice(1,l):i.base=i.name=e.slice(s,l)):(0===s&&a?(i.name=e.slice(1,o),i.base=e.slice(1,l)):(i.name=e.slice(s,o),i.base=e.slice(s,l)),i.ext=e.slice(o,l)),s>0?i.dir=e.slice(0,s-1):a&&(i.dir="/"),i},sep:"/",delimiter:":",win32:null,posix:null};i.posix=i,e.exports=i}},r={};function i(e){var n=r[e];if(void 0!==n)return n.exports;var a=r[e]={exports:{}},o=!0;try{t[e](a,a.exports,i),o=!1}finally{o&&delete r[e]}return a.exports}i.ab="//",e.exports=i(114)}()},81696:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PSD=void 0;let i=r(23686);t.PSD={validate:e=>"8BPS"===(0,i.toUTF8String)(e,0,4),calculate:e=>({height:(0,i.readUInt32BE)(e,14),width:(0,i.readUInt32BE)(e,18)})}},82665:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SVG=void 0;let i=r(23686),n=/<svg\s([^>"']|"[^"]*"|'[^']*')*>/,a={height:/\sheight=(['"])([^%]+?)\1/,root:n,viewbox:/\sviewBox=(['"])(.+?)\1/i,width:/\swidth=(['"])([^%]+?)\1/},o={in:96,cm:37.79527559055118,em:16,ex:8,m:37.79527559055118*100,mm:37.79527559055118/10,pc:96/72/12,pt:96/72,px:1},s=RegExp(`^([0-9.]+(?:e\\d+)?)(${Object.keys(o).join("|")})?$`);function l(e){let t=s.exec(e);if(t)return Math.round(Number(t[1])*(o[t[2]]||1))}t.SVG={validate:e=>n.test((0,i.toUTF8String)(e,0,1e3)),calculate(e){let t=(0,i.toUTF8String)(e).match(a.root);if(t){let e=function(e){let t=e.match(a.width),r=e.match(a.height),i=e.match(a.viewbox);return{height:r&&l(r[2]),viewbox:i&&function(e){let t=e.split(" ");return{height:l(t[3]),width:l(t[2])}}(i[2]),width:t&&l(t[2])}}(t[0]);if(e.width&&e.height)return{height:e.height,width:e.width};if(e.viewbox){var r=e.viewbox;let t=r.width/r.height;return e.width?{height:Math.floor(e.width/t),width:e.width}:e.height?{height:e.height,width:Math.floor(e.height*t)}:{height:r.height,width:r.width}}}throw TypeError("Invalid SVG")}}},87588:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JPG=void 0;let i=r(23686);t.JPG={validate:e=>"ffd8"===(0,i.toHexString)(e,0,2),calculate(e){let t,r;for(e=e.slice(4);e.length;){var n,a,o;let s=(0,i.readUInt16BE)(e,0);if(255!==e[s]){e=e.slice(1);continue}if(n=e,"45786966"===(0,i.toHexString)(n,2,6)&&(t=function(e,t){let r=e.slice(2,t),n=(0,i.toHexString)(r,6,8),a="4d4d"===n;if(a||"4949"===n)return function(e,t){let r=(0,i.readUInt)(e,16,14,t);for(let n=0;n<r;n++){let r=16+12*n,a=r+12;if(r>e.length)return;let o=e.slice(r,a);if(274===(0,i.readUInt)(o,16,0,t)){if(3!==(0,i.readUInt)(o,16,2,t)||1!==(0,i.readUInt)(o,32,4,t))return;return(0,i.readUInt)(o,16,8,t)}}}(r,a)}(e,s)),s>e.length)throw TypeError("Corrupt JPG, exceeded buffer limits");if(192===(r=e[s+1])||193===r||194===r){let r=(a=e,o=s+5,{height:(0,i.readUInt16BE)(a,o),width:(0,i.readUInt16BE)(a,o+2)});if(!t)return r;return{height:r.height,orientation:t,width:r.width}}e=e.slice(s+2)}throw TypeError("Invalid JPG, no size found")}}},90810:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.J2C=void 0;let i=r(23686);t.J2C={validate:e=>0xff4fff51===(0,i.readUInt32BE)(e,0),calculate:e=>({height:(0,i.readUInt32BE)(e,12),width:(0,i.readUInt32BE)(e,8)})}},90976:(e,t,r)=>{var i=r(93570),n=r(69319).EventEmitter;function a(e){if(!(this instanceof a))return new a(e);n.call(this),e=e||{},this.concurrency=e.concurrency||1/0,this.timeout=e.timeout||0,this.autostart=e.autostart||!1,this.results=e.results||null,this.pending=0,this.session=0,this.running=!1,this.jobs=[],this.timers={}}function o(){for(var e in this.timers){var t=this.timers[e];delete this.timers[e],clearTimeout(t)}}function s(e){var t=this;function r(e){t.end(e)}this.on("error",r),this.on("end",function i(n){t.removeListener("error",r),t.removeListener("end",i),e(n,this.results)})}function l(e){this.session++,this.running=!1,this.emit("end",e)}e.exports=a,e.exports.default=a,i(a,n),["pop","shift","indexOf","lastIndexOf"].forEach(function(e){a.prototype[e]=function(){return Array.prototype[e].apply(this.jobs,arguments)}}),a.prototype.slice=function(e,t){return this.jobs=this.jobs.slice(e,t),this},a.prototype.reverse=function(){return this.jobs.reverse(),this},["push","unshift","splice"].forEach(function(e){a.prototype[e]=function(){var t=Array.prototype[e].apply(this.jobs,arguments);return this.autostart&&this.start(),t}}),Object.defineProperty(a.prototype,"length",{get:function(){return this.pending+this.jobs.length}}),a.prototype.start=function(e){if(e&&s.call(this,e),this.running=!0,!(this.pending>=this.concurrency)){if(0===this.jobs.length){0===this.pending&&l.call(this);return}var t=this,r=this.jobs.shift(),i=!0,n=this.session,a=null,o=!1,d=null,u=r.hasOwnProperty("timeout")?r.timeout:this.timeout;u&&(a=setTimeout(function(){o=!0,t.listeners("timeout").length>0?t.emit("timeout",h,r):h()},u),this.timers[a]=a),this.results&&(d=this.results.length,this.results[d]=null),this.pending++,t.emit("start",r);var f=r(h);f&&f.then&&"function"==typeof f.then&&f.then(function(e){return h(null,e)}).catch(function(e){return h(e||!0)}),this.running&&this.jobs.length>0&&this.start()}function h(e,s){i&&t.session===n&&(i=!1,t.pending--,null!==a&&(delete t.timers[a],clearTimeout(a)),e?t.emit("error",e,r):!1===o&&(null!==d&&(t.results[d]=Array.prototype.slice.call(arguments,1)),t.emit("success",s,r)),t.session===n&&(0===t.pending&&0===t.jobs.length?l.call(t):t.running&&t.start()))}},a.prototype.stop=function(){this.running=!1},a.prototype.end=function(e){o.call(this),this.jobs.length=0,this.pending=0,l.call(this,e)}},96272:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JXLStream=void 0;let i=r(23686),n=r(27960);function a(e,t){if(t)return 8*(1+e.getBits(5));{let t=[9,13,18,30][e.getBits(2)];return 1+e.getBits(t)}}t.JXLStream={validate:e=>"ff0a"===(0,i.toHexString)(e,0,2),calculate(e){let t=new n.BitReader(e,"little-endian"),r=1===t.getBits(1),i=a(t,r),o=t.getBits(3);return{width:r&&0===o?8*(1+t.getBits(5)):0===o?a(t,!1):Math.floor(i*[1,1.2,4/3,1.5,16/9,5/4,2][o-1]),height:i}}}},98539:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.typeHandlers=void 0;let i=r(69760),n=r(48921),a=r(68898),o=r(16245),s=r(48029),l=r(63530),d=r(66578),u=r(90810),f=r(38211),h=r(87588),c=r(40721),p=r(96272),g=r(98622),y=r(22304),v=r(13562),b=r(81696),w=r(82665),m=r(55039),E=r(72962),I=r(4019);t.typeHandlers={bmp:i.BMP,cur:n.CUR,dds:a.DDS,gif:o.GIF,heif:s.HEIF,icns:l.ICNS,ico:d.ICO,j2c:u.J2C,jp2:f.JP2,jpg:h.JPG,jxl:c.JXL,"jxl-stream":p.JXLStream,ktx:g.KTX,png:y.PNG,pnm:v.PNM,psd:b.PSD,svg:w.SVG,tga:m.TGA,tiff:E.TIFF,webp:I.WEBP}},98622:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KTX=void 0;let i=r(23686);t.KTX={validate:e=>["KTX 11","KTX 20"].includes((0,i.toUTF8String)(e,1,7)),calculate:e=>{let t=49===e[5]?"ktx":"ktx2",r="ktx"===t?36:20;return{height:(0,i.readUInt32LE)(e,r+4),width:(0,i.readUInt32LE)(e,r),type:t}}}}}]);