"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[708],{9833:(e,s,r)=>{r.d(s,{A:()=>c});var i=r(37876),n=r(14232),a=r(13657),l=r(93825),t=function(e){return e.UP="UP",e.LSP7="LSP7",e.LSP8="LSP8",e}(t||{});let c=e=>{let{onClick:s}=e,{network:r}=(0,n.useContext)(a.u),t=l.uM[r.name];if(null!==t)return(0,i.jsxs)("div",{className:"is-flex is-flex-direction-row is-flex-wrap-wrap is-align-items-center",children:[(0,i.jsx)("span",{className:"mr-2",children:"Try with:"}),(0,i.jsx)("button",{className:"button is-light is-small my-2",onClick:()=>s(t.UP),children:"\uD83C\uDD99 Universal Profile Sample Address"}),(0,i.jsx)("button",{className:"button is-light is-small my-2 ml-2",onClick:()=>s(t.LSP7),children:"\uD83E\uDE99 LSP7 Sample Address"}),(0,i.jsx)("button",{className:"button is-light is-small my-2 ml-2",onClick:()=>s(t.LSP8),children:"\uD83D\uDDBC️ LSP8 Sample Address"})]})}},18562:(e,s,r)=>{r.d(s,{A:()=>k});var i=r(37876),n=r(80970),a=r(84274),l=r(14232),t=r(45957),c=r(13657),o=r(45693),d=r(32029),h=r(29294);let m=e=>{let{permissionDataKey:s}=e,r=s.slice(0,22),n=s.slice(22,26),a=s.slice(26);return(0,i.jsxs)("code",{className:"has-text-weight-bold",children:[(0,i.jsx)("span",{title:"AddressPermissions:Permissions prefix (10 bytes)",children:r}),(0,i.jsx)("span",{className:"has-text-grey",title:"Separator (2 bytes - should be 0000)",children:n}),(0,i.jsx)("span",{title:"Controller address (20 bytes)",children:a})]})},x=e=>{let{address:s,controllers:r}=e,{network:n}=(0,l.useContext)(c.u),[a,x]=(0,l.useState)(!1),[u,j]=(0,l.useState)({});return(0,l.useEffect)(()=>{(async()=>{x(!0);try{if(s&&void 0!==n){r.map(async(e,s)=>{let r=null,i=null;null!=e&&(r=(0,t.RI)("AddressPermissions:Permissions:<address>",e),i=null),u[s]={arrayIndexDataKey:(0,t.Rn)(h.Un.LSP6["AddressPermissions[]"].length,s),controller:e,permissionDataKey:r,bitArray:i,permissions:{}},j(u)});let e=Object.values(u).map(e=>{let{permissionDataKey:s}=e;return s||(0,t.RI)("AddressPermissions:Permissions:<address>","0x0000000000000000000000000000000000000000")}),i=await (0,d.R)(s,e,n);Object.values(u).forEach((e,s)=>{let{controller:r}=e;u[s].bitArray=r&&i[s],u[s].permissions=r?t.Ay.decodePermissions(i[s]):{},j({...u})})}}catch(e){console.error(e)}x(!1)})()},[s,n]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("p",{style:{display:"inline"},children:[r.length," controllers found"]}),(0,i.jsxs)("div",{className:"m-3",hidden:!a,children:[(0,i.jsx)("span",{children:"Loading controllers permissions. Please wait..."}),(0,i.jsxs)("progress",{className:"progress is-small is-primary mt-1",style:{width:"300px"},max:"100",children:["Loading..."," "]})]}),r.some(e=>null==e)&&(0,i.jsxs)("div",{className:"notification is-warning is-light mt-3",children:[(0,i.jsxs)("p",{children:["⚠️ It looks like some entries inside the"," ",(0,i.jsx)("code",{children:"AddressPermissions[]"})," array do not contain controller addresses. The value for some indexes is set to ",(0,i.jsx)("code",{children:"0x"}),"."]}),(0,i.jsx)("p",{children:(0,i.jsx)("strong",{})}),(0,i.jsxs)("table",{className:"table my-4",style:{backgroundColor:"transparent"},children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{className:"",children:"Affected indexes:"}),(0,i.jsx)("th",{className:"",children:"Array Index Data Key"})]})}),(0,i.jsx)("tbody",{children:Object.values(u).map((e,s)=>({...e,index:s})).filter(e=>{let{controller:s}=e;return null==s}).map(e=>{let{index:s,arrayIndexDataKey:r}=e;return(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:(0,i.jsxs)("code",{children:["AddressPermissions[",s,"]"]})}),(0,i.jsx)("td",{className:"ml-4 mt-1",children:(0,i.jsx)("code",{children:r})})]},s)})})]}),(0,i.jsx)("p",{children:"This could be because some controller addresses have been removed at these specific indexes, but the array length has not been updated."}),(0,i.jsxs)("p",{children:[(0,i.jsxs)("code",{children:["AddressPermissions[].length = ",r.length]})," ","(correspond to the ",(0,i.jsx)("strong",{children:'"Raw value"'})," above converted from hex to decimal)"]}),(0,i.jsx)("strong",{children:"Consider updating the array length or re-adding the controller addresses at these specific indexes to fix the list of controllers."})]}),!a&&(0,i.jsxs)("table",{className:"table",style:{backgroundColor:"transparent"},children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:(0,i.jsx)("abbr",{title:"Position",children:"Data Key index"})}),(0,i.jsx)("th",{children:(0,i.jsx)("abbr",{title:"Played",children:"Value"})})]})}),(0,i.jsx)("tbody",{children:Object.values(u).map((e,s)=>{let{controller:r,arrayIndexDataKey:n,permissionDataKey:a,bitArray:l,permissions:t}=e;return(0,i.jsxs)("tr",{children:[(0,i.jsxs)("td",{children:[(0,i.jsxs)("div",{className:"mb-6",children:[(0,i.jsxs)("p",{className:"has-text-weight-bold",children:["AddressPermissions[",s,"]"]}),"➡"," ",(0,i.jsx)("code",{className:"has-text-weight-bold",children:n})]}),(0,i.jsxs)("div",{className:"mb-6",children:[(0,i.jsxs)("p",{className:"has-text-weight-bold",children:["AddressPermissions:Permissions:",(0,i.jsx)("code",{className:"is-size-7",children:r||"unknown"})]}),r&&a?(0,i.jsxs)("p",{children:["➡"," ",(0,i.jsx)(m,{permissionDataKey:a})]}):(0,i.jsx)("p",{className:"notification is-warning is-light",children:"⚠️ Cannot encode data key: controller address unknown"})]})]}),(0,i.jsxs)("td",{style:{width:"50%"},children:[(0,i.jsxs)("div",{className:"mb-3",children:[(0,i.jsx)("p",{children:"Controller Infos:"}),r?(0,i.jsx)(o.A,{address:r}):(0,i.jsxs)("p",{className:"notification is-warning is-light",children:["⚠️ No controller found at index ",s]})]}),(0,i.jsxs)("div",{className:"mb-3",children:[(0,i.jsx)("p",{className:"text-bold",children:"Permissions:"}),r?(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{children:(0,i.jsx)("code",{className:"has-text-primary",children:l})}),(0,i.jsxs)("p",{children:["0x"==l||"0x0000000000000000000000000000000000000000000000000000000000000000"==l&&(0,i.jsx)("i",{children:"No permission set"}),Object.entries(t).map(e=>{let[s,r]=e;return r&&"0x"!==s&&(0,i.jsx)("span",{className:"tag is-primary m-1",children:s},s)})]})]}):(0,i.jsxs)("p",{className:"notification is-warning is-light",children:["⚠️ Cannot fetch permissions: controller unknown at index ",s]})]})]})]},s)})})]})]})};var u=r(73966),j=r(11041),p=r(97460);let g=e=>{let{value:s}=e,r=Object.keys(u.cT).filter(e=>u.cT[e].toString().includes(s.toString())),n="is-danger",a=(0,i.jsx)(p.g,{icon:j.wRm});if(!r||0===r.length)return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("code",{className:"mx-1 is-size-5",children:s}),(0,i.jsx)("span",{className:"icon-text tag is-medium is-light ".concat(n),children:(0,i.jsx)("span",{className:"icon",children:a})})]});switch(r[0]){case"TOKEN":n="is-warning",a=(0,i.jsx)(p.g,{icon:j.wq_});break;case"NFT":n="is-info",a=(0,i.jsx)(p.g,{icon:j.fyG});break;case"COLLECTION":n="is-link",a=(0,i.jsx)(p.g,{icon:j.R70})}return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("code",{className:"mx-1 is-size-5",children:s}),(0,i.jsxs)("span",{className:"icon-text tag is-medium ".concat(n),children:[(0,i.jsx)("span",{className:"icon",children:a}),(0,i.jsxs)("span",{children:[r[0]," "]})]})]})};var f=r(71738);let N=e=>{let{value:s}=e,r=Object.keys(f.aq).filter(e=>f.aq[e].toString().includes(s.toString())),n="is-danger",a=(0,i.jsx)(p.g,{icon:j.wRm});if(!r||0===r.length)return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("code",{className:"mx-1 is-size-5",children:s}),(0,i.jsx)("span",{className:"icon-text tag is-medium is-light ".concat(n),children:(0,i.jsx)("span",{className:"icon",children:a})})]});switch(r[0]){case"NUMBER":n="is-info",a=(0,i.jsx)(p.g,{icon:j.Tsj});break;case"STRING":n="is-primary",a=(0,i.jsx)(p.g,{icon:j.jrc});break;case"ADDRESS":n="is-link",a=(0,i.jsx)(p.g,{icon:j.h8M});break;case"UNIQUE_ID":n="is-dark",a=(0,i.jsx)(p.g,{icon:j.Os3});break;case"HASH":n="is-black",a=(0,i.jsx)(p.g,{icon:j.CYF});break;case"MIXED_DEFAULT_NUMBER":case"MIXED_DEFAULT_NUMBER":case"MIXED_DEFAULT_STRING":case"MIXED_DEFAULT_ADDRESS":case"MIXED_DEFAULT_UNIQUE_ID":case"MIXED_DEFAULT_HASH":n="is-white",a=(0,i.jsx)(p.g,{icon:j.iW_});break;default:n="is-info is-light",a=(0,i.jsx)(p.g,{icon:j.wRm})}return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("code",{className:"mx-1 is-size-5",children:s}),(0,i.jsxs)("span",{className:"icon-text tag is-medium ".concat(n),children:[(0,i.jsx)("span",{className:"icon",children:a}),(0,i.jsxs)("span",{children:[r[0]," "]})]})]})};var v=r(79023),S=r(24198);let y=e=>{let{value:s}=e;return s?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(S.A,{sourceCode:JSON.stringify(s,null,4),readOnly:!0}),(0,i.jsxs)("span",{children:["URL:",(0,i.jsx)("code",{className:"ml-2",children:s.url})]}),s.url&&-1!==s.url.indexOf("ipfs://")&&(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("a",{className:"has-text-link button is-small is-light is-info",target:"_blank",rel:"noreferrer",href:"".concat(v.Yy,"/").concat(s.url.replace("ipfs://","")),children:"Retrieve IPFS File ↗️"})})]}):(0,i.jsx)("span",{className:"help",children:"No data found for this key."})},P=e=>{let{address:s,erc725JSONSchema:r,value:n}=e,[a,d]=(0,l.useState)([]),[h,m]=(0,l.useState)({key:"",name:"",value:[]}),{network:u}=(0,l.useContext)(c.u);(0,l.useEffect)(()=>{(async()=>{if(null==u?void 0:u.rpcUrl)try{let e=new t.ZO([r],s,u.rpcUrl),i=e.decodeData([{keyName:r.name,value:n}]);if(d(i),"Array"===r.keyType){let s=await e.getData(r.name);m(s)}}catch(e){console.log(e.message)}})()},[s,u,r,n]);let{name:j,keyType:p,valueContent:f}=r;try{if(h&&"Array"===p&&Array.isArray(h.value)){if(0===h.value.length)return(0,i.jsx)("span",{className:"help",children:"No array entries found."});if("AddressPermissions[]"==j)return(0,i.jsx)(x,{address:s,controllers:h.value});return(0,i.jsxs)("ul",{children:[(0,i.jsxs)("li",{style:{listStyleType:"none"},children:[h.value.length," elements in Array"]}),h.value.map((e,r)=>e&&(0,i.jsx)("li",{children:(0,i.jsx)(o.A,{address:e.toString(),userAddress:s})},r))]})}let{value:e}=a[0];if("VerifiableURI"===f||"JSONURL"===f)return(0,i.jsx)(y,{value:e});if("LSP4TokenType"==j)return(0,i.jsx)(g,{value:e});if("LSP8TokenIdFormat"==j)return console.log("found LSP8 Token Id Format!"),(0,i.jsx)(N,{value:e});if("Address"===f)return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("code",{children:n}),(0,i.jsx)("div",{className:"mt-4"}),(0,i.jsx)(o.A,{address:e,userAddress:s})]});if("string"==typeof e||"number"==typeof e)return(0,i.jsx)("span",{className:"tag is-medium is-info is-light",children:e});return(0,i.jsx)("div",{children:(0,i.jsx)("pre",{children:JSON.stringify(a[0],null,4)})})}catch(e){return console.warn("Could not decode the key: ",e),(0,i.jsx)("span",{children:"Couldn't decode the value for this data key"})}};var A=r(22363);let k=e=>{let{address:s,data:r}=e,{value:l,schema:{keyType:t,valueContent:c}}=r;return(0,i.jsxs)("div",{className:"columns is-multiline my-3 dataKeyBox",children:[(0,i.jsx)("div",{className:"column ".concat("Array"===t?"is-full":"is-two-thirds"),children:(0,i.jsxs)("div",{className:"content",children:[(0,i.jsxs)("div",{className:"title is-4",children:[r.schema.name in n.fh?(0,i.jsxs)("a",{href:n.US[r.schema.name],target:"_blank",rel:"noopener noreferrer",className:"home-link",children:[r.schema.name," ↗️"]}):r.schema.name,(0,i.jsx)("span",{className:"tag is-small mx-2 is-info",children:r.schema.keyType})]}),(0,i.jsx)(A.A,{schema:r.schema}),(0,i.jsxs)("ul",{children:[(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"Key:"})," ",(0,i.jsx)("code",{children:r.schema.key})]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"Raw value: "}),(0,i.jsx)("span",{className:"tag is-small mx-2 is-link is-light",children:r.schema.valueType}),(0,i.jsx)("code",{children:r.value})]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"Value Content: "}),(0,i.jsx)("span",{className:"tag is-small is-link is-light",children:r.schema.valueContent})]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"Decoded value: "}),(0,i.jsx)("span",{className:"my-3 mr-3",children:(0,i.jsx)(P,{address:s,erc725JSONSchema:r.schema,value:r.value})})]}),"MappingWithGrouping"===r.schema.keyType&&(0,i.jsxs)("li",{children:["Mapped address:"," ",(0,i.jsxs)("code",{children:["0x",r.schema.name.split(":").pop()]})," "]})]})]})}),(0,i.jsx)("div",{className:"column",children:"Array"!==t&&"0x"!==l&&"Address"===c&&(0,i.jsx)(a.A,{showInspectButton:!0,address:l})})]},r.key)}},45693:(e,s,r)=>{r.d(s,{A:()=>i.A});var i=r(82016)},80970:(e,s,r)=>{r.d(s,{US:()=>n,fh:()=>i,sH:()=>a});var i=function(e){return e.LSP1UniversalReceiverDelegate="LSP1UniversalReceiverDelegate",e["SupportedStandards:LSP3Profile"]="SupportedStandards:LSP3Profile",e.LSP3Profile="LSP3Profile",e["LSP5ReceivedAssets[]"]="LSP5ReceivedAssets[]",e["AddressPermissions[]"]="AddressPermissions[]",e["LSP10Vaults[]"]="LSP10Vaults[]",e["LSP12IssuedAssets[]"]="LSP12IssuedAssets[]",e.LSP28TheGrid="LSP28TheGrid",e}({});let n={LSP1UniversalReceiverDelegate:"https://docs.lukso.tech/standards/generic-standards/lsp1-universal-receiver","SupportedStandards:LSP3Profile":"https://docs.lukso.tech/standards/standard-detection",LSP3Profile:"https://docs.lukso.tech/standards/universal-profile/lsp3-profile-metadata","LSP5ReceivedAssets[]":"https://docs.lukso.tech/standards/universal-profile/lsp5-received-assets","AddressPermissions[]":"https://docs.lukso.tech/standards/access-control/lsp6-key-manager","LSP10Vaults[]":"https://docs.lukso.tech/standards/universal-profile/lsp10-received-vaults","LSP12IssuedAssets[]":"https://docs.lukso.tech/standards/universal-profile/lsp12-issued-assets",LSP28TheGrid:"https://docs.lukso.tech/standards/standard-detection"};var a=function(e){return e.LSP7Tokens_SenderNotification="Allows your \uD83C\uDD99 to react after sending LSP7 tokens.",e.LSP7Tokens_RecipientNotification="Allows your \uD83C\uDD99 to react after receiving LSP7 tokens.",e.LSP7Tokens_OperatorNotification="Allows your \uD83C\uDD99 to react after it being authorized as an operator to transfer LSP7 tokens of someone else.",e.LSP8Tokens_SenderNotification="Allows your \uD83C\uDD99 to react after sending LSP8 NFTs.",e.LSP8Tokens_RecipientNotification="Allows your \uD83C\uDD99 to react after receiving LSP8 NFTs.",e.LSP8Tokens_OperatorNotification="Allows your \uD83C\uDD99 to react after being authorized as an operator to transfer LSP8 NFTs of someone else",e.LSP26FollowerSystem_FollowNotification="Allows your \uD83C\uDD99 to react after receiving a new follower.",e.LSP26FollowerSystem_UnfollowNotification="Allows your \uD83C\uDD99 to react after someone unfollowed it.",e.LSP0ValueReceived="Allows your \uD83C\uDD99 to react after receiving native LYX.",e.LSP0OwnershipTransferStarted="⚠️ Advanced usage. Details coming later.",e.LSP0OwnershipTransferred_SenderNotification="⚠️ Advanced usage. Details coming later.",e.LSP0OwnershipTransferred_RecipientNotification="⚠️ Advanced usage. Details coming later.",e}({})},84274:(e,s,r)=>{r.d(s,{A:()=>t});var i=r(37876),n=r(14232),a=r(13657),l=r(33128);let t=e=>{let{address:s,showInspectButton:r=!0,standards:t}=e,{network:c}=(0,n.useContext)(a.u),[o,d]=(0,n.useState)(),h=c.name===l.G.LUKSO_MAINNET||c.name===l.G.LUKSO_TESTNET,m=c.name===l.G.LUKSO_TESTNET?"testnet":"mainnet";(0,n.useEffect)(()=>{t&&h&&((t.isLsp7DigitalAsset||t.isLsp8IdentifiableDigitalAsset)&&d("https://universaleverything.io/asset/".concat(s,"?network=").concat(m)),t.isLsp0Erc725Account&&d("https://universaleverything.io/".concat(s,"?network=").concat(m)))},[t,s,m]);let x=(0,n.useMemo)(()=>c.explorerBaseUrl?"".concat(c.explorerBaseUrl,"/address/").concat(s):void 0,[c,s]),u=(0,n.useMemo)(()=>"Etherscan"===c.explorerName?"/etherscan-logo.svg":"/blockscout-logo-white.svg",[c]),j=(0,n.useMemo)(()=>"".concat(window.location.href.split("?")[0],"?address=").concat(s),[window,s]);return(0,i.jsxs)("div",{className:"buttons are-small flex is-flex-direction-column is-align-items-flex-start",children:[o&&(0,i.jsxs)("a",{className:"button is-normal",target:"_blank",rel:"noreferrer",href:o,children:[(0,i.jsx)("span",{className:"icon is-small p-1",children:(0,i.jsx)("img",{src:"/universaleverything-logo.png",alt:"UniversalEverything"})}),(0,i.jsx)("span",{children:"View on Universal Everything"})]}),x&&(0,i.jsxs)("a",{className:"button is-normal ".concat("Etherscan"===c.explorerName?"is-normal":"is-info"),target:"_blank",rel:"noreferrer",href:x,children:[(0,i.jsx)("span",{className:"icon is-small mr-2",children:(0,i.jsx)("img",{src:u,alt:c.explorerName||"Explorer"})}),(0,i.jsxs)("span",{children:["View on ",c.explorerName||"Explorer"]})]}),r&&(0,i.jsxs)("a",{className:"button is-primary is-normal",href:j,children:[(0,i.jsx)("span",{className:"icon is-small",children:(0,i.jsx)("img",{src:"/inspect-icon.svg",alt:"ERC725 Inspect"})}),(0,i.jsx)("span",{children:"Inspect with ERC725 Inspect"})]})]})}}}]);