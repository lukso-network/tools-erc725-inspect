(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[422],{1573:(e,a,t)=>{"use strict";t.d(a,{HF:()=>h,Rm:()=>y,VO:()=>p,bQ:()=>b,rO:()=>x,uD:()=>u});var s=t(29294),n=t(61444),r=t(58216),l=t(12683),c=t(71738),i=t(48532),d=t(93825),o=t(79023);let u=async(e,a)=>{let t=await f(e,[s.Xl.ERC725X,s.Xl.ERC725Y,s.Xl.ERC1271,s.Xl.LSP0ERC725Account,s.Xl.LSP1UniversalReceiver,s.Xl.LSP17Extendable,s.Xl.LSP25ExecuteRelayCall,s.Xl.LSP6KeyManager,s.Xl.LSP14Ownable2Step,s.Xl.LSP20CallVerification,s.Xl.LSP20CallVerifier,s.Xl.ERC20,s.Xl.ERC721,s.Xl.LSP1UniversalReceiverDelegate,s.Xl.LSP9Vault,s.Xl.LSP17Extension,s.Xl.LSP26FollowerSystem],a),n=await f(e,[l.FR["v0.12.0"],l.FR["v0.14.0"],l.ZM,c.Ed["v0.12.0"],c.Ed["v0.14.0"],c.s9],a);return{isErc725X:t[0],isErc725Y:t[1],isErc1271:t[2],isLsp0Erc725Account:t[3],isLsp1UniversalReceiver:t[4],isLsp17Extendable:t[5],isLsp25ExecuteRelayCall:t[6],isLsp6KeyManager:t[7],isLsp14OwnableTwoSteps:t[8],isLsp20CallVerification:t[9],isLsp20CallVerifier:t[10],isLsp7DigitalAsset:n[0]||n[1]||n[2],isLsp8IdentifiableDigitalAsset:n[3]||n[4]||n[5],isErc20:t[11],isERC721:t[12],isLsp1UniversalReceiverDelegate:t[13],isLsp9Vault:t[14],isLsp17Extension:t[15],isLsp26FollowerSystem:t[16]}};async function f(e,a,t){let s=new t.eth.Contract(i.J8),n=a.map(a=>[e,s.methods.supportsInterface(a).encodeABI()]);return(await m(n,t)).map(e=>{try{return t.eth.abi.decodeParameter("bool",e)}catch(e){return console.warn("Could not decode `supportsInterface` return data from aggregate call as `boolean`: ",e),!1}})}let m=async(e,a)=>{try{let t=new a.eth.Contract(i._f,d.Ae);return(await t.methods.aggregate(e).call()).returnData}catch(e){return console.warn("could not aggregate results: ",e),["",""]}};async function p(e,a){if(await a.eth.getCode(e)!=d.xA)return{isSafe:!1};let t=await a.eth.getStorageAt(e,0),s=a.eth.abi.decodeParameter("address",t),n=d.sG.find(e=>e.address===s);return n?{isSafe:!0,version:n.version}:{isSafe:!1}}let h=async(e,a)=>{let t=new a.eth.Contract(i.z8,e);try{let e=await t.methods.VERSION().call();if(""==e)return"unknown";return e}catch(a){return console.warn("Could not fetch smart contract version for contract at address ",e),"unknown"}},y=async(e,a,t)=>{let s=new t.eth.Contract(i.zf,e),n=[];try{n=await s.methods.getDataBatch(a).call()}catch(e){console.log(e.message)}return n},b=async(e,a,t)=>{let s=new t.eth.Contract(i.FN,e),n=null;try{n=await s.methods.getData(a).call()}catch(e){console.log(e.message)}return n},x=async(e,a)=>{let t=new r.Ay(n,e,a.currentProvider,{ipfsGateway:o.Yy+"/",gas:2e7}),s=await t.fetchData("LSP3Profile");return s||null}},9833:(e,a,t)=>{"use strict";t.d(a,{A:()=>i});var s=t(37876),n=t(14232),r=t(13657),l=t(93825),c=function(e){return e.UP="UP",e.LSP7="LSP7",e.LSP8="LSP8",e}(c||{});let i=e=>{let{onClick:a}=e,{network:t}=(0,n.useContext)(r.u),c=e=>{let s="";switch(e){case"UP":s=l.uM[t.name].UP;break;case"LSP7":s=l.uM[t.name].LSP7;break;case"LSP8":s=l.uM[t.name].LSP8}a(s)};return(0,s.jsxs)("div",{className:"is-flex is-flex-direction-row is-align-items-center",children:[(0,s.jsx)("span",{className:"mr-2",children:"Try with:"}),(0,s.jsx)("button",{className:"button is-light is-small my-4",onClick:()=>c("UP"),children:"\uD83C\uDD99 Universal Profile Sample Address"}),(0,s.jsx)("button",{className:"button is-light is-small my-4 ml-2",onClick:()=>c("LSP7"),children:"\uD83E\uDE99 LSP7 Sample Address"}),(0,s.jsx)("button",{className:"button is-light is-small my-4 ml-2",onClick:()=>c("LSP8"),children:"\uD83D\uDDBC️ LSP8 Sample Address"})]})}},36397:(e,a,t)=>{"use strict";t.d(a,{A:()=>l});var s=t(37876);t(14232);var n=t(79023);let r=e=>{let{methods:a}=e;return(0,s.jsx)(s.Fragment,{children:a.map((e,t)=>{let r=n.Cq[e],l=t===a.length-1,c=t===a.length-2;return(0,s.jsxs)("span",{children:[(0,s.jsx)("a",{href:r,target:"_blank",rel:"noreferrer",children:(0,s.jsxs)("code",{children:[e,"(…)"]})}),c?" and ":l?" ":", "]},e)})})},l=e=>{let{description:a,erc725jsMethod:t}=e,l=Array.isArray(t)?t:[t];return(0,s.jsx)("article",{className:"message is-info content",children:(0,s.jsxs)("div",{className:"message-body",children:[(0,s.jsx)("p",{children:a}),(0,s.jsxs)("p",{children:["It uses the ",(0,s.jsx)(r,{methods:l}),"function",l.length>1&&"s"," of the"," ",(0,s.jsx)("a",{href:n.YP.erc725js,target:"_blank",rel:"noreferrer",children:"erc725.js"})," ","library."]})]})})}},38391:(e,a,t)=>{"use strict";t.d(a,{A:()=>c});var s=t(14232),n=t(34912),r=t.n(n),l=t(13657);function c(){let[e,a]=(0,s.useState)(),{network:t}=(0,s.useContext)(l.u);return(0,s.useEffect)(()=>{(async()=>new(r())(t.rpc))().then(e=>{a(e)})},[t]),e}},47790:()=>{},48532:(e,a,t)=>{"use strict";t.d(a,{FN:()=>n,J8:()=>s,_f:()=>c,z8:()=>l,zf:()=>r});let s=[{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}],n=[{inputs:[{internalType:"bytes32",name:"dataKey",type:"bytes32"}],name:"getData",outputs:[{internalType:"bytes",name:"dataValue",type:"bytes"}],stateMutability:"view",type:"function"}],r=[{inputs:[{internalType:"bytes32[]",name:"dataKeys",type:"bytes32[]"}],name:"getDataBatch",outputs:[{internalType:"bytes[]",name:"dataValues",type:"bytes[]"}],stateMutability:"view",type:"function"}],l=[{inputs:[],name:"VERSION",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}],c=[{inputs:[{components:[{internalType:"address",name:"target",type:"address"},{internalType:"bytes",name:"callData",type:"bytes"}],internalType:"struct Multicall3.Call[]",name:"calls",type:"tuple[]"}],name:"aggregate",outputs:[{internalType:"uint256",name:"blockNumber",type:"uint256"},{internalType:"bytes[]",name:"returnData",type:"bytes[]"}],stateMutability:"payable",type:"function"}]},52867:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>A});var s=t(37876),n=t(77328),r=t.n(n),l=t(14232),c=t(62904),i=t(58216),d=t(29294),o=t(86105),u=t(61444),f=t(20539),m=t(57018),p=t(91751),h=t(80551),y=t(2406),b=t(62564),x=t(25764),C=t(72584),E=t(1573),S=t(38391),g=t(9833),P=t(79023),v=t(93825),w=t(13657),L=t(89099),k=t(36397);let j="0x724141d9918ce69e6b8afcf53a91748466086ba2c74b94cab43c649ae2ac23ff",D=[...o.map(e=>({name:e.name,key:e.key,icon:"\uD83D\uDCE2"})),...u.map(e=>({name:e.name,key:e.key,icon:"\uD83D\uDC64"})),...f.map(e=>({name:e.name,key:e.key,icon:"\uD83D\uDD35"})),...m.map(e=>({name:e.name,key:e.key,icon:"\uD83D\uDCB0"})),...p.map(e=>({name:e.name,key:e.key,icon:"\uD83D\uDD11"})),...h.map(e=>({name:e.name,key:e.key,icon:"\uD83D\uDDBC️"})),...y.map(e=>({name:e.name,key:e.key,icon:"\uD83D\uDD12"})),...b.map(e=>({name:e.name,key:e.key,icon:"\uD83D\uDD12"})),...x.map(e=>({name:e.name,key:e.key,icon:"\uD83D\uDDBC️"})),...C.map(e=>({name:e.name,key:e.key,icon:"\uD83D\uDC8E"})),{name:"LSP28TheGrid",key:j,icon:"\uD83C\uDF10"}],A=()=>{let[e,a]=(0,l.useState)(""),[t,n]=(0,l.useState)(""),[A,N]=(0,l.useState)(D[0].key),[B,R]=(0,l.useState)(""),[F,T]=(0,l.useState)(""),[X,U]=(0,l.useState)(""),[Y,_]=(0,l.useState)({isErc725X:!1,isErc725Y:!1}),[I,M]=(0,l.useState)(),{network:V}=(0,l.useContext)(w.u),O=(0,L.useRouter)(),G=(0,S.A)(),K=[...o,...u,...f,...m,...p,...h,...y,...b,...x,...C,{name:"LSP28TheGrid",key:j,keyType:"Singleton",valueType:"bytes",valueContent:"VerifiableURI"}];(0,l.useEffect)(()=>{let e=O.query.address,t=O.query.dataKey;e&&"string"==typeof e&&a(e),t&&"string"==typeof t&&N(t)},[O.query]);let q=(e,a)=>{let t=new URL(window.location.href);t.searchParams.set("address",e),t.searchParams.set("datakey",a),O.replace(t.href,void 0,{shallow:!0})},J=async e=>{if(a(e),T(""),q(e,A),!(0,c.isAddress)(e)&&0!==e.length){n("The address is not valid"),_({isErc725X:!1,isErc725Y:!1});return}"0x"!==e.slice(0,2)&&0!==e.length&&a("0x".concat(e)),n(""),G&&_(await (0,E.uD)(e,G))},z=a=>{if(N(a),T(""),q(e,a),64!==a.length&&66!==a.length||66===a.length&&"0x"!==a.slice(0,2))return void R("The data key is not valid");"0x"!==a.slice(0,2)&&N("0x".concat(a)),R("")},H=async()=>{if(!G||!I)return;if(!Y.isErc725Y)return void console.log("Contract not compatible with ERC725");let a=await (0,E.bQ)(e,A,G);if(a){let e,t,s,n;T(a);let r=(0,i._w)(A);if(!r&&A!==j)return;if(r)({name:e,valueType:t,valueContent:s}=r);else{if(A!==j)return void console.error("Unknown schema");e="LSP28TheGrid",s="VerifiableURI"}n=(0,i.ws)(e)?I.decodeData([{keyName:e,dynamicKeyParts:A.slice(26),value:a}]):I.decodeData([{keyName:e,value:a}]),U("VerifiableURI"==s?JSON.stringify(n[0].value,null,4):n[0].value)}else T("0x"),U("no data to decode \uD83E\uDD37")};return(0,l.useEffect)(()=>{M(new i.Ay(K,e,null==G?void 0:G.currentProvider,{ipfsGateway:"".concat(P.Yy,"/")}))},[e,G]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r(),{children:(0,s.jsx)("title",{children:"getData - ERC725 Tools"})}),(0,s.jsxs)("div",{className:"container",children:[(0,s.jsx)("h2",{className:"title is-2",children:"Data Fetcher"}),(0,s.jsx)(k.A,{erc725jsMethod:"decodeData",description:(0,s.jsxs)(s.Fragment,{children:["Retrieve the value under a specific"," ",(0,s.jsx)("a",{href:P.d8.ERC725Y,target:"_blank",rel:"noreferrer",children:"ERC725Y"})," ","data key and decode it according to its known"," ",(0,s.jsxs)("a",{href:"".concat(P.d8.LSP2,"#valueContent"),target:"_blank",rel:"noreferrer",children:["LSP2 ",(0,s.jsx)("code",{children:"valueContent"})]})]})}),(0,s.jsx)("div",{className:"is-flex",children:(0,s.jsxs)("div",{className:"is-half",children:[(0,s.jsxs)("div",{className:"field",children:[(0,s.jsx)("label",{className:"label",children:"Contract Address"}),(0,s.jsxs)("div",{className:"control",children:[(0,s.jsx)("input",{className:"input",type:"text",placeholder:v.uM[V.name].UP,value:e,onChange:e=>J(e.target.value)}),(0,s.jsx)(g.A,{onClick:e=>J(e)})]}),""!==t&&(0,s.jsx)("p",{className:"help is-danger",children:t}),(Y.isErc725X||Y.isErc725Y)&&(0,s.jsxs)("p",{className:"help is-success mt-3",children:["ERC725X: ",Y.isErc725X?"✅":"❌"," - ERC725Y"," ",Y.isErc725Y?"✅":"❌"]})]}),(0,s.jsxs)("div",{className:"field",children:[(0,s.jsx)("label",{className:"label",children:"Data Key"}),(0,s.jsx)("div",{className:"select mb-4 is-fullwidth",children:(0,s.jsx)("select",{value:A,onChange:e=>z(e.target.value),className:"is-fullwidth",children:D.map((e,a)=>(0,s.jsxs)("option",{value:e.key,children:[e.icon," \xa0",e.name]},a))})}),(0,s.jsx)("br",{}),(0,s.jsx)("div",{className:"control",children:(0,s.jsx)("input",{className:"input",type:"text",placeholder:o[0].key,value:A,onChange:e=>z(e.target.value)})}),""!==B&&(0,s.jsx)("p",{className:"help is-danger",children:B})]}),(0,s.jsx)("button",{className:"button is-primary",type:"button",disabled:""===e||""===A||""!==t||""!==B||!Y.isErc725Y,onClick:H,children:"getData"})]})}),(0,s.jsx)("hr",{}),F&&(0,s.jsxs)("div",{className:"is-full-width",children:[(0,s.jsxs)("div",{className:"columns is-vcentered my-2",children:[(0,s.jsx)("span",{className:"mr-3",children:"Encoded Value:"}),(0,s.jsx)("pre",{style:{wordBreak:"break-all",whiteSpace:"pre-wrap"},children:F})]}),(0,s.jsxs)("div",{className:"columns is-vcentered my-2",children:[(0,s.jsx)("span",{className:"mr-3",children:"Decoded Value"}),(0,s.jsx)("pre",{style:{wordBreak:"break-all",whiteSpace:"pre-wrap"},children:A.startsWith(d.Un.LSP6["AddressPermissions:Permissions"])?JSON.stringify(i.Ay.decodePermissions(F),void 0,2):X})]})]})]})]})}},66200:(e,a,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/data-fetcher",function(){return t(52867)}])},79023:(e,a,t)=>{"use strict";t.d(a,{Cq:()=>c,Ks:()=>r,YP:()=>i,Yy:()=>s,d8:()=>n});let s="https://api.universalprofile.cloud/ipfs",n={ERC725Y:"https://github.com/ERC725Alliance/ERC725/blob/develop/docs/ERC-725.md#erc725y",LSP2:"https://github.com/lukso-network/LIPs/blob/main/LSPs/LSP-2-ERC725YJSONSchema.md",LSP25:"https://github.com/lukso-network/LIPs/blob/main/LSPs/LSP-25-ExecuteRelayCall.md",LSP26:"https://github.com/lukso-network/LIPs/blob/main/LSPs/LSP-26-FollowerSystem.md"},r={ERC725Y:"https://docs.lukso.tech/standards/universal-profile/lsp0-erc725account#erc725y",LSP0:"https://docs.lukso.tech/standards/accounts/lsp0-erc725account/",LSP2:"https://docs.lukso.tech/standards/metadata/lsp2-json-schema/",LSP6:"https://docs.lukso.tech/standards/access-control/lsp6-key-manager/"},l="https://docs.lukso.tech/tools/dapps/erc725js/methods/",c={fetchData:"".concat(l,"#fetchdata"),getData:"".concat(l,"#getdata"),encodeData:"".concat(l,"#encodedata"),decodeData:"".concat(l,"#decodedata"),encodePermissions:"".concat(l,"#encodepermissions"),decodePermissions:"".concat(l,"#decodepermissions")},i={erc725js:"https://www.npmjs.com/package/@erc725/erc725.js"}},93825:(e,a,t)=>{"use strict";t.d(a,{Ae:()=>d,CX:()=>l,G4:()=>r,qm:()=>o,sG:()=>c,uM:()=>n,xA:()=>i});var s=t(33128);let n={[s.G.MAINNET]:{UP:"0x26e7Da1968cfC61FB8aB2Aad039b5A083b9De21e",LSP7:"0x8DA488C29FB873c9561cCF5FF44Dda6C1DedDC37",LSP8:"0x86e817172b5c07f7036bf8aa46e2db9063743a83"},[s.G.TESTNET]:{UP:"0x027b6f7be4399727d4e0132c2cE027Cd3e015364",LSP7:"0x41b35F490EB6325001fC94E92C58b9d9CC61586D",LSP8:"0x00aB25152E666Fcdf541Df9F46b3847F1c7887A0"},[s.G.LOCALHOST]:{}},r={[s.G.MAINNET]:["0xD6ebB3C5C1836f5377d134c303f4EBb053562f6f","0x2e90C2ff7E9bbD9381c8e4eA030666f9c6090727","0x9F44982B472431bEdeFC1DC92149Ca2ea09820aa","0x348EA31074263385a87e2B83f5aB58a7678205F7","0x22e4F54586676158B7D5251e457383E499903617","0x5827b91d84050d3A8e159C27E16B0d7426F66aEB","0x4a252E46A640FB2C45f0E74BAC9448F68fe66d63","0xeB7A7B91B5B7188c098Cb64DD01F59C9D876566d","0xBE8EA52CA32c51024E8B11C2719d9Edb94B21D16","0x242387F645a327af3f1E34F3A9A9032BeEe69fb0"],[s.G.TESTNET]:["0xb13B12848dbE8dDf87027Fa2c26aBeF0118a5EB7","0x08019bf6606367d4D5f74082634d3eA0692adf93"],[s.G.LOCALHOST]:[]},l=[{version:"0.14.0",address:"0x7870C5B8BC9572A8001C3f96f7ff59961B23500D"},{version:"0.12.1",address:"0xA5467dfe7019bF2C7C5F7A707711B9d4cAD118c8"}],c=[{version:"1.3.0",address:"0x3E5c63644E683549055b9Be8653de26E0B4CD36E"}],i="0x608060405273ffffffffffffffffffffffffffffffffffffffff600054167fa619486e0000000000000000000000000000000000000000000000000000000060003514156050578060005260206000f35b3660008037600080366000845af43d6000803e60008114156070573d6000fd5b3d6000f3fea2646970667358221220d1429297349653a4918076d650332de1a1068c5f3e07c5c82360c277770b955264736f6c63430007060033",d="0xcA11bde05977b3631167028862bE2a173976CA11",o="0x42562196ee7AaC3E8501db777B25ffc976ed8463"}},e=>{e.O(0,[754,0,216,71,37,636,593,792],()=>e(e.s=66200)),_N_E=e.O()}]);