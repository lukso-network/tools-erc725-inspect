(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[486],{6492:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/lsp-checker",function(){return t(57303)}])},57303:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return L}});var s,r,i=t(47568),a=t(14924),c=t(828),l=t(97582),d=t(85893),u=t(67294),o=t(9008),h=t.n(o),f=t(53655),x=t(77802),p=t(35694),S=t(60926),j=t(9366),v=t(17274),N=t(18269),A=t(8124),m=t(24610).zK;!function(e){e[e.PASS=0]="PASS",e[e.FAIL=1]="FAIL",e[e.INFO=2]="INFO",e[e.WARNING=3]="WARNING",e[e.BLANK=4]="BLANK"}(s||(s={}));var P=(r={},(0,a.Z)(r,s.PASS,"\u2705"),(0,a.Z)(r,s.FAIL,"\u274c"),(0,a.Z)(r,s.INFO,"\u2139\ufe0f"),(0,a.Z)(r,s.WARNING,"\u26a0\ufe0f"),(0,a.Z)(r,s.BLANK,"-"),r),L=function(){var e=(0,j.Z)(),n=(0,u.useState)(""),t=n[0],r=n[1],a=(0,u.useState)(!0),o=a[0],L=a[1],y=(0,u.useState)([]),k=y[0],I=y[1],_=(0,u.useState)(),b=_[0],E=_[1],F=(0,u.useState)({isLsp0Erc725Account:!1}),w=F[0],C=F[1],K=function(){var n=(0,i.Z)((function(){var n,r,i,a;return(0,l.__generator)(this,(function(c){switch(c.label){case 0:return e?(n=x.concat(p),r=n.filter((function(e){return!(0,f.MD)(e.name)})),[4,(0,v.iK)(t,r.map((function(e){return e.key})),e)]):[2];case 1:return i=c.sent(),a=function(){return i.map((function(e,n){var t=f.pY.decodeData([{keyName:r[n].name,value:e}],[r[n]])[0],a=t.name,c=t.value,l=s.BLANK;return"SupportedStandards:LSP3Profile"==a&&(l="0x5ef83ad9"===c?s.PASS:s.FAIL),"LSP3Profile"==a&&(l="0x"!=c?s.PASS:s.INFO),"LSP1UniversalReceiverDelegate"==a&&(l=(0,N.isAddress)(c)?s.PASS:s.FAIL),"AddressPermissions[]"!=a&&"LSP12IssuedAssets[]"!=a&&"LSP5ReceivedAssets[]"!=a||(l="0x"==e?s.INFO:(0,N.stripHexPrefix)(e).length/2==16?s.PASS:s.FAIL),{dataKey:a,pass:l,valueSet:i[n]}}))},[2,a()]}}))}));return function(){return n.apply(this,arguments)}}(),O=function(){var n=(0,i.Z)((function(){var n,s,r,i,a,d,u,o,h,p,S;return(0,l.__generator)(this,(function(l){switch(l.label){case 0:return e?(L(!0),n=[],[4,(0,v.DE)(t,e)]):[2];case 1:return s=l.sent().isLsp0Erc725Account,[4,K()];case 2:return n=l.sent(),(r=n.find((function(e){return"LSP3Profile"===e.dataKey})))?(i=x[1],a=i.name,d=i.key,u=(0,f.pE)(r.valueSet),[4,(0,f.zm)([i],[{value:u,name:a,key:d}],A.D)]):[3,4];case 3:o=c.Z.apply(void 0,[l.sent(),1]),h=o[0],p=h.value,S=(0,N.keccak256)(JSON.stringify(p)),E({hashMatch:u.verification.data==S,jsonValid:m(p)}),l.label=4;case 4:return void 0!==k&&I(n),C({isLsp0Erc725Account:s}),L(!1),[2]}}))}));return function(){return n.apply(this,arguments)}}();return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(h(),{children:(0,d.jsx)("title",{children:"LSP Checker - ERC725 Tools"})}),(0,d.jsxs)("div",{className:"container",children:[(0,d.jsx)("h2",{className:"title is-2",children:"LSP Checker"}),(0,d.jsxs)("div",{className:"field",children:[(0,d.jsx)("h3",{className:"title is-3",children:"Contract Address"}),(0,d.jsxs)("div",{className:"control mb-0",children:[(0,d.jsx)("input",{className:"input",type:"text",placeholder:"0x...",value:t,onChange:function(e){r(e.target.value)}}),(0,d.jsx)(S.Z,{onClick:function(e){return r(e)}}),(0,d.jsx)("button",{className:"button is-primary mx-2",type:"button",onClick:O,children:"Verify Universal Profile"})]})]}),(0,d.jsx)("div",{className:"content my-5",children:!o&&(0,d.jsx)("div",{children:(0,d.jsxs)("table",{children:[(0,d.jsx)("thead",{children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{children:"Data"}),(0,d.jsx)("th",{children:"Check"}),(0,d.jsx)("th",{children:"Value"})]})}),(0,d.jsxs)("tbody",{children:[k.map((function(e,n){return(0,d.jsxs)("tr",{children:[(0,d.jsxs)("td",{children:[(0,d.jsx)("b",{children:"Data Key: "}),(0,d.jsx)("code",{children:e.dataKey})]}),(0,d.jsx)("td",{children:P[e.pass]}),(0,d.jsxs)("td",{style:{maxWidth:"300px"},children:[(0,d.jsx)("pre",{style:{whiteSpace:"pre-wrap",wordWrap:"break-word"},children:e.valueSet}),"LSP3Profile"==e.dataKey&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("p",{children:["Is the JSON file valid?"," ",(null===b||void 0===b?void 0:b.jsonValid)?"\u2705":"\u274c"]}),(0,d.jsxs)("p",{children:["Does the hash matches the hash of the JSON file?"," ",(null===b||void 0===b?void 0:b.hashMatch)?"\u2705":"\u274c"]})]})]})]},n)})),(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{children:(0,d.jsx)("code",{children:"supportsInterface(LSP0ERC725Account)"})}),(0,d.jsx)("td",{children:w.isLsp0Erc725Account?"\u2705":"\u274c"})]})]})]})})})]})]})}}},function(e){e.O(0,[543,438,130,676,655,512,468,774,888,179],(function(){return n=6492,e(e.s=n);var n}));var n=e.O();_N_E=n}]);