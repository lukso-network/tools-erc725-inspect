(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[630],{9245:function(s,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/key-manager",function(){return n(818)}])},9366:function(s,e,n){"use strict";n.d(e,{Z:function(){return l}});var i=n(7568),c=n(7582),t=n(7294),r=n(7918),a=n.n(r),o=n(3538);function l(){var s=(0,t.useState)(),e=s[0],n=s[1],r=(0,t.useContext)(o.J).network;return(0,t.useEffect)((function(){var s=function(){var s=(0,i.Z)((function(){return(0,c.__generator)(this,(function(s){return[2,new(a())(r.rpc)]}))}));return function(){return s.apply(this,arguments)}}();s().then((function(s){n(s)}))}),[r]),e}},818:function(s,e,n){"use strict";n.r(e),n.d(e,{default:function(){return x}});var i=n(5893),c=n(9008),t=n.n(c),r=n(7568),a=n(7582),o=n(7294),l=n(8276),d=n(9366),u=function(){var s=(0,d.Z)(),e=(0,o.useState)(""),n=e[0],c=e[1],t=(0,o.useState)(""),u=t[0],m=t[1],h=(0,o.useState)(""),f=h[0],x=h[1],N=(0,o.useState)(""),p=N[0],j=N[1],E=(0,o.useState)(!1),v=E[0],C=E[1],P=(0,o.useState)(!1),S=P[0],g=P[1],A=function(){var e=(0,r.Z)((function(){var e,i,c,t;return(0,a.__generator)(this,(function(r){switch(r.label){case 0:return s?[4,(e=new s.eth.Contract(l.Mt,s.utils.toChecksumAddress(n))).methods.supportsInterface("0x6f4df48b").call()]:[2];case 1:return i=r.sent(),[4,e.methods.supportsInterface("0xc403d48f").call()];case 2:return c=r.sent(),i||c?[4,e.methods.getNonce(u,f).call()]:[3,4];case 3:return t=r.sent(),j(t),C(!0),g(!1),[3,5];case 4:C(!1),g(!0),r.label=5;case 5:return[2]}}))}));return function(){return e.apply(this,arguments)}}();return(0,i.jsxs)("div",{className:"container mt-5",children:[(0,i.jsx)("h2",{className:"title is-2",children:"Nonce"}),(0,i.jsxs)("p",{children:["Retrieve the nonce of an ",(0,i.jsx)("code",{children:"address"})," for a specific Key Manager."]}),(0,i.jsxs)("div",{className:"columns mt-2",children:[(0,i.jsx)("div",{className:"column",children:(0,i.jsx)("div",{className:"field",children:(0,i.jsxs)("p",{className:"control has-icons-left",children:[(0,i.jsx)("input",{className:"input",type:"text",placeholder:"Key Manager address",onChange:function(s){c(s.target.value)}}),(0,i.jsx)("span",{className:"icon is-small is-left",children:"\ud83d\udd10"})]})})}),(0,i.jsx)("div",{className:"column",children:(0,i.jsx)("div",{className:"field",children:(0,i.jsxs)("p",{className:"control has-icons-left",children:[(0,i.jsx)("input",{className:"input",type:"text",placeholder:"Caller address",onChange:function(s){return m(s.target.value)}}),(0,i.jsx)("span",{className:"icon is-small is-left",children:"\u27a1\ufe0f "})]})})}),(0,i.jsx)("div",{className:"column",children:(0,i.jsx)("div",{className:"field",children:(0,i.jsxs)("p",{className:"control has-icons-left",children:[(0,i.jsx)("input",{className:"input",type:"text",placeholder:"Channel ID",onChange:function(s){return x(s.target.value)}}),(0,i.jsx)("span",{className:"icon is-small is-left",children:"\ud83d\udeaa"})]})})}),(0,i.jsx)("div",{className:"column",children:(0,i.jsx)("button",{className:"button is-success",onClick:(0,r.Z)((function(){return(0,a.__generator)(this,(function(s){switch(s.label){case 0:return[4,A()];case 1:return s.sent(),[2]}}))})),children:"Get Nonce"})})]}),(0,i.jsxs)("div",{className:"notification is-danger is-light",style:{display:S?"block":"none"},children:["address ",(0,i.jsx)("code",{children:n})," is not a KeyManager"]}),(0,i.jsxs)("div",{className:"notification is-success is-light",style:{display:v?"block":"none"},children:["Nonce = ",(0,i.jsx)("code",{children:p})]})]})},m=n(8629),h=function(s){var e=s.permissions,n=s.color,c=s.decodedPermissions,t=s.handlePermissionClick;return(0,i.jsx)("div",{className:"buttons",children:e.map((function(s){return(0,i.jsx)("button",{className:"button ".concat(n," ").concat(!c[s]&&"is-outlined"),onClick:function(e){e.preventDefault(),t(s)},children:s},s)}))})},f=function(){var s="0x0000000000000000000000000000000000000000000000000000000000000001",e=(0,o.useState)(s),n=e[0],c=e[1],t=(0,o.useState)(m.ZP.decodePermissions(s)),r=t[0],a=t[1],l=function(s){console.log("updatedDecodedPermissions",s);var e=r;e[s]=!e[s],a(e),c(m.ZP.encodePermissions(e))};return(0,i.jsxs)("div",{className:"container",children:[(0,i.jsx)("h2",{className:"title is-2",children:"Permissions"}),(0,i.jsx)("article",{className:"message is-info",children:(0,i.jsxs)("div",{className:"message-body",children:["This tool will encode/decode permissions according to"," ",(0,i.jsx)("a",{href:"https://docs.lukso.tech/standards/universal-profile/lsp6-key-manager",children:"LSP6 KeyManager Standard"})," ","smart contract and attempt to match them with their"," ",(0,i.jsx)("a",{href:"https://github.com/lukso-network/LIPs/blob/main/LSPs/LSP-2-ERC725YJSONSchema.md",children:"LSP2 ERC725YJSONSchema"}),".",(0,i.jsx)("br",{}),"The erc725.js lib provides a"," ",(0,i.jsx)("a",{href:"https://docs.lukso.tech/tools/erc725js/classes/ERC725#encodepermissions",children:"decodePermissions"})," ","method to decode the permissions."]})}),(0,i.jsx)("div",{className:"columns",children:(0,i.jsx)("div",{className:"column",children:(0,i.jsx)("input",{className:"input is-medium",type:"text",placeholder:"0x0000000000000000000000000000000000000000000000000000000000000001",value:n,onChange:function(s){return function(s){try{c(s),a(m.ZP.decodePermissions(s))}catch(e){console.log(e.message)}}(s.target.value)}})})}),(0,i.jsx)("div",{className:"columns",children:(0,i.jsxs)("div",{className:"column",children:[(0,i.jsx)(h,{permissions:["CHANGEOWNER","ADDCONTROLLER","EDITPERMISSIONS"],color:"is-orange-dark",decodedPermissions:r,handlePermissionClick:l}),(0,i.jsx)(h,{permissions:["ADDEXTENSIONS","CHANGEEXTENSIONS"],color:"is-orange",decodedPermissions:r,handlePermissionClick:l}),(0,i.jsx)(h,{permissions:["ADDUNIVERSALRECEIVERDELEGATE","CHANGEUNIVERSALRECEIVERDELEGATE"],color:"is-warning",decodedPermissions:r,handlePermissionClick:l}),(0,i.jsx)(h,{permissions:["REENTRANCY"],color:"is-danger",decodedPermissions:r,handlePermissionClick:l}),(0,i.jsx)(h,{permissions:["SUPER_TRANSFERVALUE","TRANSFERVALUE","SUPER_CALL","CALL","SUPER_STATICCALL","STATICCALL","SUPER_DELEGATECALL","DELEGATECALL","DEPLOY"],color:"is-primary",decodedPermissions:r,handlePermissionClick:l}),(0,i.jsx)(h,{permissions:["SUPER_SETDATA","SETDATA"],color:"is-success",decodedPermissions:r,handlePermissionClick:l}),(0,i.jsx)(h,{permissions:["ENCRYPT","DECRYPT","SIGN"],color:"is-purple",decodedPermissions:r,handlePermissionClick:l})]})}),(0,i.jsx)("div",{className:"columns",children:(0,i.jsx)("div",{className:"column",children:(0,i.jsx)("pre",{children:JSON.stringify(r,void 0,2)})})})]})},x=function(){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t(),{children:(0,i.jsx)("title",{children:"Key Manager - ERC725 Tools"})}),(0,i.jsx)(f,{}),(0,i.jsx)(u,{})]})}},6601:function(){},9214:function(){},5568:function(){},2361:function(){},4616:function(){}},function(s){s.O(0,[543,629,399,774,888,179],(function(){return e=9245,s(s.s=e);var e}));var e=s.O();_N_E=e}]);