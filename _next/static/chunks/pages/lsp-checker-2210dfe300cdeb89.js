(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[486],{6492:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/lsp-checker",function(){return n(57303)}])},60926:function(e,t,n){"use strict";var r,s=n(85893),a=n(67294),i=n(53538),c=n(1438);!function(e){e.UP="UP",e.Asset="Asset"}(r||(r={}));t.Z=function(e){var t=e.onClick,n=(0,a.useContext)(i.J).network,u=function(e){var s="";switch(e){case r.UP:switch(n.name){case"MAINNET":s=c.XS.MAINNET_UP;break;case"TESTNET":s=c.XS.TESTNET_UP}break;case r.Asset:switch(n.name){case"MAINNET":s=c.XS.MAINNET_LSP7;break;case"TESTNET":s=c.XS.TESTNET_LS7}}t(s)};return(0,s.jsxs)("div",{children:[(0,s.jsx)("button",{className:"button is-light is-small my-4",onClick:function(){return u(r.UP)},children:"Try with a Universal Profile Sample Address"}),(0,s.jsx)("button",{className:"button is-light is-small my-4 ml-2",onClick:function(){return u(r.Asset)},children:"Try with a Digital Asset Sample Address"})]})}},1438:function(e,t,n){"use strict";n.d(t,{J7:function(){return c},MX:function(){return o},XJ:function(){return i},XS:function(){return r},qU:function(){return a},uZ:function(){return s},wq:function(){return u}});var r,s=[{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}],a=[{inputs:[{internalType:"bytes32",name:"dataKey",type:"bytes32"}],name:"getData",outputs:[{internalType:"bytes",name:"dataValue",type:"bytes"}],stateMutability:"view",type:"function"}],i=[{inputs:[{internalType:"bytes32[]",name:"dataKeys",type:"bytes32[]"}],name:"getDataBatch",outputs:[{internalType:"bytes[]",name:"dataValues",type:"bytes[]"}],stateMutability:"view",type:"function"}],c=[{inputs:[],name:"VERSION",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}],u=[{inputs:[{components:[{internalType:"address",name:"target",type:"address"},{internalType:"bytes",name:"callData",type:"bytes"}],internalType:"struct Multicall3.Call[]",name:"calls",type:"tuple[]"}],name:"aggregate",outputs:[{internalType:"uint256",name:"blockNumber",type:"uint256"},{internalType:"bytes[]",name:"returnData",type:"bytes[]"}],stateMutability:"payable",type:"function"}],o="0xcA11bde05977b3631167028862bE2a173976CA11";!function(e){e.MAINNET_UP="0x0F4180da178ed1C71398a57ca8Cb177F69591f1f",e.TESTNET_UP="0x027b6f7be4399727d4e0132c2cE027Cd3e015364",e.MAINNET_LSP7="0x8DA488C29FB873c9561cCF5FF44Dda6C1DedDC37",e.TESTNET_LS7="0x41b35F490EB6325001fC94E92C58b9d9CC61586D"}(r||(r={}))},9366:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(47568),s=n(97582),a=n(67294),i=n(37918),c=n.n(i),u=n(53538);function o(){var e=(0,a.useState)(),t=e[0],n=e[1],i=(0,a.useContext)(u.J).network;return(0,a.useEffect)((function(){var e=function(){var e=(0,r.Z)((function(){return(0,s.__generator)(this,(function(e){return[2,new(c())(i.rpc)]}))}));return function(){return e.apply(this,arguments)}}();e().then((function(e){n(e)}))}),[i]),t}},57303:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var r,s,a=n(47568),i=n(14924),c=n(828),u=n(97582),o=n(85893),l=n(67294),d=n(9008),h=n.n(d),f=n(53655),p=n(77802),y=n(35694),v=n(60926),m=n(9366),b=n(17274),S=n(18269),N=n(24610).zK;!function(e){e[e.PASS=0]="PASS",e[e.FAIL=1]="FAIL",e[e.INFO=2]="INFO",e[e.WARNING=3]="WARNING",e[e.BLANK=4]="BLANK"}(r||(r={}));var x=(s={},(0,i.Z)(s,r.PASS,"\u2705"),(0,i.Z)(s,r.FAIL,"\u274c"),(0,i.Z)(s,r.INFO,"\u2139\ufe0f"),(0,i.Z)(s,r.WARNING,"\u26a0\ufe0f"),(0,i.Z)(s,r.BLANK,"-"),s),g=function(){var e=(0,m.Z)(),t=(0,l.useState)(""),n=t[0],s=t[1],i=(0,l.useState)(!0),d=i[0],g=i[1],A=(0,l.useState)([]),E=A[0],j=A[1],w=(0,l.useState)(),C=w[0],P=w[1],T=(0,l.useState)({isLsp0Erc725Account:!1}),_=T[0],L=T[1],I=function(){var t=(0,a.Z)((function(){var t,s,a,i;return(0,u.__generator)(this,(function(c){switch(c.label){case 0:return e?(t=p.concat(y),s=t.filter((function(e){return!(0,f.MD)(e.name)})),[4,(0,b.iK)(n,s.map((function(e){return e.key})),e)]):[2];case 1:return a=c.sent(),i=function(){return a.map((function(e,t){var n=f.pY.decodeData([{keyName:s[t].name,value:e}],[s[t]])[0],i=n.name,c=n.value,u=r.BLANK;return"SupportedStandards:LSP3Profile"==i&&(u="0x5ef83ad9"===c?r.PASS:r.FAIL),"LSP3Profile"==i&&(u="0x"!=c?r.PASS:r.INFO),"LSP1UniversalReceiverDelegate"==i&&(u=(0,S.isAddress)(c)?r.PASS:r.FAIL),"AddressPermissions[]"!=i&&"LSP12IssuedAssets[]"!=i&&"LSP5ReceivedAssets[]"!=i||(u="0x"==e?r.INFO:(0,S.stripHexPrefix)(e).length/2==16?r.PASS:r.FAIL),{dataKey:i,pass:u,valueSet:a[t]}}))},[2,i()]}}))}));return function(){return t.apply(this,arguments)}}(),k=function(){var t=(0,a.Z)((function(){var t,r,s,a,i,o,l,d,h;return(0,u.__generator)(this,(function(u){switch(u.label){case 0:return e?(g(!0),t=[],[4,(0,b.DE)(n,e)]):[2];case 1:return r=u.sent().isLsp0Erc725Account,[4,I()];case 2:return t=u.sent(),(s=t.find((function(e){return"LSP3Profile"===e.dataKey})))?(a=p[1],i=(0,f.pE)(s.valueSet),[4,(0,f.zm)([a],[{value:i,name:a.name,key:a.key}],"https://api.universalprofile.cloud/ipfs/")]):[3,4];case 3:o=c.Z.apply(void 0,[u.sent(),1]),l=o[0],d=l.value,h=(0,S.keccak256)(JSON.stringify(d)),P({hashMatch:i.verification.data==h,jsonValid:N(d)}),u.label=4;case 4:return void 0!==E&&j(t),L({isLsp0Erc725Account:r}),g(!1),[2]}}))}));return function(){return t.apply(this,arguments)}}();return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(h(),{children:(0,o.jsx)("title",{children:"LSP Checker - ERC725 Tools"})}),(0,o.jsxs)("div",{className:"container",children:[(0,o.jsx)("h2",{className:"title is-2",children:"LSP Checker"}),(0,o.jsxs)("div",{className:"field",children:[(0,o.jsx)("h3",{className:"title is-3",children:"Contract Address"}),(0,o.jsxs)("div",{className:"control mb-0",children:[(0,o.jsx)("input",{className:"input",type:"text",placeholder:"0x...",value:n,onChange:function(e){s(e.target.value)}}),(0,o.jsx)(v.Z,{onClick:function(e){return s(e)}}),(0,o.jsx)("button",{className:"button is-primary mx-2",type:"button",onClick:k,children:"Verify Universal Profile"})]})]}),(0,o.jsx)("div",{className:"content my-5",children:!d&&(0,o.jsx)("div",{children:(0,o.jsxs)("table",{children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{children:"Data"}),(0,o.jsx)("th",{children:"Check"}),(0,o.jsx)("th",{children:"Value"})]})}),(0,o.jsxs)("tbody",{children:[E.map((function(e,t){return(0,o.jsxs)("tr",{children:[(0,o.jsxs)("td",{children:[(0,o.jsx)("b",{children:"Data Key: "}),(0,o.jsx)("code",{children:e.dataKey})]}),(0,o.jsx)("td",{children:x[e.pass]}),(0,o.jsxs)("td",{style:{maxWidth:"300px"},children:[(0,o.jsx)("pre",{style:{whiteSpace:"pre-wrap",wordWrap:"break-word"},children:e.valueSet}),"LSP3Profile"==e.dataKey&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("p",{children:["Is the JSON file valid?"," ",(null===C||void 0===C?void 0:C.jsonValid)?"\u2705":"\u274c"]}),(0,o.jsxs)("p",{children:["Does the hash matches the hash of the JSON file?"," ",(null===C||void 0===C?void 0:C.hashMatch)?"\u2705":"\u274c"]})]})]})]},t)})),(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{children:(0,o.jsx)("code",{children:"supportsInterface(LSP0ERC725Account)"})}),(0,o.jsx)("td",{children:_.isLsp0Erc725Account?"\u2705":"\u274c"})]})]})]})})})]})]})}},17274:function(e,t,n){"use strict";n.d(t,{DE:function(){return h},Yu:function(){return d},bo:function(){return v},gJ:function(){return m},iK:function(){return l}});var r=n(47568),s=n(97582),a=n(88812),i=n(54529),c=n(20744),u=n(1438),o=n(30733),l=function(){var e=(0,r.Z)((function(e,t,n){var r,a,i;return(0,s.__generator)(this,(function(s){switch(s.label){case 0:r=new n.eth.Contract(u.XJ,e),a=[],s.label=1;case 1:return s.trys.push([1,3,,4]),[4,r.methods.getDataBatch(t).call()];case 2:return a=s.sent(),[3,4];case 3:return i=s.sent(),console.log(i.message),[3,4];case 4:return[2,a]}}))}));return function(t,n,r){return e.apply(this,arguments)}}(),d=function(){var e=(0,r.Z)((function(e,t,n){var r,a,i;return(0,s.__generator)(this,(function(s){switch(s.label){case 0:r=new n.eth.Contract(u.qU,e),a=null,s.label=1;case 1:return s.trys.push([1,3,,4]),[4,r.methods.getData(t).call()];case 2:return a=s.sent(),[3,4];case 3:return i=s.sent(),console.log(i.message),[3,4];case 4:return[2,a]}}))}));return function(t,n,r){return e.apply(this,arguments)}}(),h=function(){var e=(0,r.Z)((function(e,t){var n,r;return(0,s.__generator)(this,(function(s){switch(s.label){case 0:return[4,p(e,[a.Bj.ERC725X,a.Bj.ERC725Y,a.Bj.ERC1271,a.Bj.LSP0ERC725Account,a.Bj.LSP1UniversalReceiver,a.Bj.LSP6KeyManager,a.Bj.LSP9Vault,a.Bj.ERC721],t)];case 1:return n=s.sent(),[4,p(e,[i.hg["v0.12.0"],i.hg["v0.14.0"],i.z1,c.zD["v0.12.0"],c.zD["v0.14.0"],c.s1],t)];case 2:return r=s.sent(),[2,{isErc725X:n[0],isErc725Y:n[1],isErc1271:n[2],isLsp0Erc725Account:n[3],isLsp1UniversalReceiver:n[4],isLsp6KeyManager:n[5],isLsp7DigitalAsset:r[0]||r[1]||r[2],isLsp8IdentifiableDigitalAsset:r[3]||r[4]||r[5],isLsp9Vault:n[6],isERC721:n[7]}]}}))}));return function(t,n){return e.apply(this,arguments)}}(),f=function(){var e=(0,r.Z)((function(e,t){var n;return(0,s.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,new t.eth.Contract(u.wq,u.MX).methods.aggregate(e).call()];case 1:return[2,r.sent().returnData];case 2:return n=r.sent(),console.warn("could not aggregate results: ",n),[2,["",""]];case 3:return[2]}}))}));return function(t,n){return e.apply(this,arguments)}}();function p(e,t,n){return y.apply(this,arguments)}function y(){return(y=(0,r.Z)((function(e,t,n){var r,a;return(0,s.__generator)(this,(function(s){switch(s.label){case 0:return r=new n.eth.Contract(u.uZ),a=t.map((function(t){return[e,r.methods.supportsInterface(t).encodeABI()]})),[4,f(a,n)];case 1:return[2,s.sent().map((function(e){try{return n.eth.abi.decodeParameter("bool",e)}catch(t){return console.warn("Could not decode `supportsInterface` return data from aggregate call as `boolean`: ",t),!1}}))]}}))}))).apply(this,arguments)}var v=function(){var e=(0,r.Z)((function(e,t){var n,r;return(0,s.__generator)(this,(function(s){switch(s.label){case 0:n=new t.eth.Contract(u.J7,e),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,n.methods.VERSION().call()];case 2:return""==(r=s.sent())?[2,"unknown"]:[2,r];case 3:return s.sent(),console.warn("Could not fetch smart contract version for contract at address ",e),[2,"unknown"];case 4:return[2]}}))}));return function(t,n){return e.apply(this,arguments)}}();function m(e,t){return b.apply(this,arguments)}function b(){return(b=(0,r.Z)((function(e,t){var n;return(0,s.__generator)(this,(function(r){switch(r.label){case 0:return[4,t.eth.getCode(e)];case 1:return r.sent()!=o.wv?[2,!1]:[4,t.eth.getStorageAt(e,0)];case 2:return n=r.sent(),[2,t.eth.abi.decodeParameter("address",n).implementationAddress==o.BL]}}))}))).apply(this,arguments)}},46601:function(){},89214:function(){},85568:function(){},52361:function(){},94616:function(){}},function(e){e.O(0,[543,438,676,409,655,403,774,888,179],(function(){return t=6492,e(e.s=t);var t}));var t=e.O();_N_E=t}]);