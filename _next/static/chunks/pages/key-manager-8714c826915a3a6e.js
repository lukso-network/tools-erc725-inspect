(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[343],{16513:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>p});var n=a(37876),c=a(77328),t=a.n(c),r=a(14232),l=a(1846),i=a(38391),o=a(79023);let d=()=>{let e=(0,i.A)(),[s,a]=(0,r.useState)(""),[c,t]=(0,r.useState)(""),[d,h]=(0,r.useState)(""),[m,u]=(0,r.useState)(""),[x,p]=(0,r.useState)(!1),[j,N]=(0,r.useState)(!1),E=async()=>{if(!e)return;let a=new e.eth.Contract(l.HV,e.utils.toChecksumAddress(s)),n=await a.methods.supportsInterface("0x6f4df48b").call(),t=await a.methods.supportsInterface("0xc403d48f").call();n||t?(u(await a.methods.getNonce(c,d).call()),p(!0),N(!1)):(p(!1),N(!0))};return(0,n.jsxs)("div",{className:"container mt-5",children:[(0,n.jsx)("h2",{className:"title is-2",children:"Nonce"}),(0,n.jsx)("article",{className:"message is-info",children:(0,n.jsxs)("div",{className:"message-body",children:["Retrieve the nonce of a"," ",(0,n.jsx)("a",{href:"https://docs.lukso.tech/standards/accounts/lsp0-erc725account",target:"_blank",rel:"noreferrer",className:"ml-1",children:"LSP0 ERC725Account"}),"'s"," ",(0,n.jsx)("a",{href:"https://docs.lukso.tech/standards/access-control/lsp6-key-manager#introduction",target:"_blank",rel:"noreferrer",children:"controller address"})," ","for a specific"," ",(0,n.jsx)("a",{href:"https://docs.lukso.tech/standards/access-control/lsp6-key-manager",target:"_blank",rel:"noreferrer",children:"LSP6 KeyManager"})," ","smart contract."]})}),(0,n.jsx)("article",{className:"message",children:(0,n.jsxs)("div",{className:"message-body",children:["It's calling the"," ",(0,n.jsx)("a",{href:"".concat(o.d8.LSP25,"#getnonce"),target:"_blank",rel:"noreferrer",children:"getNonce"})," ","function of the"," ",(0,n.jsx)("a",{href:o.d8.LSP25,target:"_blank",rel:"noreferrer",children:"LSP25 ExecuteRelayCall"})," ","standardization that every"," ",(0,n.jsx)("a",{href:"https://docs.lukso.tech/standards/access-control/lsp6-key-manager",target:"_blank",rel:"noreferrer",children:"LSP6 KeyManager"})," ","inherits."]})}),(0,n.jsxs)("div",{className:"columns mt-2",children:[(0,n.jsx)("div",{className:"column",children:(0,n.jsx)("div",{className:"field",children:(0,n.jsxs)("p",{className:"control has-icons-left",children:[(0,n.jsx)("input",{className:"input",type:"text",placeholder:"Key Manager Address",onChange:e=>{a(e.target.value)}}),(0,n.jsx)("span",{className:"icon is-small is-left",children:"\uD83D\uDD10"})]})})}),(0,n.jsx)("div",{className:"column",children:(0,n.jsx)("div",{className:"field",children:(0,n.jsxs)("p",{className:"control has-icons-left",children:[(0,n.jsx)("input",{className:"input",type:"text",placeholder:"Controller Address",onChange:e=>t(e.target.value)}),(0,n.jsx)("span",{className:"icon is-small is-left",children:"➡️ "})]})})}),(0,n.jsx)("div",{className:"column",children:(0,n.jsx)("div",{className:"field",children:(0,n.jsxs)("p",{className:"control has-icons-left",children:[(0,n.jsx)("input",{className:"input",type:"text",placeholder:"Channel ID",onChange:e=>h(e.target.value)}),(0,n.jsx)("span",{className:"icon is-small is-left",children:"\uD83D\uDEAA"})]})})}),(0,n.jsx)("div",{className:"column",children:(0,n.jsx)("button",{className:"button is-success",onClick:async()=>{await E()},children:"Get Nonce"})})]}),(0,n.jsxs)("div",{className:"notification is-danger is-light",style:{display:j?"block":"none"},children:["address ",(0,n.jsx)("code",{children:s})," is not a KeyManager"]}),(0,n.jsxs)("div",{className:"notification is-success is-light",style:{display:x?"block":"none"},children:["Nonce = ",(0,n.jsx)("code",{children:m})]})]})};var h=a(23346);let m=e=>{let{permissions:s,color:a,decodedPermissions:c,handlePermissionClick:t}=e;return(0,n.jsx)("div",{className:"buttons",children:s.map(e=>(0,n.jsx)("button",{className:"button ".concat(a," ").concat(!c[e]&&"is-outlined"),onClick:s=>{s.preventDefault(),t(e)},children:e},e))})};var u=a(36397);let x=()=>{let e="0x0000000000000000000000000000000000000000000000000000000000000001",[s,a]=(0,r.useState)(e),[c,t]=(0,r.useState)(h.Ay.decodePermissions(e)),l=e=>{console.log("updatedDecodedPermissions",e),c[e]=!c[e],t(c),a(h.Ay.encodePermissions(c))};return(0,n.jsxs)("div",{className:"container",children:[(0,n.jsx)("h2",{className:"title is-2",children:"Permissions"}),(0,n.jsx)(u.A,{erc725jsMethod:["encodePermissions","decodePermissions"],description:(0,n.jsxs)(n.Fragment,{children:["Encode and decode"," ",(0,n.jsx)("a",{href:"".concat(o.Ks.LSP6,"#address-permissions"),target:"_blank",rel:"noreferrer",children:"permissions"})," ","based on the"," ",(0,n.jsx)("a",{href:o.Ks.LSP6,target:"_blank",rel:"noreferrer",children:"LSP6 Key Manager"})," ","standard."]})}),(0,n.jsx)("div",{className:"columns",children:(0,n.jsx)("div",{className:"column",children:(0,n.jsx)("input",{className:"input is-medium",type:"text",placeholder:"0x0000000000000000000000000000000000000000000000000000000000000001",value:s,onChange:e=>(e=>{try{a(e),t(h.Ay.decodePermissions(e))}catch(e){console.log(e.message)}})(e.target.value)})})}),(0,n.jsxs)("div",{className:"columns",children:[(0,n.jsxs)("div",{className:"column is-half",children:[(0,n.jsx)("h5",{className:"mb-2 title is-5",children:"Contract Ownership"}),(0,n.jsx)(m,{permissions:["CHANGEOWNER","ADDCONTROLLER","EDITPERMISSIONS"],color:"is-orange-dark",decodedPermissions:c,handlePermissionClick:l}),(0,n.jsx)("h5",{className:"mb-2 title is-5",children:"Extensions"}),(0,n.jsx)(m,{permissions:["ADDEXTENSIONS","CHANGEEXTENSIONS"],color:"is-orange",decodedPermissions:c,handlePermissionClick:l}),(0,n.jsx)("h5",{className:"mb-2 title is-5",children:"Universal Receivers"}),(0,n.jsx)(m,{permissions:["ADDUNIVERSALRECEIVERDELEGATE","CHANGEUNIVERSALRECEIVERDELEGATE"],color:"is-warning",decodedPermissions:c,handlePermissionClick:l}),(0,n.jsx)("h5",{className:"mb-2 title is-5",children:"Payload Execution"}),(0,n.jsx)(m,{permissions:["REENTRANCY","ERC4337_PERMISSION"],color:"is-danger",decodedPermissions:c,handlePermissionClick:l}),(0,n.jsx)("h5",{className:"mb-2 title is-5",children:"Contract Interactions"}),(0,n.jsx)(m,{permissions:["SUPER_TRANSFERVALUE","TRANSFERVALUE","SUPER_CALL","CALL","SUPER_STATICCALL","STATICCALL","SUPER_DELEGATECALL","DELEGATECALL","DEPLOY"],color:"is-primary",decodedPermissions:c,handlePermissionClick:l}),(0,n.jsx)("h5",{className:"mb-2 title is-5",children:"Contract Storage"}),(0,n.jsx)(m,{permissions:["SUPER_SETDATA","SETDATA"],color:"is-success",decodedPermissions:c,handlePermissionClick:l}),(0,n.jsx)("h5",{className:"mb-2 title is-5",children:"Signing Verification"}),(0,n.jsx)(m,{permissions:["ENCRYPT","DECRYPT","SIGN"],color:"is-purple",decodedPermissions:c,handlePermissionClick:l})]}),(0,n.jsx)("div",{className:"column is-half",children:(0,n.jsx)("pre",{children:JSON.stringify(c,void 0,2)})})]})]})},p=()=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t(),{children:(0,n.jsx)("title",{children:"Key Manager - ERC725 Tools"})}),(0,n.jsx)(x,{}),(0,n.jsx)(d,{})]})},36397:(e,s,a)=>{"use strict";a.d(s,{A:()=>r});var n=a(37876);a(14232);var c=a(79023);let t=e=>{let{methods:s}=e;return(0,n.jsx)(n.Fragment,{children:s.map((e,a)=>{let t=c.Cq[e],r=a===s.length-1,l=a===s.length-2;return(0,n.jsxs)("span",{children:[(0,n.jsx)("a",{href:t,target:"_blank",rel:"noreferrer",children:(0,n.jsxs)("code",{children:[e,"(…)"]})}),l?" and ":r?" ":", "]},e)})})},r=e=>{let{description:s,erc725jsMethod:a}=e,r=Array.isArray(a)?a:[a];return(0,n.jsx)("article",{className:"message is-info content",children:(0,n.jsxs)("div",{className:"message-body",children:[(0,n.jsx)("p",{children:s}),(0,n.jsxs)("p",{children:["It uses the ",(0,n.jsx)(t,{methods:r}),"function",r.length>1&&"s"," of the"," ",(0,n.jsx)("a",{href:c.YP.erc725js,target:"_blank",rel:"noreferrer",children:"erc725.js"})," ","library."]})]})})}},38391:(e,s,a)=>{"use strict";a.d(s,{A:()=>l});var n=a(14232),c=a(34912),t=a.n(c),r=a(13657);function l(){let[e,s]=(0,n.useState)(),{network:a}=(0,n.useContext)(r.u);return(0,n.useEffect)(()=>{(async()=>new(t())(a.rpc))().then(e=>{s(e)})},[a]),e}},79023:(e,s,a)=>{"use strict";a.d(s,{Cq:()=>l,Ks:()=>t,YP:()=>i,Yy:()=>n,d8:()=>c});let n="https://api.universalprofile.cloud/ipfs",c={ERC725Y:"https://github.com/ERC725Alliance/ERC725/blob/develop/docs/ERC-725.md#erc725y",LSP2:"https://github.com/lukso-network/LIPs/blob/main/LSPs/LSP-2-ERC725YJSONSchema.md",LSP25:"https://github.com/lukso-network/LIPs/blob/main/LSPs/LSP-25-ExecuteRelayCall.md",LSP26:"https://github.com/lukso-network/LIPs/blob/main/LSPs/LSP-26-FollowerSystem.md"},t={ERC725Y:"https://docs.lukso.tech/standards/universal-profile/lsp0-erc725account#erc725y",LSP0:"https://docs.lukso.tech/standards/accounts/lsp0-erc725account/",LSP2:"https://docs.lukso.tech/standards/metadata/lsp2-json-schema/",LSP6:"https://docs.lukso.tech/standards/access-control/lsp6-key-manager/"},r="https://docs.lukso.tech/tools/dapps/erc725js/methods/",l={fetchData:"".concat(r,"#fetchdata"),getData:"".concat(r,"#getdata"),encodeData:"".concat(r,"#encodedata"),decodeData:"".concat(r,"#decodedata"),encodePermissions:"".concat(r,"#encodepermissions"),decodePermissions:"".concat(r,"#decodepermissions")},i={erc725js:"https://www.npmjs.com/package/@erc725/erc725.js"}},98156:(e,s,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/key-manager",function(){return a(16513)}])}},e=>{e.O(0,[754,346,717,636,593,792],()=>e(e.s=98156)),_N_E=e.O()}]);