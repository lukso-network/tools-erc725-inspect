(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[86],{55839:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/lsp4-metadata-encoder",function(){return n(16251)}])},16251:function(e,t,n){"use strict";n.r(t);var r=n(47568),a=n(26042),i=n(29815),s=n(97582),l=n(85893),o=n(9008),u=n.n(o),c=n(67294),d=n(90512),h=n(47935),p=n.n(h),f=n(18269),x=n(53655),m=n(56517),b=n(67814),g=n(60769),y=n(42561),v=n(48764).Buffer,j=new x.ZP(m),k=v.from("Y2hpZTZwaGUxb29naDhpZVp1b2szZXNoaWV4YWhTaDF6YWk2c2hhaHNoYWhwaHVlR2F6b3RhZTJqb3VyNWViYQ==\n","base64").toString(),N=function(e){var t=e.file,n=e.inputText,r=e.choose;return(0,l.jsx)("div",{className:"file has-name is-right is-fullwidth",children:(0,l.jsxs)("label",{className:"file-label",children:[(0,l.jsx)("input",{className:"file-input",type:"file",name:"",onChange:r}),(0,l.jsxs)("span",{className:"file-cta",children:[(0,l.jsx)("span",{className:"file-icon",children:(0,l.jsx)(b.G,{icon:{prefix:"fas",iconName:"upload"}})}),(0,l.jsx)("span",{className:"file-label",children:"Choose"})]}),(0,l.jsx)("span",{className:"file-name",children:t?t.name:n})]})})},w=function(e){var t=e.file,n=t.image,r=t.name,i=t.type,s=e.remove,o=e.addToList;return(0,l.jsxs)("div",{style:{width:"100%",padding:0,margin:"20px 0px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n?(0,l.jsx)("img",{alt:"",src:n,style:{padding:0,maxWidth:"50px"}}):(0,l.jsx)("div",{style:{maxWidth:"50px"},children:(0,l.jsx)(g.a,(0,a.Z)({},i&&{type:i.split("/")[0]}||{extension:r.substring(r.lastIndexOf(".")+1)}))}),(0,l.jsx)("p",{children:r}),o?(0,l.jsxs)("div",{style:{display:"flex",gap:"8px"},children:[(0,l.jsx)("button",{className:"button is-dark",onClick:o,children:"Add to list"}),(0,l.jsx)("button",{className:"button is-dark",onClick:s,children:"Remove"})]}):(0,l.jsx)("button",{className:"button is-dark",onClick:s,children:"Remove"})]})},D=function(e){var t=e.selectedType,n=e.onChange,r=(0,c.useState)(!1),a=r[0],i=r[1],s=(0,c.useState)(t),o=s[0],u=s[1];return(0,l.jsxs)("div",{className:(0,d.Z)("dropdown",a&&"is-active"),children:[(0,l.jsx)("div",{className:"dropdown-trigger",children:(0,l.jsxs)("button",{className:"button","aria-haspopup":"true","aria-controls":"dropdown-menu",onClick:function(){return i(!a)},children:[(0,l.jsx)("span",{children:o||"Type"}),(0,l.jsx)("span",{className:"file-icon",style:{margin:"0 0 0 16px"},children:(0,l.jsx)(b.G,{icon:{prefix:"fas",iconName:"angle-down"}})})]})}),(0,l.jsx)("div",{className:"dropdown-menu",id:"dropdown-menu",role:"menu",children:(0,l.jsxs)("div",{className:"dropdown-content",style:{background:"#F0F0F0"},children:[(0,l.jsx)("button",{className:"dropdown-item",style:{border:"none"},onClick:function(){return n("string"),u("string"),i(!1)},children:"String"}),(0,l.jsx)("button",{className:"dropdown-item",style:{border:"none"},onClick:function(){return n("number"),u("number"),i(!1)},children:"Number"}),(0,l.jsx)("button",{className:"dropdown-item",style:{border:"none"},onClick:function(){return n("boolean"),u("boolean"),i(!1)},children:"Boolean"})]})})]})};t.default=function(){var e=new y.DE("https://api.universalprofile.cloud/api/v0/add",k),t=(0,c.useState)(""),n=t[0],a=t[1],o=(0,c.useState)(""),d=o[0],h=o[1],x=(0,c.useState)([{title:"",url:""}]),m=x[0],g=x[1],C=(0,c.useState)([{key:"",value:"",type:""}]),S=C[0],_=C[1],Z=(0,c.useState)([]),T=Z[0],F=Z[1],W=(0,c.useState)(),B=W[0],L=W[1],E=(0,c.useState)([]),G=E[0],I=E[1],P=(0,c.useState)(),R=P[0],z=P[1],V=(0,c.useState)([]),Y=V[0],A=V[1],O=(0,c.useState)(),M=O[0],X=O[1],H=(0,c.useState)(0),J=H[0],U=H[1],q=(0,c.useState)(""),Q=q[0],K=q[1],$=function(){var e=(0,r.Z)((function(e){var t,n,r,a,i,l,o;return(0,s.__generator)(this,(function(s){switch(s.label){case 0:return(null===(t=e.target.files)||void 0===t?void 0:t.length)?(n=e.target.files[0],r=n.name,a=n.type,[4,n.arrayBuffer()]):[3,2];case 1:return i=s.sent(),l=v.from(i),o=(0,f.keccak256)("0x".concat(l.toString("hex"))),[2,{name:r,type:a,hash:o,buffer:l}];case 2:return[2]}}))}));return function(t){return e.apply(this,arguments)}}(),ee=function(){var e=(0,r.Z)((function(e){var t,n,r,a,i,l,o,u,c;return(0,s.__generator)(this,(function(s){switch(s.label){case 0:return[4,$(e)];case 1:if(t=s.sent()){if(n=t.name,r=t.type,a=t.hash,i=t.buffer,!r.startsWith("image/"))return[2];if(l="data:".concat(r,";base64,").concat(i.toString("base64")),o=p()(i),u=o.height,c=o.width,!u||!c)return[2];L({name:n,type:r,hash:a,buffer:i,image:l,width:c,height:u})}return[2]}}))}));return function(t){return e.apply(this,arguments)}}(),te=function(){var e=(0,r.Z)((function(e){var t,n,r,a,i,l,o,u,c;return(0,s.__generator)(this,(function(s){switch(s.label){case 0:return[4,$(e)];case 1:if(t=s.sent()){if(n=t.name,r=t.type,a=t.hash,i=t.buffer,!r.startsWith("image/"))return[2];if(l="data:".concat(r,";base64,").concat(i.toString("base64")),o=p()(i),u=o.height,c=o.width,!u||!c)return[2];z({name:n,type:r,hash:a,buffer:i,image:l,width:c,height:u})}return[2]}}))}));return function(t){return e.apply(this,arguments)}}(),ne=function(){var e=(0,r.Z)((function(e){var t,n,r,a,i;return(0,s.__generator)(this,(function(s){switch(s.label){case 0:return[4,$(e)];case 1:return(t=s.sent())&&(n=t.name,r=t.type,a=t.hash,i=t.buffer,X({name:n,type:r,hash:a,buffer:i})),[2]}}))}));return function(t){return e.apply(this,arguments)}}(),re=function(){var t=(0,r.Z)((function(){var t,r,a,i,l,o,u,c,h,p,f,x,b,g,y,k,N,w,D,C,_,Z,F,W,B,L,E,I,P,R,z,V,A,O,M,X,H,J,q,Q;return(0,s.__generator)(this,(function(s){switch(s.label){case 0:U(1),t=[],r=!0,a=!1,i=void 0,s.label=1;case 1:s.trys.push([1,6,7,8]),l=T[Symbol.iterator](),s.label=2;case 2:return(r=(o=l.next()).done)?[3,5]:(u=o.value,c=u.buffer,h=u.width,p=u.height,[4,e.upload(new Blob([c]))]);case 3:f=s.sent(),x=f.url,b=f.hash,t.push({width:h,height:p,url:x,verification:{method:"keccak256(bytes)",data:b}}),s.label=4;case 4:return r=!0,[3,2];case 5:return[3,8];case 6:return H=s.sent(),a=!0,i=H,[3,8];case 7:try{r||null==l.return||l.return()}finally{if(a)throw i}return[7];case 8:g=[],y=!0,k=!1,N=void 0,s.label=9;case 9:s.trys.push([9,14,15,16]),w=G[Symbol.iterator](),s.label=10;case 10:return(y=(D=w.next()).done)?[3,13]:(C=D.value,_=C.buffer,Z=C.width,F=C.height,[4,e.upload(new Blob([_]))]);case 11:W=s.sent(),B=W.url,L=W.hash,g.push({width:Z,height:F,url:B,verification:{method:"keccak256(bytes)",data:L}}),s.label=12;case 12:return y=!0,[3,10];case 13:return[3,16];case 14:return H=s.sent(),k=!0,N=H,[3,16];case 15:try{y||null==w.return||w.return()}finally{if(k)throw N}return[7];case 16:E=[],I=!0,P=!1,R=void 0,s.label=17;case 17:s.trys.push([17,22,23,24]),z=Y[Symbol.iterator](),s.label=18;case 18:return(I=(V=z.next()).done)?[3,21]:(A=V.value,[4,e.upload(new Blob([A.buffer]))]);case 19:O=s.sent(),M=O.url,X=O.hash,E.push({url:M,verification:{method:"keccak256(bytes)",data:X}}),s.label=20;case 20:return I=!0,[3,18];case 21:return[3,24];case 22:return H=s.sent(),P=!0,R=H,[3,24];case 23:try{I||null==z.return||z.return()}finally{if(P)throw R}return[7];case 24:return J={LSP4Metadata:{name:n,description:d,links:m.filter((function(e){var t=e.title,n=e.url;return t&&n})),attributes:S.filter((function(e){var t=e.key,n=e.value,r=e.type;return t&&n&&r})),icon:t,images:[g],assets:E}},[4,e.upload(new Blob([v.from(JSON.stringify(J))]))];case 25:return q=s.sent().url,Q=j.encodeData([{keyName:"LSP4Metadata",value:{json:J,url:q}}]).values,console.log(Q),K(Q[0]),U(2),[2]}}))}));return function(){return t.apply(this,arguments)}}();return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(u(),{children:(0,l.jsx)("title",{children:"LSP4 Metadata - ERC725 Tools"})}),(0,l.jsxs)("div",{className:"container is-fullwidth",children:[(0,l.jsx)("input",{className:"input mb-2",type:"text",placeholder:"name",onChange:function(e){return a(e.target.value)}}),(0,l.jsx)("textarea",{className:"textarea is-fullwidth",placeholder:"description",onChange:function(e){return h(e.target.value)}}),(0,l.jsx)("div",{style:{border:"1px solid #D3D3D3",margin:"20px 0px"}}),(0,l.jsx)("p",{className:"mb-2",children:"Links"}),(0,l.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:m.map((function(e,t){var n=e.title,r=e.url;return(0,l.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,l.jsx)("input",{className:"input",type:"text",placeholder:"link title",onChange:function(e){var n=m;n[t].title=e.target.value,g(n)}}),(0,l.jsx)("input",{className:"input",type:"text",placeholder:"link url",onChange:function(e){var n=m;n[t].url=e.target.value,g(n)}}),t===m.length-1?(0,l.jsx)("button",{style:{border:"none",background:"transparent",cursor:"pointer"},onClick:function(){return m[m.length-1].title&&m[m.length-1].url?g((0,i.Z)(m).concat([{title:"",url:""}])):null},children:(0,l.jsx)(b.G,{icon:{prefix:"fas",iconName:"plus-circle"},size:"2x",color:"#808080"})}):(0,l.jsx)("button",{style:{border:"none",background:"transparent",cursor:"pointer"},onClick:function(){return g(m.filter((function(e){return e.title!==n&&e.url!==r})))},children:(0,l.jsx)(b.G,{icon:{prefix:"fas",iconName:"minus-circle"},size:"2x",color:"#808080"})})]},t)}))}),(0,l.jsx)("div",{style:{border:"1px solid #D3D3D3",margin:"20px 0px"}}),(0,l.jsx)("p",{className:"mb-2",children:"Attributes"}),(0,l.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:S.map((function(e,t){var n=e.key,r=e.value,a=e.type;return(0,l.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,l.jsx)("input",{className:"input",type:"text",placeholder:"attribute kind",onChange:function(e){var n=S;n[t].key=e.target.value,_(n)}}),(0,l.jsx)("input",{className:"input",type:"text",placeholder:"attribute name",onChange:function(e){var n=S;n[t].value=e.target.value,_(n)}}),(0,l.jsx)(D,{selectedType:S[t].type,onChange:function(e){var n=S;n[t].type=e,_(n)}}),t===S.length-1?(0,l.jsx)("button",{style:{border:"none",background:"transparent",cursor:"pointer"},onClick:function(){return S[S.length-1].key&&S[S.length-1].value&&S[S.length-1].type?_((0,i.Z)(S).concat([{key:"",value:"",type:""}])):null},children:(0,l.jsx)(b.G,{icon:{prefix:"fas",iconName:"plus-circle"},size:"2x",color:"#808080"})}):(0,l.jsx)("button",{style:{border:"none",background:"transparent",cursor:"pointer"},onClick:function(){return _(S.filter((function(e){return e.key!==n&&e.value!==r&&e.type!==a})))},children:(0,l.jsx)(b.G,{icon:{prefix:"fas",iconName:"minus-circle"},size:"2x",color:"#808080"})})]},t)}))}),(0,l.jsx)("div",{style:{border:"1px solid #D3D3D3",margin:"20px 0px"}}),(0,l.jsx)("p",{className:"mb-2",children:"Icon"}),(0,l.jsx)(N,{file:B,inputText:"Choose an icon\u2026",choose:ee}),B&&B.image?(0,l.jsx)(w,{file:B,addToList:function(){return F((0,i.Z)(T).concat([B])),L(void 0)},remove:function(){return L(void 0)}}):(0,l.jsx)(l.Fragment,{}),(0,l.jsx)("div",{style:{border:"1px solid #D3D3D3",margin:"20px 0px"}}),T.map((function(e){return(0,l.jsx)(w,{file:e,remove:function(){return F(T.filter((function(t){return t.hash!==e.hash})))}},e.hash)})),T.length>0?(0,l.jsx)("div",{style:{border:"1px solid #D3D3D3",margin:"20px 0px"}}):(0,l.jsx)(l.Fragment,{}),(0,l.jsx)("p",{className:"mb-2",children:"Images"}),(0,l.jsx)(N,{file:R,inputText:"Choose an image\u2026",choose:te}),R&&R.image?(0,l.jsx)(w,{file:R,addToList:function(){return I((0,i.Z)(G).concat([R])),z(void 0)},remove:function(){return z(void 0)}}):(0,l.jsx)(l.Fragment,{}),(0,l.jsx)("div",{style:{border:"1px solid #D3D3D3",margin:"20px 0px"}}),G.map((function(e){return(0,l.jsx)(w,{file:e,remove:function(){return I(G.filter((function(t){return t.hash!==e.hash})))}},e.hash)})),G.length>0?(0,l.jsx)("div",{style:{border:"1px solid #D3D3D3",margin:"20px 0px"}}):(0,l.jsx)(l.Fragment,{}),(0,l.jsx)("p",{className:"mb-2",children:"Assets"}),(0,l.jsx)(N,{file:M,inputText:"Choose an asset\u2026",choose:ne}),M?(0,l.jsx)(w,{file:M,addToList:function(){return A((0,i.Z)(Y).concat([M])),X(void 0)},remove:function(){return X(void 0)}}):(0,l.jsx)(l.Fragment,{}),(0,l.jsx)("div",{style:{border:"1px solid #D3D3D3",margin:"20px 0px"}}),Y.map((function(e){return(0,l.jsx)(w,{file:e,remove:function(){return A(Y.filter((function(t){return t.hash!==e.hash})))}},e.hash)})),Y.length>0?(0,l.jsx)("div",{style:{border:"1px solid #D3D3D3",margin:"20px 0px"}}):(0,l.jsx)(l.Fragment,{}),0===J?(0,l.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"center",margin:"20px 0px"},children:(0,l.jsx)("button",{className:"button is-dark",onClick:re,children:"Upload metadata"})}):1===J?(0,l.jsx)("progress",{className:"progress is-small is-primary",max:"100",children:"15%"}):2===J?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("pre",{style:{width:"100%",textAlign:"center",overflow:"hidden",textWrap:"balance",wordBreak:"break-all"},children:Q}),(0,l.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"center",margin:"20px 0px"},children:(0,l.jsx)("button",{className:"button is-dark",onClick:function(){a(""),h(""),g([{title:"",url:""}]),_([{key:"",value:"",type:""}]),F([]),L(void 0),I([]),z(void 0),A([]),X(void 0),U(0),K("")},children:"Reset"})})]}):(0,l.jsx)(l.Fragment,{})]})]})}},46601:function(){},89214:function(){},85568:function(){},47990:function(){},38497:function(){},52361:function(){},94616:function(){}},function(e){e.O(0,[655,723,774,888,179],(function(){return t=55839,e(e.s=t);var t}));var t=e.O();_N_E=t}]);