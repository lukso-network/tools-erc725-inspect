(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[343],{16513:(e,s,n)=>{"use strict";n.r(s),n.d(s,{default:()=>p});var r=n(37876),a=n(77328),t=n.n(a),c=n(14232),l=n(1846),i=n(38391),d=n(79023);let o=()=>{let e=(0,i.A)(),[s,n]=(0,c.useState)(""),[a,t]=(0,c.useState)(""),[o,h]=(0,c.useState)(""),[m,u]=(0,c.useState)(""),[x,j]=(0,c.useState)(!1),[p,N]=(0,c.useState)(!1),g=async()=>{if(!e)return;let n=new e.eth.Contract(l.HV,e.utils.toChecksumAddress(s)),r=await n.methods.supportsInterface("0x6f4df48b").call(),t=await n.methods.supportsInterface("0xc403d48f").call();r||t?(u(await n.methods.getNonce(a,o).call()),j(!0),N(!1)):(j(!1),N(!0))};return(0,r.jsxs)("div",{className:"container mt-5",children:[(0,r.jsx)("h2",{className:"title is-2",children:"Nonce"}),(0,r.jsx)("article",{className:"message is-info",children:(0,r.jsxs)("div",{className:"message-body",children:["Retrieve the nonce of a"," ",(0,r.jsx)("a",{href:"https://docs.lukso.tech/standards/accounts/lsp0-erc725account",target:"_blank",rel:"noreferrer",className:"ml-1",children:"LSP0 ERC725Account"}),"'s"," ",(0,r.jsx)("a",{href:"https://docs.lukso.tech/standards/access-control/lsp6-key-manager#introduction",target:"_blank",rel:"noreferrer",children:"controller address"})," ","for a specific"," ",(0,r.jsx)("a",{href:"https://docs.lukso.tech/standards/access-control/lsp6-key-manager",target:"_blank",rel:"noreferrer",children:"LSP6 KeyManager"})," ","smart contract."]})}),(0,r.jsx)("article",{className:"message",children:(0,r.jsxs)("div",{className:"message-body",children:["It's calling the"," ",(0,r.jsx)("a",{href:"".concat(d.d8.LSP25,"#getnonce"),target:"_blank",rel:"noreferrer",children:"getNonce"})," ","function of the"," ",(0,r.jsx)("a",{href:d.d8.LSP25,target:"_blank",rel:"noreferrer",children:"LSP25 ExecuteRelayCall"})," ","standardization that every"," ",(0,r.jsx)("a",{href:"https://docs.lukso.tech/standards/access-control/lsp6-key-manager",target:"_blank",rel:"noreferrer",children:"LSP6 KeyManager"})," ","inherits."]})}),(0,r.jsxs)("div",{className:"columns mt-2",children:[(0,r.jsx)("div",{className:"column",children:(0,r.jsx)("div",{className:"field",children:(0,r.jsxs)("p",{className:"control has-icons-left",children:[(0,r.jsx)("input",{className:"input",type:"text",placeholder:"Key Manager Address",onChange:e=>{n(e.target.value)}}),(0,r.jsx)("span",{className:"icon is-small is-left",children:"\uD83D\uDD10"})]})})}),(0,r.jsx)("div",{className:"column",children:(0,r.jsx)("div",{className:"field",children:(0,r.jsxs)("p",{className:"control has-icons-left",children:[(0,r.jsx)("input",{className:"input",type:"text",placeholder:"Controller Address",onChange:e=>t(e.target.value)}),(0,r.jsx)("span",{className:"icon is-small is-left",children:"➡️ "})]})})}),(0,r.jsx)("div",{className:"column",children:(0,r.jsx)("div",{className:"field",children:(0,r.jsxs)("p",{className:"control has-icons-left",children:[(0,r.jsx)("input",{className:"input",type:"text",placeholder:"Channel ID",onChange:e=>h(e.target.value)}),(0,r.jsx)("span",{className:"icon is-small is-left",children:"\uD83D\uDEAA"})]})})}),(0,r.jsx)("div",{className:"column",children:(0,r.jsx)("button",{className:"button is-success",onClick:async()=>{await g()},children:"Get Nonce"})})]}),(0,r.jsxs)("div",{className:"notification is-danger is-light",style:{display:p?"block":"none"},children:["address ",(0,r.jsx)("code",{children:s})," is not a KeyManager"]}),(0,r.jsxs)("div",{className:"notification is-success is-light",style:{display:x?"block":"none"},children:["Nonce = ",(0,r.jsx)("code",{children:m})]})]})};var h=n(23346);let m=e=>{let{permissions:s,color:n,decodedPermissions:a,handlePermissionClick:t}=e;return(0,r.jsx)("div",{className:"buttons",children:s.map(e=>(0,r.jsx)("button",{className:"button ".concat(n," ").concat(!a[e]&&"is-outlined"),onClick:s=>{s.preventDefault(),t(e)},children:e},e))})};var u=n(36397),x=n(24198);let j=()=>{let e="0x0000000000000000000000000000000000000000000000000000000000000001",[s,n]=(0,c.useState)(e),[a,t]=(0,c.useState)(h.Ay.decodePermissions(e)),l=e=>{console.log("updatedDecodedPermissions",e),a[e]=!a[e],t(a),n(h.Ay.encodePermissions(a))};return(0,r.jsxs)("div",{className:"container container-key-manager",children:[(0,r.jsx)("h2",{className:"title is-2",children:"Permissions"}),(0,r.jsx)(u.A,{erc725jsMethod:["encodePermissions","decodePermissions"],description:(0,r.jsxs)(r.Fragment,{children:["Encode and decode"," ",(0,r.jsx)("a",{href:"".concat(d.Ks.LSP6,"#address-permissions"),target:"_blank",rel:"noreferrer",children:"permissions"})," ","based on the"," ",(0,r.jsx)("a",{href:d.Ks.LSP6,target:"_blank",rel:"noreferrer",children:"LSP6 Key Manager"})," ","standard."]})}),(0,r.jsx)("div",{className:"columns",children:(0,r.jsx)("div",{className:"column",children:(0,r.jsx)("input",{className:"input is-medium",type:"text",placeholder:"0x0000000000000000000000000000000000000000000000000000000000000001",value:s,onChange:e=>(e=>{try{n(e),t(h.Ay.decodePermissions(e))}catch(e){console.log(e.message)}})(e.target.value)})})}),(0,r.jsxs)("div",{className:"columns",children:[(0,r.jsx)("div",{className:"column is-two-thirds",children:(0,r.jsxs)("table",{className:"table is-fullwidth mb-4",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Category"}),(0,r.jsx)("th",{children:"Permissions"})]})}),(0,r.jsxs)("tbody",{children:[(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:(0,r.jsx)("strong",{className:"mb-2 ",children:"Administration & Ownership"})}),(0,r.jsx)("td",{children:(0,r.jsx)(m,{permissions:["CHANGEOWNER","ADDCONTROLLER","EDITPERMISSIONS"],color:"is-red",decodedPermissions:a,handlePermissionClick:l})})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:(0,r.jsx)("strong",{className:"mb-2 ",children:"LSP17 Extensions"})}),(0,r.jsxs)("td",{children:[" ",(0,r.jsx)(m,{permissions:["ADDEXTENSIONS","CHANGEEXTENSIONS"],color:"is-extension",decodedPermissions:a,handlePermissionClick:l})]})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:(0,r.jsx)("strong",{className:"mb-2 ",children:"LSP1 Universal Receivers Delegates"})}),(0,r.jsxs)("td",{children:[" ",(0,r.jsx)(m,{permissions:["ADDUNIVERSALRECEIVERDELEGATE","CHANGEUNIVERSALRECEIVERDELEGATE"],color:"is-fuschia",decodedPermissions:a,handlePermissionClick:l})]})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:(0,r.jsx)("strong",{className:"mb-2 ",children:"Contract Interactions"})}),(0,r.jsxs)("td",{children:[" ",(0,r.jsx)(m,{permissions:["SUPER_TRANSFERVALUE","TRANSFERVALUE","SUPER_CALL","CALL","SUPER_STATICCALL","STATICCALL","DEPLOY"],color:"is-yellow",decodedPermissions:a,handlePermissionClick:l}),(0,r.jsx)(m,{permissions:["EXECUTE_RELAY_CALL"],color:"is-orange",decodedPermissions:a,handlePermissionClick:l}),(0,r.jsx)(m,{permissions:["SUPER_DELEGATECALL","DELEGATECALL","REENTRANCY"],color:"is-red",decodedPermissions:a,handlePermissionClick:l}),(0,r.jsx)(m,{permissions:["ERC4337_PERMISSION"],color:"is-grey",decodedPermissions:a,handlePermissionClick:l})]})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:(0,r.jsx)("strong",{className:"mb-2 ",children:"Metadata"})}),(0,r.jsxs)("td",{children:[" ",(0,r.jsx)(m,{permissions:["SUPER_SETDATA","SETDATA"],color:"is-blue",decodedPermissions:a,handlePermissionClick:l})]})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:(0,r.jsx)("strong",{className:"mb-2 ",children:"Signing Verification"})}),(0,r.jsxs)("td",{children:[" ",(0,r.jsx)(m,{permissions:["SIGN","ENCRYPT","DECRYPT"],color:"is-purple",decodedPermissions:a,handlePermissionClick:l})]})]})]})]})}),(0,r.jsx)("div",{className:"column is-one-third",children:(0,r.jsx)("div",{className:"mb-4 p-4 has-background-light",children:(0,r.jsx)(x.A,{sourceCode:JSON.stringify(a,void 0,2),readOnly:!0})})})]})]})},p=()=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t(),{children:(0,r.jsx)("title",{children:"Key Manager - ERC725 Tools"})}),(0,r.jsx)(j,{}),(0,r.jsx)(o,{})]})},24198:(e,s,n)=>{"use strict";n.d(s,{A:()=>h});var r=n(37876),a=n(14232),t=n(18847),c=n.n(t),l=n(15464),i=n(47088),d=n(90558);let o=c()(()=>n.e(486).then(n.bind(n,28486)),{loadableGenerated:{webpack:()=>[null]},ssr:!1}),h=e=>{let{sourceCode:s,handleChange:n,readOnly:t}=e,c=(0,a.useMemo)(()=>(0,l.Pq)(),[]),h=(0,a.useMemo)(()=>[c,d.Lz.lineWrapping],[c]);return(0,r.jsx)(o,{value:s,theme:i.al,readOnly:t,basicSetup:{lineNumbers:!1,foldGutter:!1},extensions:h,onChange:n&&(e=>n(e)),style:{width:"100%"}})}},36397:(e,s,n)=>{"use strict";n.d(s,{A:()=>c});var r=n(37876);n(14232);var a=n(79023);let t=e=>{let{methods:s}=e;return(0,r.jsx)(r.Fragment,{children:s.map((e,n)=>{let t=a.Cq[e],c=n===s.length-1,l=n===s.length-2;return(0,r.jsxs)("span",{children:[(0,r.jsx)("a",{href:t,target:"_blank",rel:"noreferrer",children:(0,r.jsxs)("code",{children:[e,"(…)"]})}),l?" and ":c?" ":", "]},e)})})},c=e=>{let{description:s,erc725jsMethod:n}=e,c=Array.isArray(n)?n:[n];return(0,r.jsx)("article",{className:"message is-info content",children:(0,r.jsxs)("div",{className:"message-body",children:[(0,r.jsx)("p",{children:s}),(0,r.jsxs)("p",{children:["It uses the ",(0,r.jsx)(t,{methods:c}),"function",c.length>1&&"s"," of the"," ",(0,r.jsx)("a",{href:a.YP.erc725js,target:"_blank",rel:"noreferrer",children:"erc725.js"})," ","library."]})]})})}},38391:(e,s,n)=>{"use strict";n.d(s,{A:()=>l});var r=n(14232),a=n(34912),t=n.n(a),c=n(13657);function l(){let[e,s]=(0,r.useState)(),{network:n}=(0,r.useContext)(c.u);return(0,r.useEffect)(()=>{(async()=>new(t())(n.rpc))().then(e=>{s(e)})},[n]),e}},79023:(e,s,n)=>{"use strict";n.d(s,{Cq:()=>l,Ks:()=>t,YP:()=>i,Yy:()=>r,d8:()=>a});let r="https://api.universalprofile.cloud/ipfs",a={ERC725Y:"https://github.com/ERC725Alliance/ERC725/blob/develop/docs/ERC-725.md#erc725y",LSP2:"https://github.com/lukso-network/LIPs/blob/main/LSPs/LSP-2-ERC725YJSONSchema.md",LSP25:"https://github.com/lukso-network/LIPs/blob/main/LSPs/LSP-25-ExecuteRelayCall.md",LSP26:"https://github.com/lukso-network/LIPs/blob/main/LSPs/LSP-26-FollowerSystem.md"},t={ERC725Y:"https://docs.lukso.tech/standards/universal-profile/lsp0-erc725account#erc725y",LSP0:"https://docs.lukso.tech/standards/accounts/lsp0-erc725account/",LSP2:"https://docs.lukso.tech/standards/metadata/lsp2-json-schema/",LSP6:"https://docs.lukso.tech/standards/access-control/lsp6-key-manager/"},c="https://docs.lukso.tech/tools/dapps/erc725js/methods/",l={fetchData:"".concat(c,"#fetchdata"),getData:"".concat(c,"#getdata"),encodeData:"".concat(c,"#encodedata"),decodeData:"".concat(c,"#decodedata"),encodePermissions:"".concat(c,"#encodepermissions"),decodePermissions:"".concat(c,"#decodepermissions")},i={erc725js:"https://www.npmjs.com/package/@erc725/erc725.js"}},98156:(e,s,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/key-manager",function(){return n(16513)}])}},e=>{e.O(0,[754,212,346,937,717,636,593,792],()=>e(e.s=98156)),_N_E=e.O()}]);