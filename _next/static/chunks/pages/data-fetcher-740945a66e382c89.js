(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[422],{43492:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>L});var t=s(37876),r=s(14232),n=s(77328),l=s.n(n),i=s(89099),c=s(57512),d=s(65859),o=s(38047),u=s(45957),h=s(13657),p=s(91788),m=s(9833),y=s(36397),v=s(86105),x=s(61444),f=s(20539),j=s(57018),b=s(91751),k=s(80551);let N=JSON.parse('[{"name":"SupportedStandards:LSP9Vault","key":"0xeafec4d89fa9619884b600007c0334a14085fefa8b51ae5a40895018882bdb90","keyType":"Mapping","valueType":"bytes4","valueContent":"0x7c0334a1"},{"name":"LSP1UniversalReceiverDelegate","key":"0x0cfc51aec37c55a4d0b1a65c6255c4bf2fbdf6277f3cc0730c45b828b6db8b47","keyType":"Singleton","valueType":"address","valueContent":"Address"},{"name":"LSP1UniversalReceiverDelegate:<bytes32>","key":"0x0cfc51aec37c55a4d0b10000<bytes32>","keyType":"Mapping","valueType":"address","valueContent":"Address"},{"name":"LSP17Extension:<bytes4>","key":"0xcee78b4094da860110960000<bytes4>","keyType":"Mapping","valueType":"address","valueContent":"Address"}]');var g=s(62564),S=s(25764);let E=JSON.parse('[{"name":"LSP17Extension:<bytes4>","key":"0xcee78b4094da860110960000<bytes4>","keyType":"Mapping","valueType":"address","valueContent":"Address"}]');var w=s(32029),C=s(5843),P=s(62132),_=s(79023),A=s(80970),R=s(45693);let T=[...v.map(e=>{let{name:a,key:s}=e;return{name:a,key:s,icon:"\uD83D\uDCE2"}}),...x.filter(e=>{let{name:a}=e;return"SupportedStandards:LSP3Profile"===a||"LSP3Profile"==a}).map(e=>{let{name:a,key:s}=e;return{name:a,key:s,icon:"\uD83D\uDC64"}}),...f.map(e=>{let{name:a,key:s}=e;return{name:a,key:s,icon:"\uD83D\uDD35"}}),...j.map(e=>{let{name:a,key:s}=e;return{name:a,key:s,icon:"\uD83D\uDCB0"}}),...b.map(e=>{let{name:a,key:s}=e;return{name:a,key:s,icon:"\uD83D\uDD11"}}),...k.map(e=>{let{name:a,key:s}=e;return{name:a,key:s,icon:"\uD83D\uDDBC️"}}),{name:N[0].name,key:N[0].key,icon:"\uD83D\uDD12"},...g.map(e=>{let{name:a,key:s}=e;return{name:a,key:s,icon:"\uD83D\uDD12"}}),...S.map(e=>{let{name:a,key:s}=e;return{name:a,key:s,icon:"\uD83D\uDDBC️"}}),...E.map(e=>{let{name:a,key:s}=e;return{name:a,key:s,icon:"\uD83D\uDC8E"}}),{name:A._i.name,key:A._i.key,icon:"\uD83C\uDF10"}],L=()=>{let[e,a]=(0,r.useState)(""),[s,n]=(0,r.useState)(""),[L,Y]=(0,r.useState)(T[0].key),[D,U]=(0,r.useState)(""),[X,O]=(0,r.useState)(""),[F,M]=(0,r.useState)(""),[q,J]=(0,r.useState)(void 0),[V,I]=(0,r.useState)({isErc725X:!1,isErc725Y:!1}),[W,B]=(0,r.useState)(),K=(0,i.useRouter)(),{network:G}=(0,r.useContext)(h.u),z=[...v,...x,...f,...j,...b,...k,...N,...g,...S,...E,A._i];(0,r.useEffect)(()=>{let e=K.query.address,s=K.query.dataKey;e&&"string"==typeof e&&a(e),s&&"string"==typeof s&&Y(s)},[K.query]);let H=(e,a)=>{let s=new URL(window.location.href);s.searchParams.set("address",e),s.searchParams.set("datakey",a),K.replace(s.href,void 0,{shallow:!0})},Q=async e=>{if(G){if(a(e),O(""),H(e,L),e.startsWith("0x")||0===e.length||a("0x".concat(e)),!(0,c.P)(e)){n("Please enter a valid address"),I({isErc725X:!1,isErc725Y:!1});return}n(""),I(await (0,C.S)(e,G))}},Z=a=>(Y(a),O(""),H(e,a),0===a.length)?void U(""):(0,d.q)(a)?(a.startsWith("0x")||Y("0x".concat(a)),32!==(0,o.E)(a))?void U("Invalid data key. Please enter a 32 bytes long data key"):void U(""):void U("Invalid data key. Please enter a valid hex string"),$=async()=>{if(!G||!W)return;if(!V.isErc725Y)return void console.log("Contract not compatible with ERC725");let a=await (0,w.b)(e,L,G);if(a){let e;if(O(a),L===A._i.key)return void J(A._i);let s=(0,u._w)(L);if(!s){J(void 0),console.error("Unknown schema");return}let{name:t,keyType:r,valueType:n,valueContent:l}=s;if((0,u.ws)(t)){let{dynamicName:i,dynamicKeyParts:c}=s;J({name:t,key:L,keyType:r,valueType:n,valueContent:l,dynamicKeyParts:c,dynamicName:i}),e=W.decodeData([{keyName:s.name,dynamicKeyParts:c,value:a}])}else J(s),e=W.decodeData([{keyName:t,value:a}]);M("VerifiableURI"==l?JSON.stringify(e[0].value,null,4):e[0].value)}else O("0x"),M("no data to decode \uD83E\uDD37")};return(0,r.useEffect)(()=>{B(new u.Ay(z,e,G.rpcUrl,{ipfsGateway:"".concat(_.Yy,"/")}))},[e,G]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(l(),{children:(0,t.jsx)("title",{children:"getData - ERC725 Tools"})}),(0,t.jsxs)("div",{className:"container",children:[(0,t.jsx)("h2",{className:"title is-2",children:"Data Fetcher"}),(0,t.jsx)(y.A,{erc725jsMethod:"decodeData",description:(0,t.jsxs)(t.Fragment,{children:["Retrieve the value under a specific"," ",(0,t.jsx)("a",{href:_.d8.ERC725Y,target:"_blank",rel:"noreferrer",children:"ERC725Y"})," ","data key and decode it according to its known"," ",(0,t.jsxs)("a",{href:"".concat(_.d8.LSP2,"#valueContent"),target:"_blank",rel:"noreferrer",children:["LSP2 ",(0,t.jsx)("code",{children:"valueContent"})]})]})}),(0,t.jsx)("div",{className:"is-flex",children:(0,t.jsxs)("div",{className:"is-half",children:[(0,t.jsxs)("div",{className:"field",children:[(0,t.jsx)("label",{className:"label",children:"Contract Address"}),(0,t.jsxs)("div",{className:"control",children:[(0,t.jsx)("input",{className:"input",type:"text",placeholder:"Enter a UP, LSP7 or LSP8 address",value:e,onChange:e=>Q(e.target.value)}),(0,t.jsx)(m.A,{onClick:e=>Q(e)})]}),""!==s&&(0,t.jsx)("p",{className:"help is-danger",children:s}),!1===V.isErc725Y&&(0,t.jsx)("p",{className:"help is-danger",children:"Contract not ERC725 compatible"}),(V.isErc725X||V.isErc725Y)&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("p",{className:"help is-success my-3",children:["ERC725X: ",V.isErc725X?"✅":"❌"," - ERC725Y"," ",V.isErc725Y?"✅":"❌"]}),(0,t.jsx)(R.A,{address:e,showAddress:!1})]})]}),(0,t.jsxs)("div",{className:"field",children:[(0,t.jsx)("label",{className:"label",children:"Data Key"}),(0,t.jsx)("div",{className:"select mb-4 is-fullwidth",children:(0,t.jsx)("select",{value:L,onChange:e=>Z(e.target.value),className:"is-fullwidth",children:T.map((e,a)=>(0,t.jsxs)("option",{value:e.key,children:[e.icon," \xa0",e.name]},a))})}),(0,t.jsx)("br",{}),(0,t.jsx)("div",{className:"control",children:(0,t.jsx)("input",{className:"input",type:"text",placeholder:v[0].key,value:L,onChange:e=>Z(e.target.value)})}),""!==D&&(0,t.jsx)("p",{className:"help is-danger",children:D})]}),(0,t.jsx)("button",{className:"button is-primary",type:"button",disabled:""===e||""===L||""!==s||""!==D||!V.isErc725Y,onClick:$,children:"getData"})]})}),(0,t.jsx)("hr",{}),X&&(0,t.jsx)("div",{className:"is-full-width",children:q?(0,t.jsx)(p.A,{address:e,data:{key:L,value:X,schema:q}}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"columns is-vcentered my-2",children:[(0,t.jsx)("span",{className:"mr-3",children:"Encoded Value:"}),(0,t.jsx)("pre",{style:{wordBreak:"break-all",whiteSpace:"pre-wrap"},children:X})]}),(0,t.jsxs)("div",{className:"columns is-vcentered my-2",children:[(0,t.jsx)("span",{className:"mr-3",children:"Decoded Value"}),(0,t.jsx)("pre",{style:{wordBreak:"break-all",whiteSpace:"pre-wrap"},children:L.startsWith(P.e1["AddressPermissions:Permissions"])?JSON.stringify(u.Ay.decodePermissions(X),void 0,2):F})]})]})})]})]})}},66200:(e,a,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/data-fetcher",function(){return s(43492)}])}},e=>{e.O(0,[0,212,80,957,864,225,879,726,73,636,593,792],()=>e(e.s=66200)),_N_E=e.O()}]);