(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[86],{55839:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/lsp4-metadata-encoder",function(){return t(16251)}])},16251:function(e,n,t){"use strict";t.r(n);var r=t(47568),a=t(26042),i=t(29815),s=t(97582),l=t(85893),o=t(9008),u=t.n(o),c=t(67294),d=t(90512),h=t(47935),p=t.n(h),f=t(18269),x=t(53655),m=t(56517),b=t(67814),y=t(60769),g=t(42561),v=t(48764).Buffer,j=new x.ZP(m),w=v.from("Y2hpZTZwaGUxb29naDhpZVp1b2szZXNoaWV4YWhTaDF6YWk2c2hhaHNoYWhwaHVlR2F6b3RhZTJqb3VyNWViYQ==\n","base64").toString(),k=function(e){var n=e.file,t=e.inputText,r=e.choose;return(0,l.jsx)("div",{className:"file has-name is-right is-fullwidth",children:(0,l.jsxs)("label",{className:"file-label",children:[(0,l.jsx)("input",{className:"file-input",type:"file",name:"",onChange:r}),(0,l.jsxs)("span",{className:"file-cta",children:[(0,l.jsx)("span",{className:"file-icon",children:(0,l.jsx)(b.G,{icon:{prefix:"fas",iconName:"upload"}})}),(0,l.jsx)("span",{className:"file-label",children:"Choose"})]}),(0,l.jsx)("span",{className:"file-name",children:n?n.name:t})]})})},N=function(e){var n=e.file,t=n.image,r=n.name,i=n.type,s=e.remove,o=e.addToList;return(0,l.jsxs)("div",{style:{width:"100%",padding:0,margin:"20px 0px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t?(0,l.jsx)("img",{alt:"",src:t,style:{padding:0,maxWidth:"50px"}}):(0,l.jsx)("div",{style:{maxWidth:"50px"},children:(0,l.jsx)(y.a,(0,a.Z)({},i&&{type:i.split("/")[0]}||{extension:r.substring(r.lastIndexOf(".")+1)}))}),(0,l.jsx)("p",{children:r}),o?(0,l.jsxs)("div",{style:{display:"flex",gap:"8px"},children:[(0,l.jsx)("button",{className:"button is-dark",onClick:o,children:"Add to list"}),(0,l.jsx)("button",{className:"button is-dark",onClick:s,children:"Remove"})]}):(0,l.jsx)("button",{className:"button is-dark",onClick:s,children:"Remove"})]})},D=function(e){var n=e.selectedType,t=e.onChange,r=(0,c.useState)(!1),a=r[0],i=r[1],s=(0,c.useState)(n),o=s[0],u=s[1];return(0,l.jsxs)("div",{className:(0,d.Z)("dropdown",a&&"is-active"),children:[(0,l.jsx)("div",{className:"dropdown-trigger",children:(0,l.jsxs)("button",{className:"button","aria-haspopup":"true","aria-controls":"dropdown-menu",onClick:function(){return i(!a)},children:[(0,l.jsx)("span",{children:o||"Type"}),(0,l.jsx)("span",{className:"file-icon",style:{margin:"0 0 0 16px"},children:(0,l.jsx)(b.G,{icon:{prefix:"fas",iconName:"angle-down"}})})]})}),(0,l.jsx)("div",{className:"dropdown-menu",id:"dropdown-menu",role:"menu",children:(0,l.jsxs)("div",{className:"dropdown-content",style:{background:"#F0F0F0"},children:[(0,l.jsx)("button",{className:"dropdown-item",style:{border:"none"},onClick:function(){return t("string"),u("string"),i(!1)},children:"String"}),(0,l.jsx)("button",{className:"dropdown-item",style:{border:"none"},onClick:function(){return t("number"),u("number"),i(!1)},children:"Number"}),(0,l.jsx)("button",{className:"dropdown-item",style:{border:"none"},onClick:function(){return t("boolean"),u("boolean"),i(!1)},children:"Boolean"})]})})]})};n.default=function(){var e=new g.DE("https://api.universalprofile.cloud/api/v0/add",w),n=(0,c.useState)(""),t=n[0],a=n[1],o=(0,c.useState)(""),d=o[0],h=o[1],x=(0,c.useState)([{title:"",url:""}]),m=x[0],y=x[1],C=(0,c.useState)([{key:"",value:"",type:""}]),S=C[0],_=C[1],Z=(0,c.useState)([]),T=Z[0],F=Z[1],A=(0,c.useState)(),W=A[0],E=A[1],B=(0,c.useState)([]),L=B[0],U=B[1],G=(0,c.useState)(),R=G[0],I=G[1],P=(0,c.useState)([]),Y=P[0],z=P[1],V=(0,c.useState)(),O=V[0],H=V[1],M=(0,c.useState)(0),X=M[0],J=M[1],q=(0,c.useState)(""),K=q[0],Q=q[1],$=function(){var e=(0,r.Z)((function(e){var n,t,r,a,i,l,o;return(0,s.__generator)(this,(function(s){switch(s.label){case 0:return(null===(n=e.target.files)||void 0===n?void 0:n.length)?(t=e.target.files[0],r=t.name,a=t.type,[4,t.arrayBuffer()]):[3,2];case 1:return i=s.sent(),l=v.from(i),o=(0,f.keccak256)("0x".concat(l.toString("hex"))),[2,{name:r,type:a,hash:o,buffer:l}];case 2:return[2]}}))}));return function(n){return e.apply(this,arguments)}}(),ee=function(){var e=(0,r.Z)((function(e){var n,t,r,a,i,l,o,u,c;return(0,s.__generator)(this,(function(s){switch(s.label){case 0:return[4,$(e)];case 1:if(n=s.sent()){if(t=n.name,r=n.type,a=n.hash,i=n.buffer,!r.startsWith("image/"))return[2];if(l="data:".concat(r,";base64,").concat(i.toString("base64")),o=p()(new Uint8Array(i)),u=o.height,c=o.width,!u||!c)return[2];E({name:t,type:r,hash:a,buffer:i,image:l,width:c,height:u})}return[2]}}))}));return function(n){return e.apply(this,arguments)}}(),ne=function(){var e=(0,r.Z)((function(e){var n,t,r,a,i,l,o,u,c;return(0,s.__generator)(this,(function(s){switch(s.label){case 0:return[4,$(e)];case 1:if(n=s.sent()){if(t=n.name,r=n.type,a=n.hash,i=n.buffer,!r.startsWith("image/"))return[2];if(l="data:".concat(r,";base64,").concat(i.toString("base64")),o=p()(new Uint8Array(i)),u=o.height,c=o.width,!u||!c)return[2];I({name:t,type:r,hash:a,buffer:i,image:l,width:c,height:u})}return[2]}}))}));return function(n){return e.apply(this,arguments)}}(),te=function(){var e=(0,r.Z)((function(e){var n,t,r,a,i;return(0,s.__generator)(this,(function(s){switch(s.label){case 0:return[4,$(e)];case 1:return(n=s.sent())&&(t=n.name,r=n.type,a=n.hash,i=n.buffer,H({name:t,type:r,hash:a,buffer:i})),[2]}}))}));return function(n){return e.apply(this,arguments)}}(),re=function(){var n=(0,r.Z)((function(){var n,r,a,i,l,o,u,c,h,p,f,x,b,y,g,k,N,D,C,_,Z,F,A,W,E,B,U,G,R,I,P,z,V,O,H,M,X,q,K,$;return(0,s.__generator)(this,(function(s){switch(s.label){case 0:if(!w)return console.error("SHARED_KEY environment variable is not set"),[2];J(1),n=[],r=!0,a=!1,i=void 0,s.label=1;case 1:s.trys.push([1,6,7,8]),l=T[Symbol.iterator](),s.label=2;case 2:return(r=(o=l.next()).done)?[3,5]:(u=o.value,c=u.buffer,h=u.width,p=u.height,[4,e.upload(new Blob([new Uint8Array(c)]))]);case 3:f=s.sent(),x=f.url,b=f.hash,n.push({width:h,height:p,url:x,verification:{method:"keccak256(bytes)",data:b}}),s.label=4;case 4:return r=!0,[3,2];case 5:return[3,8];case 6:return X=s.sent(),a=!0,i=X,[3,8];case 7:try{r||null==l.return||l.return()}finally{if(a)throw i}return[7];case 8:y=[],g=!0,k=!1,N=void 0,s.label=9;case 9:s.trys.push([9,14,15,16]),D=L[Symbol.iterator](),s.label=10;case 10:return(g=(C=D.next()).done)?[3,13]:(_=C.value,Z=_.buffer,F=_.width,A=_.height,[4,e.upload(new Blob([new Uint8Array(Z)]))]);case 11:W=s.sent(),E=W.url,B=W.hash,y.push({width:F,height:A,url:E,verification:{method:"keccak256(bytes)",data:B}}),s.label=12;case 12:return g=!0,[3,10];case 13:return[3,16];case 14:return X=s.sent(),k=!0,N=X,[3,16];case 15:try{g||null==D.return||D.return()}finally{if(k)throw N}return[7];case 16:U=[],G=!0,R=!1,I=void 0,s.label=17;case 17:s.trys.push([17,22,23,24]),P=Y[Symbol.iterator](),s.label=18;case 18:return(G=(z=P.next()).done)?[3,21]:(V=z.value,[4,e.upload(new Blob([new Uint8Array(V.buffer)]))]);case 19:O=s.sent(),H=O.url,M=O.hash,U.push({url:H,verification:{method:"keccak256(bytes)",data:M}}),s.label=20;case 20:return G=!0,[3,18];case 21:return[3,24];case 22:return X=s.sent(),R=!0,I=X,[3,24];case 23:try{G||null==P.return||P.return()}finally{if(R)throw I}return[7];case 24:return q={LSP4Metadata:{name:t,description:d,links:m.filter((function(e){var n=e.title,t=e.url;return n&&t})),attributes:S.filter((function(e){var n=e.key,t=e.value,r=e.type;return n&&t&&r})),icon:n,images:[y],assets:U}},[4,e.upload(new Blob([new Uint8Array(v.from(JSON.stringify(q)))]))];case 25:return K=s.sent().url,$=j.encodeData([{keyName:"LSP4Metadata",value:{json:q,url:K}}]).values,console.log($),Q($[0]),J(2),[2]}}))}));return function(){return n.apply(this,arguments)}}();return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(u(),{children:(0,l.jsx)("title",{children:"LSP4 Metadata - ERC725 Tools"})}),(0,l.jsxs)("div",{className:"container is-fullwidth",children:[(0,l.jsx)("input",{className:"input mb-2",type:"text",placeholder:"name",onChange:function(e){return a(e.target.value)}}),(0,l.jsx)("textarea",{className:"textarea is-fullwidth",placeholder:"description",onChange:function(e){return h(e.target.value)}}),(0,l.jsx)("div",{style:{border:"1px solid #D3D3D3",margin:"20px 0px"}}),(0,l.jsx)("p",{className:"mb-2",children:"Links"}),(0,l.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:m.map((function(e,n){var t=e.title,r=e.url;return(0,l.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,l.jsx)("input",{className:"input",type:"text",placeholder:"link title",onChange:function(e){var t=m;t[n].title=e.target.value,y(t)}}),(0,l.jsx)("input",{className:"input",type:"text",placeholder:"link url",onChange:function(e){var t=m;t[n].url=e.target.value,y(t)}}),n===m.length-1?(0,l.jsx)("button",{style:{border:"none",background:"transparent",cursor:"pointer"},onClick:function(){return m[m.length-1].title&&m[m.length-1].url?y((0,i.Z)(m).concat([{title:"",url:""}])):null},children:(0,l.jsx)(b.G,{icon:{prefix:"fas",iconName:"plus-circle"},size:"2x",color:"#808080"})}):(0,l.jsx)("button",{style:{border:"none",background:"transparent",cursor:"pointer"},onClick:function(){return y(m.filter((function(e){return e.title!==t&&e.url!==r})))},children:(0,l.jsx)(b.G,{icon:{prefix:"fas",iconName:"minus-circle"},size:"2x",color:"#808080"})})]},n)}))}),(0,l.jsx)("div",{style:{border:"1px solid #D3D3D3",margin:"20px 0px"}}),(0,l.jsx)("p",{className:"mb-2",children:"Attributes"}),(0,l.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:S.map((function(e,n){var t=e.key,r=e.value,a=e.type;return(0,l.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,l.jsx)("input",{className:"input",type:"text",placeholder:"attribute kind",onChange:function(e){var t=S;t[n].key=e.target.value,_(t)}}),(0,l.jsx)("input",{className:"input",type:"text",placeholder:"attribute name",onChange:function(e){var t=S;t[n].value=e.target.value,_(t)}}),(0,l.jsx)(D,{selectedType:S[n].type,onChange:function(e){var t=S;t[n].type=e,_(t)}}),n===S.length-1?(0,l.jsx)("button",{style:{border:"none",background:"transparent",cursor:"pointer"},onClick:function(){return S[S.length-1].key&&S[S.length-1].value&&S[S.length-1].type?_((0,i.Z)(S).concat([{key:"",value:"",type:""}])):null},children:(0,l.jsx)(b.G,{icon:{prefix:"fas",iconName:"plus-circle"},size:"2x",color:"#808080"})}):(0,l.jsx)("button",{style:{border:"none",background:"transparent",cursor:"pointer"},onClick:function(){return _(S.filter((function(e){return e.key!==t&&e.value!==r&&e.type!==a})))},children:(0,l.jsx)(b.G,{icon:{prefix:"fas",iconName:"minus-circle"},size:"2x",color:"#808080"})})]},n)}))}),(0,l.jsx)("div",{style:{border:"1px solid #D3D3D3",margin:"20px 0px"}}),(0,l.jsx)("p",{className:"mb-2",children:"Icon"}),(0,l.jsx)(k,{file:W,inputText:"Choose an icon\u2026",choose:ee}),W&&W.image?(0,l.jsx)(N,{file:W,addToList:function(){return F((0,i.Z)(T).concat([W])),E(void 0)},remove:function(){return E(void 0)}}):(0,l.jsx)(l.Fragment,{}),(0,l.jsx)("div",{style:{border:"1px solid #D3D3D3",margin:"20px 0px"}}),T.map((function(e){return(0,l.jsx)(N,{file:e,remove:function(){return F(T.filter((function(n){return n.hash!==e.hash})))}},e.hash)})),T.length>0?(0,l.jsx)("div",{style:{border:"1px solid #D3D3D3",margin:"20px 0px"}}):(0,l.jsx)(l.Fragment,{}),(0,l.jsx)("p",{className:"mb-2",children:"Images"}),(0,l.jsx)(k,{file:R,inputText:"Choose an image\u2026",choose:ne}),R&&R.image?(0,l.jsx)(N,{file:R,addToList:function(){return U((0,i.Z)(L).concat([R])),I(void 0)},remove:function(){return I(void 0)}}):(0,l.jsx)(l.Fragment,{}),(0,l.jsx)("div",{style:{border:"1px solid #D3D3D3",margin:"20px 0px"}}),L.map((function(e){return(0,l.jsx)(N,{file:e,remove:function(){return U(L.filter((function(n){return n.hash!==e.hash})))}},e.hash)})),L.length>0?(0,l.jsx)("div",{style:{border:"1px solid #D3D3D3",margin:"20px 0px"}}):(0,l.jsx)(l.Fragment,{}),(0,l.jsx)("p",{className:"mb-2",children:"Assets"}),(0,l.jsx)(k,{file:O,inputText:"Choose an asset\u2026",choose:te}),O?(0,l.jsx)(N,{file:O,addToList:function(){return z((0,i.Z)(Y).concat([O])),H(void 0)},remove:function(){return H(void 0)}}):(0,l.jsx)(l.Fragment,{}),(0,l.jsx)("div",{style:{border:"1px solid #D3D3D3",margin:"20px 0px"}}),Y.map((function(e){return(0,l.jsx)(N,{file:e,remove:function(){return z(Y.filter((function(n){return n.hash!==e.hash})))}},e.hash)})),Y.length>0?(0,l.jsx)("div",{style:{border:"1px solid #D3D3D3",margin:"20px 0px"}}):(0,l.jsx)(l.Fragment,{}),0===X?(0,l.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"center",margin:"20px 0px"},children:(0,l.jsx)("button",{className:"button is-dark",onClick:re,children:"Upload metadata"})}):1===X?(0,l.jsx)("progress",{className:"progress is-small is-primary",max:"100",children:"15%"}):2===X?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("pre",{style:{width:"100%",textAlign:"center",overflow:"hidden",textWrap:"balance",wordBreak:"break-all"},children:K}),(0,l.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"center",margin:"20px 0px"},children:(0,l.jsx)("button",{className:"button is-dark",onClick:function(){a(""),h(""),y([{title:"",url:""}]),_([{key:"",value:"",type:""}]),F([]),E(void 0),U([]),I(void 0),z([]),H(void 0),J(0),Q("")},children:"Reset"})})]}):(0,l.jsx)(l.Fragment,{})]})]})}},46601:function(){},89214:function(){},85568:function(){},47990:function(){},38497:function(){},52361:function(){},94616:function(){}},function(e){e.O(0,[655,723,774,888,179],(function(){return n=55839,e(e.s=n);var n}));var n=e.O();_N_E=n}]);