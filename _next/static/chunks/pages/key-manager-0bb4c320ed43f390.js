(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[630],{59245:function(e,s,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/key-manager",function(){return n(80818)}])},85347:function(e,s,n){"use strict";n.d(s,{Z:function(){return a}});var t=n(85893),r=(n(67294),n(8124)),c=function(e){var s=e.methods;return(0,t.jsx)(t.Fragment,{children:s.map((function(e,n){var c=r.Uw[e],a=n===s.length-1,i=n===s.length-2;return(0,t.jsxs)("span",{children:[(0,t.jsx)("a",{href:c,target:"_blank",rel:"noreferrer",children:(0,t.jsxs)("code",{children:[e,"(\u2026)"]})}),i?" and ":a?" ":", "]},e)}))})},a=function(e){var s=e.description,n=e.erc725jsMethod,a=Array.isArray(n)?n:[n];return(0,t.jsx)("article",{className:"message is-info content",children:(0,t.jsxs)("div",{className:"message-body",children:[(0,t.jsx)("p",{children:s}),(0,t.jsxs)("p",{children:["It uses the ",(0,t.jsx)(c,{methods:a}),"function",a.length>1&&"s"," of the"," ",(0,t.jsx)("a",{href:r.ZW.erc725js,target:"_blank",rel:"noreferrer",children:"erc725.js"})," ","library."]})]})})}},8124:function(e,s,n){"use strict";n.d(s,{Dj:function(){return t},Uw:function(){return i},ZW:function(){return o},fo:function(){return c},sj:function(){return r}});var t="https://api.universalprofile.cloud/ipfs",r={ERC725Y:"https://github.com/ERC725Alliance/ERC725/blob/develop/docs/ERC-725.md#erc725y",LSP2:"https://github.com/lukso-network/LIPs/blob/main/LSPs/LSP-2-ERC725YJSONSchema.md",LSP25:"https://github.com/lukso-network/LIPs/blob/main/LSPs/LSP-25-ExecuteRelayCall.md",LSP26:"https://github.com/lukso-network/LIPs/blob/main/LSPs/LSP-26-FollowerSystem.md"},c={ERC725Y:"https://docs.lukso.tech/standards/universal-profile/lsp0-erc725account#erc725y",LSP0:"https://docs.lukso.tech/standards/accounts/lsp0-erc725account/",LSP2:"https://docs.lukso.tech/standards/metadata/lsp2-json-schema/",LSP6:"https://docs.lukso.tech/standards/access-control/lsp6-key-manager/"},a="https://docs.lukso.tech/tools/dapps/erc725js/methods/",i={fetchData:"".concat(a,"#fetchdata"),getData:"".concat(a,"#getdata"),encodeData:"".concat(a,"#encodedata"),decodeData:"".concat(a,"#decodedata"),encodePermissions:"".concat(a,"#encodepermissions"),decodePermissions:"".concat(a,"#decodepermissions")},o={erc725js:"https://www.npmjs.com/package/@erc725/erc725.js"}},9366:function(e,s,n){"use strict";n.d(s,{Z:function(){return l}});var t=n(47568),r=n(97582),c=n(67294),a=n(37918),i=n.n(a),o=n(53538);function l(){var e=(0,c.useState)(),s=e[0],n=e[1],a=(0,c.useContext)(o.J).network;return(0,c.useEffect)((function(){var e=function(){var e=(0,t.Z)((function(){return(0,r.__generator)(this,(function(e){return[2,new(i())(a.rpc)]}))}));return function(){return e.apply(this,arguments)}}();e().then((function(e){n(e)}))}),[a]),s}},80818:function(e,s,n){"use strict";n.r(s),n.d(s,{default:function(){return x}});var t=n(85893),r=n(9008),c=n.n(r),a=n(47568),i=n(97582),o=n(67294),l=n(98276),d=n(9366),u=n(8124),h=function(){var e=(0,d.Z)(),s=(0,o.useState)(""),n=s[0],r=s[1],c=(0,o.useState)(""),h=c[0],m=c[1],f=(0,o.useState)(""),p=f[0],j=f[1],x=(0,o.useState)(""),N=x[0],g=x[1],E=(0,o.useState)(!1),P=E[0],S=E[1],v=(0,o.useState)(!1),C=v[0],k=v[1],b=function(){var s=(0,a.Z)((function(){var s,t,r,c;return(0,i.__generator)(this,(function(a){switch(a.label){case 0:return e?[4,(s=new e.eth.Contract(l.Mt,e.utils.toChecksumAddress(n))).methods.supportsInterface("0x6f4df48b").call()]:[2];case 1:return t=a.sent(),[4,s.methods.supportsInterface("0xc403d48f").call()];case 2:return r=a.sent(),t||r?[4,s.methods.getNonce(h,p).call()]:[3,4];case 3:return c=a.sent(),g(c),S(!0),k(!1),[3,5];case 4:S(!1),k(!0),a.label=5;case 5:return[2]}}))}));return function(){return s.apply(this,arguments)}}();return(0,t.jsxs)("div",{className:"container mt-5",children:[(0,t.jsx)("h2",{className:"title is-2",children:"Nonce"}),(0,t.jsx)("article",{className:"message is-info",children:(0,t.jsxs)("div",{className:"message-body",children:["Retrieve the nonce of a"," ",(0,t.jsx)("a",{href:"https://docs.lukso.tech/standards/accounts/lsp0-erc725account",target:"_blank",rel:"noreferrer",className:"ml-1",children:"LSP0 ERC725Account"}),"'s"," ",(0,t.jsx)("a",{href:"https://docs.lukso.tech/standards/access-control/lsp6-key-manager#introduction",target:"_blank",rel:"noreferrer",children:"controller address"})," ","for a specific"," ",(0,t.jsx)("a",{href:"https://docs.lukso.tech/standards/access-control/lsp6-key-manager",target:"_blank",rel:"noreferrer",children:"LSP6 KeyManager"})," ","smart contract."]})}),(0,t.jsx)("article",{className:"message",children:(0,t.jsxs)("div",{className:"message-body",children:["It's calling the"," ",(0,t.jsx)("a",{href:"".concat(u.sj.LSP25,"#getnonce"),target:"_blank",rel:"noreferrer",children:"getNonce"})," ","function of the"," ",(0,t.jsx)("a",{href:u.sj.LSP25,target:"_blank",rel:"noreferrer",children:"LSP25 ExecuteRelayCall"})," ","standardization that every"," ",(0,t.jsx)("a",{href:"https://docs.lukso.tech/standards/access-control/lsp6-key-manager",target:"_blank",rel:"noreferrer",children:"LSP6 KeyManager"})," ","inherits."]})}),(0,t.jsxs)("div",{className:"columns mt-2",children:[(0,t.jsx)("div",{className:"column",children:(0,t.jsx)("div",{className:"field",children:(0,t.jsxs)("p",{className:"control has-icons-left",children:[(0,t.jsx)("input",{className:"input",type:"text",placeholder:"Key Manager Address",onChange:function(e){r(e.target.value)}}),(0,t.jsx)("span",{className:"icon is-small is-left",children:"\ud83d\udd10"})]})})}),(0,t.jsx)("div",{className:"column",children:(0,t.jsx)("div",{className:"field",children:(0,t.jsxs)("p",{className:"control has-icons-left",children:[(0,t.jsx)("input",{className:"input",type:"text",placeholder:"Controller Address",onChange:function(e){return m(e.target.value)}}),(0,t.jsx)("span",{className:"icon is-small is-left",children:"\u27a1\ufe0f "})]})})}),(0,t.jsx)("div",{className:"column",children:(0,t.jsx)("div",{className:"field",children:(0,t.jsxs)("p",{className:"control has-icons-left",children:[(0,t.jsx)("input",{className:"input",type:"text",placeholder:"Channel ID",onChange:function(e){return j(e.target.value)}}),(0,t.jsx)("span",{className:"icon is-small is-left",children:"\ud83d\udeaa"})]})})}),(0,t.jsx)("div",{className:"column",children:(0,t.jsx)("button",{className:"button is-success",onClick:(0,a.Z)((function(){return(0,i.__generator)(this,(function(e){switch(e.label){case 0:return[4,b()];case 1:return e.sent(),[2]}}))})),children:"Get Nonce"})})]}),(0,t.jsxs)("div",{className:"notification is-danger is-light",style:{display:C?"block":"none"},children:["address ",(0,t.jsx)("code",{children:n})," is not a KeyManager"]}),(0,t.jsxs)("div",{className:"notification is-success is-light",style:{display:P?"block":"none"},children:["Nonce = ",(0,t.jsx)("code",{children:N})]})]})},m=n(53655),f=function(e){var s=e.permissions,n=e.color,r=e.decodedPermissions,c=e.handlePermissionClick;return(0,t.jsx)("div",{className:"buttons",children:s.map((function(e){return(0,t.jsx)("button",{className:"button ".concat(n," ").concat(!r[e]&&"is-outlined"),onClick:function(s){s.preventDefault(),c(e)},children:e},e)}))})},p=n(85347),j=function(){var e="0x0000000000000000000000000000000000000000000000000000000000000001",s=(0,o.useState)(e),n=s[0],r=s[1],c=(0,o.useState)(m.ZP.decodePermissions(e)),a=c[0],i=c[1],l=function(e){console.log("updatedDecodedPermissions",e);var s=a;s[e]=!s[e],i(s),r(m.ZP.encodePermissions(s))};return(0,t.jsxs)("div",{className:"container",children:[(0,t.jsx)("h2",{className:"title is-2",children:"Permissions"}),(0,t.jsx)(p.Z,{erc725jsMethod:["encodePermissions","decodePermissions"],description:(0,t.jsxs)(t.Fragment,{children:["Encode and decode"," ",(0,t.jsx)("a",{href:"".concat(u.fo.LSP6,"#address-permissions"),target:"_blank",rel:"noreferrer",children:"permissions"})," ","based on the"," ",(0,t.jsx)("a",{href:u.fo.LSP6,target:"_blank",rel:"noreferrer",children:"LSP6 Key Manager"})," ","standard."]})}),(0,t.jsx)("div",{className:"columns",children:(0,t.jsx)("div",{className:"column",children:(0,t.jsx)("input",{className:"input is-medium",type:"text",placeholder:"0x0000000000000000000000000000000000000000000000000000000000000001",value:n,onChange:function(e){return function(e){try{r(e),i(m.ZP.decodePermissions(e))}catch(s){console.log(s.message)}}(e.target.value)}})})}),(0,t.jsxs)("div",{className:"columns",children:[(0,t.jsxs)("div",{className:"column is-half",children:[(0,t.jsx)("h5",{className:"mb-2 title is-5",children:"Contract Ownership"}),(0,t.jsx)(f,{permissions:["CHANGEOWNER","ADDCONTROLLER","EDITPERMISSIONS"],color:"is-orange-dark",decodedPermissions:a,handlePermissionClick:l}),(0,t.jsx)("h5",{className:"mb-2 title is-5",children:"Extensions"}),(0,t.jsx)(f,{permissions:["ADDEXTENSIONS","CHANGEEXTENSIONS"],color:"is-orange",decodedPermissions:a,handlePermissionClick:l}),(0,t.jsx)("h5",{className:"mb-2 title is-5",children:"Universal Receivers"}),(0,t.jsx)(f,{permissions:["ADDUNIVERSALRECEIVERDELEGATE","CHANGEUNIVERSALRECEIVERDELEGATE"],color:"is-warning",decodedPermissions:a,handlePermissionClick:l}),(0,t.jsx)("h5",{className:"mb-2 title is-5",children:"Payload Execution"}),(0,t.jsx)(f,{permissions:["REENTRANCY","ERC4337_PERMISSION"],color:"is-danger",decodedPermissions:a,handlePermissionClick:l}),(0,t.jsx)("h5",{className:"mb-2 title is-5",children:"Contract Interactions"}),(0,t.jsx)(f,{permissions:["SUPER_TRANSFERVALUE","TRANSFERVALUE","SUPER_CALL","CALL","SUPER_STATICCALL","STATICCALL","SUPER_DELEGATECALL","DELEGATECALL","DEPLOY"],color:"is-primary",decodedPermissions:a,handlePermissionClick:l}),(0,t.jsx)("h5",{className:"mb-2 title is-5",children:"Contract Storage"}),(0,t.jsx)(f,{permissions:["SUPER_SETDATA","SETDATA"],color:"is-success",decodedPermissions:a,handlePermissionClick:l}),(0,t.jsx)("h5",{className:"mb-2 title is-5",children:"Signing Verification"}),(0,t.jsx)(f,{permissions:["ENCRYPT","DECRYPT","SIGN"],color:"is-purple",decodedPermissions:a,handlePermissionClick:l})]}),(0,t.jsx)("div",{className:"column is-half",children:(0,t.jsx)("pre",{children:JSON.stringify(a,void 0,2)})})]})]})},x=function(){return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c(),{children:(0,t.jsx)("title",{children:"Key Manager - ERC725 Tools"})}),(0,t.jsx)(j,{}),(0,t.jsx)(h,{})]})}},46601:function(){},89214:function(){},85568:function(){},52361:function(){},94616:function(){}},function(e){e.O(0,[543,655,399,774,888,179],(function(){return s=59245,e(e.s=s);var s}));var s=e.O();_N_E=s}]);