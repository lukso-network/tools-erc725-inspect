(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[346],{6151:(e,t)=>{"use strict";function r(e){if(Array.isArray(e)){let t=[],n=0;for(let i=0;i<e.length;i++){let s=r(e[i]);t.push(s),n+=s.length}return c(s(n,192),...t)}let t=y(e);return 1===t.length&&t[0]<128?t:c(s(t.length,128),t)}function n(e,t,r){if(r>e.length)throw Error("invalid RLP (safeSlice): end slice of Uint8Array out-of-bounds");return e.slice(t,r)}function i(e){if(0===e[0])throw Error("invalid RLP: extra zeros");return u(l(e))}function s(e,t){if(e<56)return Uint8Array.from([e+t]);let r=h(e),n=h(t+55+r.length/2);return Uint8Array.from(d(n+r))}function a(e,t=!1){if(null==e||0===e.length)return Uint8Array.from([]);let r=function e(t){let r,s,a,o,l,u=[],d=t[0];if(d<=127)return{data:t.slice(0,1),remainder:t.slice(1)};if(d<=183){if(r=d-127,a=128===d?Uint8Array.from([]):n(t,1,r),2===r&&a[0]<128)throw Error("invalid RLP encoding: invalid prefix, single byte < 0x80 are not prefixed");return{data:a,remainder:t.slice(r)}}if(d<=191){if(s=d-182,t.length-1<s)throw Error("invalid RLP: not enough bytes for string length");if((r=i(n(t,1,s)))<=55)throw Error("invalid RLP: expected string length to be greater than 55");return{data:a=n(t,s,r+s),remainder:t.slice(r+s)}}if(d<=247){for(o=n(t,1,r=d-191);o.length;)l=e(o),u.push(l.data),o=l.remainder;return{data:u,remainder:t.slice(r)}}{if((r=i(n(t,1,s=d-246)))<56)throw Error("invalid RLP: encoded list too short");let a=s+r;if(a>t.length)throw Error("invalid RLP: total length is larger than the data");for(o=n(t,s,a);o.length;)l=e(o),u.push(l.data),o=l.remainder;return{data:u,remainder:t.slice(a)}}}(y(e));if(t)return r;if(0!==r.remainder.length)throw Error("invalid RLP: remainder must be zero");return r.data}Object.defineProperty(t,"__esModule",{value:!0}),t.RLP=t.utils=t.decode=t.encode=void 0,t.encode=r,t.decode=a;let o=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function l(e){let t="";for(let r=0;r<e.length;r++)t+=o[e[r]];return t}function u(e){let t=Number.parseInt(e,16);if(Number.isNaN(t))throw Error("Invalid byte sequence");return t}function d(e){if("string"!=typeof e)throw TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw Error("hexToBytes: received invalid unpadded hex");let t=new Uint8Array(e.length/2);for(let r=0;r<t.length;r++){let n=2*r;t[r]=u(e.slice(n,n+2))}return t}function c(...e){if(1===e.length)return e[0];let t=new Uint8Array(e.reduce((e,t)=>e+t.length,0));for(let r=0,n=0;r<e.length;r++){let i=e[r];t.set(i,n),n+=i.length}return t}function f(e){return new TextEncoder().encode(e)}function h(e){if(e<0)throw Error("Invalid integer as argument, must be unsigned!");let t=e.toString(16);return t.length%2?`0${t}`:t}function p(e){return e.length>=2&&"0"===e[0]&&"x"===e[1]}function y(e){if(e instanceof Uint8Array)return e;if("string"==typeof e){if(p(e)){var t;return d((t="string"!=typeof e?e:p(e)?e.slice(2):e).length%2?`0${t}`:t)}return f(e)}if("number"==typeof e||"bigint"==typeof e)return e?d(h(e)):Uint8Array.from([]);if(null==e)return Uint8Array.from([]);throw Error("toBytes: received unsupported type "+typeof e)}t.utils={bytesToHex:l,concatBytes:c,hexToBytes:d,utf8ToBytes:f},t.RLP={encode:r,decode:a}},12392:e=>{"use strict";var t=Object.prototype.hasOwnProperty,r="~";function n(){}function i(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function s(e,t,n,s,a){if("function"!=typeof n)throw TypeError("The listener must be a function");var o=new i(n,s||e,a),l=r?r+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],o]:e._events[l].push(o):(e._events[l]=o,e._eventsCount++),e}function a(e,t){0==--e._eventsCount?e._events=new n:delete e._events[t]}function o(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1)),o.prototype.eventNames=function(){var e,n,i=[];if(0===this._eventsCount)return i;for(n in e=this._events)t.call(e,n)&&i.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},o.prototype.listeners=function(e){var t=r?r+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,s=n.length,a=Array(s);i<s;i++)a[i]=n[i].fn;return a},o.prototype.listenerCount=function(e){var t=r?r+e:e,n=this._events[t];return n?n.fn?1:n.length:0},o.prototype.emit=function(e,t,n,i,s,a){var o=r?r+e:e;if(!this._events[o])return!1;var l,u,d=this._events[o],c=arguments.length;if(d.fn){switch(d.once&&this.removeListener(e,d.fn,void 0,!0),c){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,t),!0;case 3:return d.fn.call(d.context,t,n),!0;case 4:return d.fn.call(d.context,t,n,i),!0;case 5:return d.fn.call(d.context,t,n,i,s),!0;case 6:return d.fn.call(d.context,t,n,i,s,a),!0}for(u=1,l=Array(c-1);u<c;u++)l[u-1]=arguments[u];d.fn.apply(d.context,l)}else{var f,h=d.length;for(u=0;u<h;u++)switch(d[u].once&&this.removeListener(e,d[u].fn,void 0,!0),c){case 1:d[u].fn.call(d[u].context);break;case 2:d[u].fn.call(d[u].context,t);break;case 3:d[u].fn.call(d[u].context,t,n);break;case 4:d[u].fn.call(d[u].context,t,n,i);break;default:if(!l)for(f=1,l=Array(c-1);f<c;f++)l[f-1]=arguments[f];d[u].fn.apply(d[u].context,l)}}return!0},o.prototype.on=function(e,t,r){return s(this,e,t,r,!1)},o.prototype.once=function(e,t,r){return s(this,e,t,r,!0)},o.prototype.removeListener=function(e,t,n,i){var s=r?r+e:e;if(!this._events[s])return this;if(!t)return a(this,s),this;var o=this._events[s];if(o.fn)o.fn!==t||i&&!o.once||n&&o.context!==n||a(this,s);else{for(var l=0,u=[],d=o.length;l<d;l++)(o[l].fn!==t||i&&!o[l].once||n&&o[l].context!==n)&&u.push(o[l]);u.length?this._events[s]=1===u.length?u[0]:u:a(this,s)}return this},o.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&a(this,t)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o},14181:(e,t,r)=>{"use strict";function n(e,t){let r=e.exec(t);return r?.groups}r.r(t),r.d(t,{BaseError:()=>u,narrow:()=>d,parseAbi:()=>N,parseAbiItem:()=>R,parseAbiParameter:()=>P,parseAbiParameters:()=>L});var i=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,s=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,a=/^\(.+?\).*?$/,o=Object.defineProperty,l=(e,t,r)=>(((e,t,r)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r),r),u=class extends Error{constructor(e,t={}){let r=t.cause instanceof u?t.cause.details:t.cause?.message?t.cause.message:t.details,n=t.cause instanceof u&&t.cause.docsPath||t.docsPath;super([e||"An error occurred.","",...t.metaMessages?[...t.metaMessages,""]:[],...n?[`Docs: https://abitype.dev${n}`]:[],...r?[`Details: ${r}`]:[],"Version: abitype@0.7.1"].join("\n")),l(this,"details"),l(this,"docsPath"),l(this,"metaMessages"),l(this,"shortMessage"),l(this,"name","AbiTypeError"),t.cause&&(this.cause=t.cause),this.details=r,this.docsPath=n,this.metaMessages=t.metaMessages,this.shortMessage=e}};function d(e){return e}var c=/^error (?<name>[a-zA-Z0-9_]+)\((?<parameters>.*?)\)$/,f=/^event (?<name>[a-zA-Z0-9_]+)\((?<parameters>.*?)\)$/,h=/^function (?<name>[a-zA-Z0-9_]+)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns \((?<returns>.*?)\))?$/,p=/^struct (?<name>[a-zA-Z0-9_]+) \{(?<properties>.*?)\}$/;function y(e){return p.test(e)}var m=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/,g=/^fallback\(\)$/,b=/^receive\(\) external payable$/,v=new Set(["memory","indexed","storage","calldata"]),w=new Set(["indexed"]),x=new Set(["calldata","memory","storage"]),_=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function E(e,t={}){if(h.test(e)){let r=n(h,e);if(!r)throw new u("Invalid function signature.",{details:e});let i=S(r.parameters),s=[],a=i.length;for(let e=0;e<a;e++)s.push(k(i[e],{modifiers:x,structs:t,type:"function"}));let o=[];if(r.returns){let e=S(r.returns),n=e.length;for(let r=0;r<n;r++)o.push(k(e[r],{modifiers:x,structs:t,type:"function"}))}return{name:r.name,type:"function",stateMutability:r.stateMutability??"nonpayable",inputs:s,outputs:o}}if(f.test(e)){let r=n(f,e);if(!r)throw new u("Invalid event signature.",{details:e});let i=S(r.parameters),s=[],a=i.length;for(let e=0;e<a;e++)s.push(k(i[e],{modifiers:w,structs:t,type:"event"}));return{name:r.name,type:"event",inputs:s}}if(c.test(e)){let r=n(c,e);if(!r)throw new u("Invalid error signature.",{details:e});let i=S(r.parameters),s=[],a=i.length;for(let e=0;e<a;e++)s.push(k(i[e],{structs:t,type:"error"}));return{name:r.name,type:"error",inputs:s}}if(m.test(e)){let r=n(m,e);if(!r)throw new u("Invalid constructor signature.",{details:e});let i=S(r.parameters),s=[],a=i.length;for(let e=0;e<a;e++)s.push(k(i[e],{structs:t,type:"constructor"}));return{type:"constructor",stateMutability:r.stateMutability??"nonpayable",inputs:s}}if(g.test(e))return{type:"fallback"};if(b.test(e))return{type:"receive",stateMutability:"payable"};throw new u("Unknown signature.",{details:e})}var A=/^(?<type>[a-zA-Z0-9_]+?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z0-9_]+))?$/,I=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z0-9_]+))?$/,T=/^u?int$/;function k(e,t){var r,o,l;let d,c=(r=t?.type)?`${r}:${e}`:e;if(_.has(c))return _.get(c);let f=a.test(e),h=n(f?I:A,e);if(!h)throw new u("Invalid ABI parameter.",{details:e});if(h.name&&("address"===(o=h.name)||"bool"===o||"function"===o||"string"===o||"tuple"===o||i.test(o)||s.test(o)||C.test(o)))throw new u("Invalid ABI parameter.",{details:e,metaMessages:[`"${h.name}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]});let p=h.name?{name:h.name}:{},y="indexed"===h.modifier?{indexed:!0}:{},m=t?.structs??{},g={};if(f){d="tuple";let e=S(h.type),t=[],r=e.length;for(let n=0;n<r;n++)t.push(k(e[n],{structs:m}));g={components:t}}else if(h.type in m)d="tuple",g={components:m[h.type]};else if(T.test(h.type))d=`${h.type}256`;else if(d=h.type,t?.type!=="struct"&&!$(d))throw new u("Unknown type.",{metaMessages:[`Type "${d}" is not a valid ABI type.`]});if(h.modifier){if(!t?.modifiers?.has?.(h.modifier))throw new u("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${h.modifier}" not allowed${t?.type?` in "${t.type}" type`:""}.`]});if(x.has(h.modifier)&&(l=d,!h.array&&"bytes"!==l&&"string"!==l&&"tuple"!==l))throw new u("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${h.modifier}" not allowed${t?.type?` in "${t.type}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${h.modifier}" was given.`]})}let b={type:`${d}${h.array??""}`,...p,...y,...g};return _.set(c,b),b}function S(e,t=[],r="",n=0){if(""===e){if(""===r)return t;if(0!==n)throw new u("Unbalanced parentheses.",{metaMessages:[`"${r.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`});return[...t,r.trim()]}let i=e.length;for(let s=0;s<i;s++){let i=e[s],a=e.slice(s+1);switch(i){case",":return 0===n?S(a,[...t,r.trim()]):S(a,t,`${r}${i}`,n);case"(":return S(a,t,`${r}${i}`,n+1);case")":return S(a,t,`${r}${i}`,n-1);default:return S(a,t,`${r}${i}`,n)}}return[]}function $(e){return"address"===e||"bool"===e||"function"===e||"string"===e||i.test(e)||s.test(e)}var C=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function B(e){let t={},r=e.length;for(let i=0;i<r;i++){let r=e[i];if(!y(r))continue;let s=n(p,r);if(!s)throw new u("Invalid struct signature.",{details:r});let a=s.properties.split(";"),o=[],l=a.length;for(let e=0;e<l;e++){let t=a[e].trim();if(!t)continue;let r=k(t,{type:"struct"});o.push(r)}if(!o.length)throw new u("Invalid struct signature.",{details:r,metaMessages:["No properties exist."]});t[s.name]=o}let i={},s=Object.entries(t),o=s.length;for(let e=0;e<o;e++){let[r,o]=s[e];i[r]=function e(t,r,i=new Set){let s=[],o=t.length;for(let l=0;l<o;l++){let o=t[l];if(a.test(o.type))s.push(o);else{let t=n(O,o.type);if(!t?.type)throw new u("Invalid ABI parameter.",{details:JSON.stringify(o,null,2),metaMessages:["ABI parameter type is invalid."]});let{array:a,type:l}=t;if(l in r){if(i.has(l))throw new u("Circular reference detected.",{metaMessages:[`Struct "${l}" is a circular reference.`]});s.push({...o,type:`tuple${a??""}`,components:e(r[l]??[],r,new Set([...i,l]))})}else if($(l))s.push(o);else throw new u("Unknown type.",{metaMessages:[`Type "${l}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]})}}return s}(o,t)}return i}var O=/^(?<type>[a-zA-Z0-9_]+?)(?<array>(?:\[\d*?\])+?)?$/;function N(e){let t=B(e),r=[],n=e.length;for(let i=0;i<n;i++){let n=e[i];y(n)||r.push(E(n,t))}return r}function R(e){let t;if("string"==typeof e)t=E(e);else{let r=B(e),n=e.length;for(let i=0;i<n;i++){let n=e[i];if(!y(n)){t=E(n,r);break}}}if(!t)throw new u("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(e,null,2)})`,docsPath:"/api/human.html#parseabiitem-1"});return t}function P(e){let t;if("string"==typeof e)t=k(e,{modifiers:v});else{let r=B(e),n=e.length;for(let i=0;i<n;i++){let n=e[i];if(!y(n)){t=k(n,{modifiers:v,structs:r});break}}}if(!t)throw new u("Failed to parse ABI parameter.",{details:`parseAbiParameter(${JSON.stringify(e,null,2)})`,docsPath:"/api/human.html#parseabiparameter-1"});return t}function L(e){let t=[];if("string"==typeof e){let r=S(e),n=r.length;for(let e=0;e<n;e++)t.push(k(r[e],{modifiers:v}))}else{let r=B(e),n=e.length;for(let i=0;i<n;i++){let n=e[i];if(y(n))continue;let s=S(n),a=s.length;for(let e=0;e<a;e++)t.push(k(s[e],{modifiers:v,structs:r}))}}if(0===t.length)throw new u("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(e,null,2)})`,docsPath:"/api/human.html#parseabiparameters-1"});return t}},23346:(e,t,r)=>{"use strict";let n;r.d(t,{ZO:()=>oe,eJ:()=>sY,Ay:()=>ot,Rn:()=>ax,RI:()=>al,s_:()=>aX,_w:()=>aY,ws:()=>as});var i,s,a,o,l,u,d,c,f,h,p,y,m,g,b,v,w,x,_,E,A,I={};r.r(I),r.d(I,{BRAND:()=>rn,DIRTY:()=>ti,EMPTY_PATH:()=>te,INVALID:()=>tn,NEVER:()=>rK,OK:()=>ts,ParseStatus:()=>tr,Schema:()=>th,ZodAny:()=>tZ,ZodArray:()=>tH,ZodBigInt:()=>tR,ZodBoolean:()=>tP,ZodBranded:()=>ri,ZodCatch:()=>rt,ZodDate:()=>tL,ZodDefault:()=>re,ZodDiscriminatedUnion:()=>tz,ZodEffects:()=>t5,ZodEnum:()=>t3,ZodError:()=>e3,ZodFirstPartyTypeKind:()=>c,ZodFunction:()=>t0,ZodIntersection:()=>tK,ZodIssueCode:()=>e2,ZodLazy:()=>t1,ZodLiteral:()=>t2,ZodMap:()=>tX,ZodNaN:()=>rr,ZodNativeEnum:()=>t8,ZodNever:()=>tF,ZodNull:()=>tM,ZodNullable:()=>t7,ZodNumber:()=>tN,ZodObject:()=>tW,ZodOptional:()=>t9,ZodParsedType:()=>e0,ZodPipeline:()=>rs,ZodPromise:()=>t6,ZodReadonly:()=>ra,ZodRecord:()=>tJ,ZodSchema:()=>th,ZodSet:()=>tQ,ZodString:()=>tO,ZodSymbol:()=>tj,ZodTransformer:()=>t5,ZodTuple:()=>tY,ZodType:()=>th,ZodUndefined:()=>tU,ZodUnion:()=>tG,ZodUnknown:()=>tD,ZodVoid:()=>tV,addIssueToContext:()=>tt,any:()=>rw,array:()=>rA,bigint:()=>rp,boolean:()=>ry,coerce:()=>rz,custom:()=>rl,date:()=>rm,datetimeRegex:()=>tB,defaultErrorMap:()=>e8,discriminatedUnion:()=>rS,effect:()=>rZ,enum:()=>rj,function:()=>rR,getErrorMap:()=>e9,getParsedType:()=>e1,instanceof:()=>rd,intersection:()=>r$,isAborted:()=>ta,isAsync:()=>tu,isDirty:()=>to,isValid:()=>tl,late:()=>ru,lazy:()=>rP,literal:()=>rL,makeIssue:()=>e7,map:()=>rO,nan:()=>rh,nativeEnum:()=>rU,never:()=>r_,null:()=>rv,nullable:()=>rF,number:()=>rf,object:()=>rI,objectUtil:()=>u,oboolean:()=>rq,onumber:()=>rG,optional:()=>rD,ostring:()=>rW,pipeline:()=>rH,preprocess:()=>rV,promise:()=>rM,quotelessJson:()=>e4,record:()=>rB,set:()=>rN,setErrorMap:()=>e5,strictObject:()=>rT,string:()=>rc,symbol:()=>rg,transformer:()=>rZ,tuple:()=>rC,undefined:()=>rb,union:()=>rk,unknown:()=>rx,util:()=>l,void:()=>rE});var T={};r.r(T),r.d(T,{abiSchemaToJsonSchema:()=>r8,codePointToInt:()=>r7,ensureIfUint8Array:()=>no,ethAbiToJsonSchema:()=>r6,fetchArrayElement:()=>r5,hexToNumber:()=>ne,hexToUint8Array:()=>na,numberToHex:()=>nt,padLeft:()=>nr,parseBaseType:()=>r4,transformJsonDataToAbiFormat:()=>r9,uint8ArrayToHexString:()=>nn});var k={};r.r(k),r.d(k,{DO:()=>i3,OG:()=>so,My:()=>i6,Ph:()=>st,lX:()=>sr,Id:()=>sa,fg:()=>sd,qj:()=>ss,aT:()=>se,aY:()=>i4,lq:()=>sn,z:()=>si,Q5:()=>sf});var S={};r.r(S),r.d(S,{secp256k1:()=>sF});var $=r(55541);!function(e){e.NUMBER="NUMBER_NUMBER",e.HEX="NUMBER_HEX",e.STR="NUMBER_STR",e.BIGINT="NUMBER_BIGINT"}(i||(i={})),function(e){e.HEX="BYTES_HEX",e.UINT8ARRAY="BYTES_UINT8ARRAY"}(s||(s={})),i.BIGINT,s.HEX,i.HEX,s.HEX,function(e){e.EARLIEST="earliest",e.LATEST="latest",e.PENDING="pending",e.SAFE="safe",e.FINALIZED="finalized",e.COMMITTED="committed"}(a||(a={})),function(e){e.chainstart="chainstart",e.frontier="frontier",e.homestead="homestead",e.dao="dao",e.tangerineWhistle="tangerineWhistle",e.spuriousDragon="spuriousDragon",e.byzantium="byzantium",e.constantinople="constantinople",e.petersburg="petersburg",e.istanbul="istanbul",e.muirGlacier="muirGlacier",e.berlin="berlin",e.london="london",e.altair="altair",e.arrowGlacier="arrowGlacier",e.grayGlacier="grayGlacier",e.bellatrix="bellatrix",e.merge="merge",e.capella="capella",e.shanghai="shanghai"}(o||(o={})),Object.getPrototypeOf(Uint8Array);var C=function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function a(e){try{l(n.next(e))}catch(e){s(e)}}function o(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,o)}l((n=n.apply(e,t||[])).next())})};let B=Symbol.for("web3/base-provider");class O{static isWeb3Provider(e){return e instanceof O||!!(e&&e[B])}get[B](){return!0}send(e,t){this.request(e).then(e=>{t(null,e)}).catch(e=>{t(e)})}sendAsync(e){return C(this,void 0,void 0,function*(){return this.request(e)})}asEIP1193Provider(){let e=Object.create(this),t=e.request;return e.request=function(e){return C(this,void 0,void 0,function*(){return(yield t(e)).result})},e.asEIP1193Provider=void 0,e}}class N extends Error{get innerError(){return this.cause instanceof R?this.cause.errors:this.cause}set innerError(e){Array.isArray(e)?this.cause=new R(e):this.cause=e}constructor(e,t){super(e),Array.isArray(t)?this.cause=new R(t):this.cause=t,this.name=this.constructor.name,"function"==typeof Error.captureStackTrace?Error.captureStackTrace(new.target.constructor):this.stack=Error().stack}static convertToString(e,t=!1){if(null==e)return"undefined";let r=JSON.stringify(e,(e,t)=>"bigint"==typeof t?t.toString():t);return t&&["bigint","string"].includes(typeof e)?r.replace(/['\\"]+/g,""):r}toJSON(){return{name:this.name,code:this.code,message:this.message,cause:this.cause,innerError:this.cause}}}class R extends N{constructor(e){super(`Multiple errors occurred: [${e.map(e=>e.message).join("], [")}]`),this.code=208,this.errors=e}}class P extends N{constructor(e,t){super(`Invalid value given "${N.convertToString(e,!0)}". Error: ${t}.`),this.name=this.constructor.name}}class L extends N{constructor(){super("The method you're trying to call is not implemented."),this.code=202}}class j extends N{constructor(e,t){super(e),this.code=205,this.props=null!=t?t:{}}}class U extends N{constructor(e){super(`Client URL "${e}" is invalid.`),this.code=602}}class M extends P{constructor(e){super(e,"can not parse as byte data"),this.code=1002}}class Z extends P{constructor(e){super(e,"can not parse as number data"),this.code=1003}}class D extends P{constructor(e){super(e,"invalid ethereum address"),this.code=1005}}class F extends P{constructor(e){super(e,"not a valid string"),this.code=1001}}class V extends P{constructor(e){super(e,"can not be converted to hex"),this.code=1006}}class H extends P{constructor(e){super(e,"value greater than the nibble width"),this.code=1014}}class W extends P{constructor(e){super(e,"not a valid boolean."),this.code=1008}}class G extends P{constructor(e){super(e,"not a valid unsigned integer."),this.code=1009}}class q extends P{constructor(e){super(e,"invalid size given."),this.code=1010}}class z extends P{constructor(e){super(e,"value is larger than size."),this.code=1011}}let K=e=>(e=>!Array.isArray(e)&&"2.0"===e.jsonrpc&&!!e&&(void 0===e.result||null===e.result)&&"error"in e&&("number"==typeof e.id||"string"==typeof e.id))(e)?e.error.message:"";class Y extends N{constructor(e,t,r,n){var i;let s;super(null!=t?t:`Returned error: ${Array.isArray(e)?e.map(e=>K(e)).join(","):K(e)}`),this.code=100,t||(this.data=Array.isArray(e)?e.map(e=>{var t;return null==(t=e.error)?void 0:t.data}):null==(i=null==e?void 0:e.error)?void 0:i.data),this.statusCode=n,this.request=r,"error"in e?s=e.error:e instanceof Array&&(s=e.filter(e=>e.error).map(e=>e.error)),Array.isArray(s)&&s.length>0?this.cause=new R(s):this.cause=s}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{data:this.data,request:this.request,statusCode:this.statusCode})}}let J={[-32700]:{message:"Parse error",description:"Invalid JSON"},[-32600]:{message:"Invalid request",description:"JSON is not a valid request object	"},[-32601]:{message:"Method not found",description:"Method does not exist	"},[-32602]:{message:"Invalid params",description:"Invalid method parameters"},[-32603]:{message:"Internal error",description:"Internal JSON-RPC error"},[-32e3]:{message:"Invalid input",description:"Missing or invalid parameters"},[-32001]:{message:"Resource not found",description:"Requested resource not found"},[-32002]:{message:"Resource unavailable",description:"Requested resource not available"},[-32003]:{message:"Transaction rejected",description:"Transaction creation failed"},[-32004]:{message:"Method not supported",description:"Method is not implemented"},[-32005]:{message:"Limit exceeded",description:"Request exceeds defined limit"},[-32006]:{message:"JSON-RPC version not supported",description:"Version of JSON-RPC protocol is not supported"},4001:{name:"User Rejected Request",message:"The user rejected the request."},4100:{name:"Unauthorized",message:"The requested method and/or account has not been authorized by the user."},4200:{name:"Unsupported Method",message:"The Provider does not support the requested method."},4900:{name:"Disconnected",message:"The Provider is disconnected from all chains."},4901:{name:"Chain Disconnected",message:"The Provider is not connected to the requested chain."},"0-999":{name:"",message:"Not used."},1e3:{name:"Normal Closure",message:"The connection successfully completed the purpose for which it was created."},1001:{name:"Going Away",message:"The endpoint is going away, either because of a server failure or because the browser is navigating away from the page that opened the connection."},1002:{name:"Protocol error",message:"The endpoint is terminating the connection due to a protocol error."},1003:{name:"Unsupported Data",message:"The connection is being terminated because the endpoint received data of a type it cannot accept. (For example, a text-only endpoint received binary data.)"},1004:{name:"Reserved",message:"Reserved. A meaning might be defined in the future."},1005:{name:"No Status Rcvd",message:"Reserved. Indicates that no status code was provided even though one was expected."},1006:{name:"Abnormal Closure",message:"Reserved. Indicates that a connection was closed abnormally (that is, with no close frame being sent) when a status code is expected."},1007:{name:"Invalid frame payload data",message:"The endpoint is terminating the connection because a message was received that contained inconsistent data (e.g., non-UTF-8 data within a text message)."},1008:{name:"Policy Violation",message:"The endpoint is terminating the connection because it received a message that violates its policy. This is a generic status code, used when codes 1003 and 1009 are not suitable."},1009:{name:"Message Too Big",message:"The endpoint is terminating the connection because a data frame was received that is too large."},1010:{name:"Mandatory Ext.",message:"The client is terminating the connection because it expected the server to negotiate one or more extension, but the server didn't."},1011:{name:"Internal Error",message:"The server is terminating the connection because it encountered an unexpected condition that prevented it from fulfilling the request."},1012:{name:"Service Restart",message:"The server is terminating the connection because it is restarting."},1013:{name:"Try Again Later",message:"The server is terminating the connection due to a temporary condition, e.g. it is overloaded and is casting off some of its clients."},1014:{name:"Bad Gateway",message:"The server was acting as a gateway or proxy and received an invalid response from the upstream server. This is similar to 502 HTTP Status Code."},1015:{name:"TLS handshake",message:"Reserved. Indicates that the connection was closed due to a failure to perform a TLS handshake (e.g., the server certificate can't be verified)."},"1016-2999":{name:"",message:"For definition by future revisions of the WebSocket Protocol specification, and for definition by extension specifications."},"3000-3999":{name:"",message:"For use by libraries, frameworks, and applications. These status codes are registered directly with IANA. The interpretation of these codes is undefined by the WebSocket protocol."},"4000-4999":{name:"",message:"For private use, and thus can't be registered. Such codes can be used by prior agreements between WebSocket applications. The interpretation of these codes is undefined by the WebSocket protocol."}};class X extends N{constructor(e,t){super(null!=t?t:"An Rpc error has occured with a code of *code*".replace("*code*",e.error.code.toString())),this.code=e.error.code,this.id=e.id,this.jsonrpc=e.jsonrpc,this.jsonRpcError=e.error}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{error:this.jsonRpcError,id:this.id,jsonRpc:this.jsonrpc})}}class Q extends X{constructor(e){super(e,J[-32700].message),this.code=-32700}}class ee extends X{constructor(e){super(e,J[-32600].message),this.code=-32600}}class et extends X{constructor(e){super(e,J[-32601].message),this.code=-32601}}class er extends X{constructor(e){super(e,J[-32602].message),this.code=-32602}}class en extends X{constructor(e){super(e,J[-32603].message),this.code=-32603}}class ei extends X{constructor(e){super(e,J[-32e3].message),this.code=-32e3}}class es extends X{constructor(e){super(e,J[-32004].message),this.code=-32004}}class ea extends X{constructor(e){super(e,J[-32002].message),this.code=-32002}}class eo extends X{constructor(e){super(e,J[-32001].message),this.code=-32001}}class el extends X{constructor(e){super(e,J[-32006].message),this.code=-32006}}class eu extends X{constructor(e){super(e,J[-32003].message),this.code=-32003}}class ed extends X{constructor(e){super(e,J[-32005].message),this.code=-32005}}let ec=new Map;ec.set(-32700,{error:Q}),ec.set(-32600,{error:ee}),ec.set(-32601,{error:et}),ec.set(-32602,{error:er}),ec.set(-32603,{error:en}),ec.set(-32e3,{error:ei}),ec.set(-32004,{error:es}),ec.set(-32002,{error:ea}),ec.set(-32003,{error:eu}),ec.set(-32001,{error:eo}),ec.set(-32006,{error:el}),ec.set(-32005,{error:ed});class ef extends N{constructor(e){super(`Format for the type ${e} is unsupported`),this.type=e,this.code=1200}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{type:this.type})}}class eh extends O{constructor(e,t){if(super(),!eh.validateClientUrl(e))throw new U(e);this.clientUrl=e,this.httpProviderOptions=t}static validateClientUrl(e){return"string"==typeof e&&/^http(s)?:\/\//i.test(e)}getStatus(){throw new L}supportsSubscriptions(){return!1}request(e,t){var r,n,i,s,a;return n=this,i=void 0,s=void 0,a=function*(){let n=Object.assign(Object.assign({},null==(r=this.httpProviderOptions)?void 0:r.providerOptions),t),i=yield $(this.clientUrl,Object.assign(Object.assign({},n),{method:"POST",headers:Object.assign(Object.assign({},n.headers),{"Content-Type":"application/json"}),body:JSON.stringify(e)}));if(!i.ok)throw new Y((yield i.json()),void 0,void 0,i.status);return yield i.json()},new(s||(s=Promise))(function(e,t){function r(e){try{l(a.next(e))}catch(e){t(e)}}function o(e){try{l(a.throw(e))}catch(e){t(e)}}function l(t){var n;t.done?e(t.value):((n=t.value)instanceof s?n:new s(function(e){e(n)})).then(r,o)}l((a=a.apply(n,i||[])).next())})}on(){throw new L}removeListener(){throw new L}once(){throw new L}removeAllListeners(){throw new L}connect(){throw new L}disconnect(){throw new L}reset(){throw new L}reconnect(){throw new L}}function ep(e){if(!Number.isSafeInteger(e)||e<0)throw Error(`positive integer expected, not ${e}`)}function ey(e,...t){if(!(e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name))throw Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}function em(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}function eg(e,t){ey(e);let r=t.outputLen;if(e.length<r)throw Error(`digestInto() expects output buffer of length at least ${r}`)}let eb={bool:function(e){if("boolean"!=typeof e)throw Error(`boolean expected, not ${e}`)},bytes:ey},ev=BigInt(0x100000000-1),ew=BigInt(32),ex="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,e_=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),eE=(e,t)=>e<<32-t|e>>>t,eA=68===new Uint8Array(new Uint32Array([0x11223344]).buffer)[0],eI=e=>e<<24&0xff000000|e<<8&0xff0000|e>>>8&65280|e>>>24&255;function eT(e){for(let t=0;t<e.length;t++)e[t]=eI(e[t])}function ek(e){if("string"!=typeof e)throw Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function eS(e){return"string"==typeof e&&(e=ek(e)),ey(e),e}class e${clone(){return this._cloneInto()}}function eC(e){let t=t=>e().update(eS(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function eB(e=32){if(ex&&"function"==typeof ex.getRandomValues)return ex.getRandomValues(new Uint8Array(e));throw Error("crypto.getRandomValues must be defined")}let eO=[],eN=[],eR=[],eP=BigInt(0),eL=BigInt(1),ej=BigInt(2),eU=BigInt(7),eM=BigInt(256),eZ=BigInt(113);for(let e=0,t=eL,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],eO.push(2*(5*n+r)),eN.push((e+1)*(e+2)/2%64);let i=eP;for(let e=0;e<7;e++)(t=(t<<eL^(t>>eU)*eZ)%eM)&ej&&(i^=eL<<(eL<<BigInt(e))-eL);eR.push(i)}let[eD,eF]=function(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){let{h:s,l:a}=function(e,t=!1){return t?{h:Number(e&ev),l:Number(e>>ew&ev)}:{h:0|Number(e>>ew&ev),l:0|Number(e&ev)}}(e[i],t);[r[i],n[i]]=[s,a]}return[r,n]}(eR,!0),eV=(e,t,r)=>r>32?((e,t,r)=>t<<r-32|e>>>64-r)(e,t,r):((e,t,r)=>e<<r|t>>>32-r)(e,t,r),eH=(e,t,r)=>r>32?((e,t,r)=>e<<r-32|t>>>64-r)(e,t,r):((e,t,r)=>t<<r|e>>>32-r)(e,t,r);class eW extends e${constructor(e,t,r,n=!1,i=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=n,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,ep(r),0>=this.blockLen||this.blockLen>=200)throw Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)))(this.state)}keccak(){eA||eT(this.state32),function(e,t=24){let r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let t=0;t<10;t++)r[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){let n=(t+8)%10,i=(t+2)%10,s=r[i],a=r[i+1],o=eV(s,a,1)^r[n],l=eH(s,a,1)^r[n+1];for(let r=0;r<50;r+=10)e[t+r]^=o,e[t+r+1]^=l}let t=e[2],i=e[3];for(let r=0;r<24;r++){let n=eN[r],s=eV(t,i,n),a=eH(t,i,n),o=eO[r];t=e[o],i=e[o+1],e[o]=s,e[o+1]=a}for(let t=0;t<50;t+=10){for(let n=0;n<10;n++)r[n]=e[t+n];for(let n=0;n<10;n++)e[t+n]^=~r[(n+2)%10]&r[(n+4)%10]}e[0]^=eD[n],e[1]^=eF[n]}r.fill(0)}(this.state32,this.rounds),eA||eT(this.state32),this.posOut=0,this.pos=0}update(e){em(this);let{blockLen:t,state:r}=this,n=(e=eS(e)).length;for(let i=0;i<n;){let s=Math.min(t-this.pos,n-i);for(let t=0;t<s;t++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:t,pos:r,blockLen:n}=this;e[r]^=t,(128&t)!=0&&r===n-1&&this.keccak(),e[n-1]^=128,this.keccak()}writeInto(e){em(this,!1),ey(e),this.finish();let t=this.state,{blockLen:r}=this;for(let n=0,i=e.length;n<i;){this.posOut>=r&&this.keccak();let s=Math.min(r-this.posOut,i-n);e.set(t.subarray(this.posOut,this.posOut+s),n),this.posOut+=s,n+=s}return e}xofInto(e){if(!this.enableXOF)throw Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return ep(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(eg(e,this),this.finished)throw Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){let{blockLen:t,suffix:r,outputLen:n,rounds:i,enableXOF:s}=this;return e||(e=new eW(t,r,n,s,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=n,e.enableXOF=s,e.destroyed=this.destroyed,e}}let eG=(e,t,r)=>eC(()=>new eW(t,e,r)),eq=eG(1,144,28),ez=eG(1,136,32),eK=eG(1,104,48),eY=eG(1,72,64);function eJ(e){if(!(e instanceof Uint8Array))throw TypeError(`bytesToUtf8 expected Uint8Array, got ${typeof e}`);return new TextDecoder().decode(e)}function eX(e){return t=>(eb.bytes(t),e(t))}eb.bool,eb.bytes,(()=>{let e="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,t="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);return t&&!e&&t("crypto")})(),eX(eq);let eQ=(()=>{let e=eX(ez);return e.create=ez.create,e})();eX(eK),eX(eY),function(e){e.assertEqual=e=>{},e.assertIs=function(e){},e.assertNever=function(e){throw Error()},e.arrayToEnum=e=>{let t={};for(let r of e)t[r]=r;return t},e.getValidEnumValues=t=>{let r=e.objectKeys(t).filter(e=>"number"!=typeof t[t[e]]),n={};for(let e of r)n[e]=t[e];return e.objectValues(n)},e.objectValues=t=>e.objectKeys(t).map(function(e){return t[e]}),e.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{let t=[];for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t},e.find=(e,t)=>{for(let r of e)if(t(r))return r},e.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&Number.isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e,t=" | "){return e.map(e=>"string"==typeof e?`'${e}'`:e).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t}(l||(l={})),(u||(u={})).mergeShapes=(e,t)=>({...e,...t});let e0=l.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),e1=e=>{switch(typeof e){case"undefined":return e0.undefined;case"string":return e0.string;case"number":return Number.isNaN(e)?e0.nan:e0.number;case"boolean":return e0.boolean;case"function":return e0.function;case"bigint":return e0.bigint;case"symbol":return e0.symbol;case"object":if(Array.isArray(e))return e0.array;if(null===e)return e0.null;if(e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch)return e0.promise;if("undefined"!=typeof Map&&e instanceof Map)return e0.map;if("undefined"!=typeof Set&&e instanceof Set)return e0.set;if("undefined"!=typeof Date&&e instanceof Date)return e0.date;return e0.object;default:return e0.unknown}},e2=l.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),e4=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class e3 extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};let t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){let t=e||function(e){return e.message},r={_errors:[]},n=e=>{for(let i of e.issues)if("invalid_union"===i.code)i.unionErrors.map(n);else if("invalid_return_type"===i.code)n(i.returnTypeError);else if("invalid_arguments"===i.code)n(i.argumentsError);else if(0===i.path.length)r._errors.push(t(i));else{let e=r,n=0;for(;n<i.path.length;){let r=i.path[n];n===i.path.length-1?(e[r]=e[r]||{_errors:[]},e[r]._errors.push(t(i))):e[r]=e[r]||{_errors:[]},e=e[r],n++}}};return n(this),r}static assert(e){if(!(e instanceof e3))throw Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,l.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){let t={},r=[];for(let n of this.issues)if(n.path.length>0){let r=n.path[0];t[r]=t[r]||[],t[r].push(e(n))}else r.push(e(n));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}e3.create=e=>new e3(e);let e8=(e,t)=>{let r;switch(e.code){case e2.invalid_type:r=e.received===e0.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case e2.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,l.jsonStringifyReplacer)}`;break;case e2.unrecognized_keys:r=`Unrecognized key(s) in object: ${l.joinValues(e.keys,", ")}`;break;case e2.invalid_union:r="Invalid input";break;case e2.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${l.joinValues(e.options)}`;break;case e2.invalid_enum_value:r=`Invalid enum value. Expected ${l.joinValues(e.options)}, received '${e.received}'`;break;case e2.invalid_arguments:r="Invalid function arguments";break;case e2.invalid_return_type:r="Invalid function return type";break;case e2.invalid_date:r="Invalid date";break;case e2.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:l.assertNever(e.validation):r="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case e2.too_small:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type||"bigint"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case e2.too_big:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case e2.custom:r="Invalid input";break;case e2.invalid_intersection_types:r="Intersection results could not be merged";break;case e2.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case e2.not_finite:r="Number must be finite";break;default:r=t.defaultError,l.assertNever(e)}return{message:r}},e6=e8;function e5(e){e6=e}function e9(){return e6}!function(e){e.errToObj=e=>"string"==typeof e?{message:e}:e||{},e.toString=e=>"string"==typeof e?e:e?.message}(d||(d={}));let e7=e=>{let{data:t,path:r,errorMaps:n,issueData:i}=e,s=[...r,...i.path||[]],a={...i,path:s};if(void 0!==i.message)return{...i,path:s,message:i.message};let o="";for(let e of n.filter(e=>!!e).slice().reverse())o=e(a,{data:t,defaultError:o}).message;return{...i,path:s,message:o}},te=[];function tt(e,t){let r=e6,n=e7({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===e8?void 0:e8].filter(e=>!!e)});e.common.issues.push(n)}class tr{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){let r=[];for(let n of t){if("aborted"===n.status)return tn;"dirty"===n.status&&e.dirty(),r.push(n.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){let r=[];for(let e of t){let t=await e.key,n=await e.value;r.push({key:t,value:n})}return tr.mergeObjectSync(e,r)}static mergeObjectSync(e,t){let r={};for(let n of t){let{key:t,value:i}=n;if("aborted"===t.status||"aborted"===i.status)return tn;"dirty"===t.status&&e.dirty(),"dirty"===i.status&&e.dirty(),"__proto__"!==t.value&&(void 0!==i.value||n.alwaysSet)&&(r[t.value]=i.value)}return{status:e.value,value:r}}}let tn=Object.freeze({status:"aborted"}),ti=e=>({status:"dirty",value:e}),ts=e=>({status:"valid",value:e}),ta=e=>"aborted"===e.status,to=e=>"dirty"===e.status,tl=e=>"valid"===e.status,tu=e=>"undefined"!=typeof Promise&&e instanceof Promise;class td{constructor(e,t,r,n){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=n}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}let tc=(e,t)=>{if(tl(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new e3(e.common.issues);return this._error=t,this._error}}};function tf(e){if(!e)return{};let{errorMap:t,invalid_type_error:r,required_error:n,description:i}=e;if(t&&(r||n))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:i}:{errorMap:(t,i)=>{let{message:s}=e;return"invalid_enum_value"===t.code?{message:s??i.defaultError}:void 0===i.data?{message:s??n??i.defaultError}:"invalid_type"!==t.code?{message:i.defaultError}:{message:s??r??i.defaultError}},description:i}}class th{get description(){return this._def.description}_getType(e){return e1(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:e1(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new tr,ctx:{common:e.parent.common,data:e.data,parsedType:e1(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if(tu(t))throw Error("Synchronous parse encountered promise.");return t}_parseAsync(e){return Promise.resolve(this._parse(e))}parse(e,t){let r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){let r={common:{issues:[],async:t?.async??!1,contextualErrorMap:t?.errorMap},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:e1(e)},n=this._parseSync({data:e,path:r.path,parent:r});return tc(r,n)}"~validate"(e){let t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:e1(e)};if(!this["~standard"].async)try{let r=this._parseSync({data:e,path:[],parent:t});return tl(r)?{value:r.value}:{issues:t.common.issues}}catch(e){e?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(e=>tl(e)?{value:e.value}:{issues:t.common.issues})}async parseAsync(e,t){let r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){let r={common:{issues:[],contextualErrorMap:t?.errorMap,async:!0},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:e1(e)},n=this._parse({data:e,path:r.path,parent:r});return tc(r,await (tu(n)?n:Promise.resolve(n)))}refine(e,t){return this._refinement((r,n)=>{let i=e(r),s=()=>n.addIssue({code:e2.custom,..."string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(r):t});return"undefined"!=typeof Promise&&i instanceof Promise?i.then(e=>!!e||(s(),!1)):!!i||(s(),!1)})}refinement(e,t){return this._refinement((r,n)=>!!e(r)||(n.addIssue("function"==typeof t?t(r,n):t),!1))}_refinement(e){return new t5({schema:this,typeName:c.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return t9.create(this,this._def)}nullable(){return t7.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return tH.create(this)}promise(){return t6.create(this,this._def)}or(e){return tG.create([this,e],this._def)}and(e){return tK.create(this,e,this._def)}transform(e){return new t5({...tf(this._def),schema:this,typeName:c.ZodEffects,effect:{type:"transform",transform:e}})}default(e){return new re({...tf(this._def),innerType:this,defaultValue:"function"==typeof e?e:()=>e,typeName:c.ZodDefault})}brand(){return new ri({typeName:c.ZodBranded,type:this,...tf(this._def)})}catch(e){return new rt({...tf(this._def),innerType:this,catchValue:"function"==typeof e?e:()=>e,typeName:c.ZodCatch})}describe(e){return new this.constructor({...this._def,description:e})}pipe(e){return rs.create(this,e)}readonly(){return ra.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}let tp=/^c[^\s-]{8,}$/i,ty=/^[0-9a-z]+$/,tm=/^[0-9A-HJKMNP-TV-Z]{26}$/i,tg=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,tb=/^[a-z0-9_-]{21}$/i,tv=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,tw=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,tx=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,t_=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,tE=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,tA=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,tI=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,tT=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,tk=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,tS="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",t$=RegExp(`^${tS}$`);function tC(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`);let r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function tB(e){let t=`${tS}T${tC(e)}`,r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,RegExp(`^${t}$`)}class tO extends th{_parse(e){var t,r,i,s;let a;if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==e0.string){let t=this._getOrReturnCtx(e);return tt(t,{code:e2.invalid_type,expected:e0.string,received:t.parsedType}),tn}let o=new tr;for(let u of this._def.checks)if("min"===u.kind)e.data.length<u.value&&(tt(a=this._getOrReturnCtx(e,a),{code:e2.too_small,minimum:u.value,type:"string",inclusive:!0,exact:!1,message:u.message}),o.dirty());else if("max"===u.kind)e.data.length>u.value&&(tt(a=this._getOrReturnCtx(e,a),{code:e2.too_big,maximum:u.value,type:"string",inclusive:!0,exact:!1,message:u.message}),o.dirty());else if("length"===u.kind){let t=e.data.length>u.value,r=e.data.length<u.value;(t||r)&&(a=this._getOrReturnCtx(e,a),t?tt(a,{code:e2.too_big,maximum:u.value,type:"string",inclusive:!0,exact:!0,message:u.message}):r&&tt(a,{code:e2.too_small,minimum:u.value,type:"string",inclusive:!0,exact:!0,message:u.message}),o.dirty())}else if("email"===u.kind)tx.test(e.data)||(tt(a=this._getOrReturnCtx(e,a),{validation:"email",code:e2.invalid_string,message:u.message}),o.dirty());else if("emoji"===u.kind)n||(n=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),n.test(e.data)||(tt(a=this._getOrReturnCtx(e,a),{validation:"emoji",code:e2.invalid_string,message:u.message}),o.dirty());else if("uuid"===u.kind)tg.test(e.data)||(tt(a=this._getOrReturnCtx(e,a),{validation:"uuid",code:e2.invalid_string,message:u.message}),o.dirty());else if("nanoid"===u.kind)tb.test(e.data)||(tt(a=this._getOrReturnCtx(e,a),{validation:"nanoid",code:e2.invalid_string,message:u.message}),o.dirty());else if("cuid"===u.kind)tp.test(e.data)||(tt(a=this._getOrReturnCtx(e,a),{validation:"cuid",code:e2.invalid_string,message:u.message}),o.dirty());else if("cuid2"===u.kind)ty.test(e.data)||(tt(a=this._getOrReturnCtx(e,a),{validation:"cuid2",code:e2.invalid_string,message:u.message}),o.dirty());else if("ulid"===u.kind)tm.test(e.data)||(tt(a=this._getOrReturnCtx(e,a),{validation:"ulid",code:e2.invalid_string,message:u.message}),o.dirty());else if("url"===u.kind)try{new URL(e.data)}catch{tt(a=this._getOrReturnCtx(e,a),{validation:"url",code:e2.invalid_string,message:u.message}),o.dirty()}else"regex"===u.kind?(u.regex.lastIndex=0,u.regex.test(e.data)||(tt(a=this._getOrReturnCtx(e,a),{validation:"regex",code:e2.invalid_string,message:u.message}),o.dirty())):"trim"===u.kind?e.data=e.data.trim():"includes"===u.kind?e.data.includes(u.value,u.position)||(tt(a=this._getOrReturnCtx(e,a),{code:e2.invalid_string,validation:{includes:u.value,position:u.position},message:u.message}),o.dirty()):"toLowerCase"===u.kind?e.data=e.data.toLowerCase():"toUpperCase"===u.kind?e.data=e.data.toUpperCase():"startsWith"===u.kind?e.data.startsWith(u.value)||(tt(a=this._getOrReturnCtx(e,a),{code:e2.invalid_string,validation:{startsWith:u.value},message:u.message}),o.dirty()):"endsWith"===u.kind?e.data.endsWith(u.value)||(tt(a=this._getOrReturnCtx(e,a),{code:e2.invalid_string,validation:{endsWith:u.value},message:u.message}),o.dirty()):"datetime"===u.kind?tB(u).test(e.data)||(tt(a=this._getOrReturnCtx(e,a),{code:e2.invalid_string,validation:"datetime",message:u.message}),o.dirty()):"date"===u.kind?t$.test(e.data)||(tt(a=this._getOrReturnCtx(e,a),{code:e2.invalid_string,validation:"date",message:u.message}),o.dirty()):"time"===u.kind?RegExp(`^${tC(u)}$`).test(e.data)||(tt(a=this._getOrReturnCtx(e,a),{code:e2.invalid_string,validation:"time",message:u.message}),o.dirty()):"duration"===u.kind?tw.test(e.data)||(tt(a=this._getOrReturnCtx(e,a),{validation:"duration",code:e2.invalid_string,message:u.message}),o.dirty()):"ip"===u.kind?(t=e.data,!(("v4"===(r=u.version)||!r)&&t_.test(t)||("v6"===r||!r)&&tA.test(t))&&1&&(tt(a=this._getOrReturnCtx(e,a),{validation:"ip",code:e2.invalid_string,message:u.message}),o.dirty())):"jwt"===u.kind?!function(e,t){if(!tv.test(e))return!1;try{let[r]=e.split(".");if(!r)return!1;let n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),i=JSON.parse(atob(n));if("object"!=typeof i||null===i||"typ"in i&&i?.typ!=="JWT"||!i.alg||t&&i.alg!==t)return!1;return!0}catch{return!1}}(e.data,u.alg)&&(tt(a=this._getOrReturnCtx(e,a),{validation:"jwt",code:e2.invalid_string,message:u.message}),o.dirty()):"cidr"===u.kind?(i=e.data,!(("v4"===(s=u.version)||!s)&&tE.test(i)||("v6"===s||!s)&&tI.test(i))&&1&&(tt(a=this._getOrReturnCtx(e,a),{validation:"cidr",code:e2.invalid_string,message:u.message}),o.dirty())):"base64"===u.kind?tT.test(e.data)||(tt(a=this._getOrReturnCtx(e,a),{validation:"base64",code:e2.invalid_string,message:u.message}),o.dirty()):"base64url"===u.kind?tk.test(e.data)||(tt(a=this._getOrReturnCtx(e,a),{validation:"base64url",code:e2.invalid_string,message:u.message}),o.dirty()):l.assertNever(u);return{status:o.value,value:e.data}}_regex(e,t,r){return this.refinement(t=>e.test(t),{validation:t,code:e2.invalid_string,...d.errToObj(r)})}_addCheck(e){return new tO({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...d.errToObj(e)})}url(e){return this._addCheck({kind:"url",...d.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...d.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...d.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...d.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...d.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...d.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...d.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...d.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...d.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...d.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...d.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...d.errToObj(e)})}datetime(e){return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===e?.precision?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...d.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:void 0===e?.precision?null:e?.precision,...d.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...d.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...d.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t?.position,...d.errToObj(t?.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...d.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...d.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...d.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...d.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...d.errToObj(t)})}nonempty(e){return this.min(1,d.errToObj(e))}trim(){return new tO({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new tO({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new tO({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isDate(){return!!this._def.checks.find(e=>"date"===e.kind)}get isTime(){return!!this._def.checks.find(e=>"time"===e.kind)}get isDuration(){return!!this._def.checks.find(e=>"duration"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isNANOID(){return!!this._def.checks.find(e=>"nanoid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get isCIDR(){return!!this._def.checks.find(e=>"cidr"===e.kind)}get isBase64(){return!!this._def.checks.find(e=>"base64"===e.kind)}get isBase64url(){return!!this._def.checks.find(e=>"base64url"===e.kind)}get minLength(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}tO.create=e=>new tO({checks:[],typeName:c.ZodString,coerce:e?.coerce??!1,...tf(e)});class tN extends th{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){let t;if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==e0.number){let t=this._getOrReturnCtx(e);return tt(t,{code:e2.invalid_type,expected:e0.number,received:t.parsedType}),tn}let r=new tr;for(let n of this._def.checks)"int"===n.kind?l.isInteger(e.data)||(tt(t=this._getOrReturnCtx(e,t),{code:e2.invalid_type,expected:"integer",received:"float",message:n.message}),r.dirty()):"min"===n.kind?(n.inclusive?e.data<n.value:e.data<=n.value)&&(tt(t=this._getOrReturnCtx(e,t),{code:e2.too_small,minimum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),r.dirty()):"max"===n.kind?(n.inclusive?e.data>n.value:e.data>=n.value)&&(tt(t=this._getOrReturnCtx(e,t),{code:e2.too_big,maximum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),r.dirty()):"multipleOf"===n.kind?0!==function(e,t){let r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,i=r>n?r:n;return Number.parseInt(e.toFixed(i).replace(".",""))%Number.parseInt(t.toFixed(i).replace(".",""))/10**i}(e.data,n.value)&&(tt(t=this._getOrReturnCtx(e,t),{code:e2.not_multiple_of,multipleOf:n.value,message:n.message}),r.dirty()):"finite"===n.kind?Number.isFinite(e.data)||(tt(t=this._getOrReturnCtx(e,t),{code:e2.not_finite,message:n.message}),r.dirty()):l.assertNever(n);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,d.toString(t))}gt(e,t){return this.setLimit("min",e,!1,d.toString(t))}lte(e,t){return this.setLimit("max",e,!0,d.toString(t))}lt(e,t){return this.setLimit("max",e,!1,d.toString(t))}setLimit(e,t,r,n){return new tN({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:d.toString(n)}]})}_addCheck(e){return new tN({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:d.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:d.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:d.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:d.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:d.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:d.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:d.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:d.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:d.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&l.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let r of this._def.checks)if("finite"===r.kind||"int"===r.kind||"multipleOf"===r.kind)return!0;else"min"===r.kind?(null===t||r.value>t)&&(t=r.value):"max"===r.kind&&(null===e||r.value<e)&&(e=r.value);return Number.isFinite(t)&&Number.isFinite(e)}}tN.create=e=>new tN({checks:[],typeName:c.ZodNumber,coerce:e?.coerce||!1,...tf(e)});class tR extends th{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){let t;if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==e0.bigint)return this._getInvalidInput(e);let r=new tr;for(let n of this._def.checks)"min"===n.kind?(n.inclusive?e.data<n.value:e.data<=n.value)&&(tt(t=this._getOrReturnCtx(e,t),{code:e2.too_small,type:"bigint",minimum:n.value,inclusive:n.inclusive,message:n.message}),r.dirty()):"max"===n.kind?(n.inclusive?e.data>n.value:e.data>=n.value)&&(tt(t=this._getOrReturnCtx(e,t),{code:e2.too_big,type:"bigint",maximum:n.value,inclusive:n.inclusive,message:n.message}),r.dirty()):"multipleOf"===n.kind?e.data%n.value!==BigInt(0)&&(tt(t=this._getOrReturnCtx(e,t),{code:e2.not_multiple_of,multipleOf:n.value,message:n.message}),r.dirty()):l.assertNever(n);return{status:r.value,value:e.data}}_getInvalidInput(e){let t=this._getOrReturnCtx(e);return tt(t,{code:e2.invalid_type,expected:e0.bigint,received:t.parsedType}),tn}gte(e,t){return this.setLimit("min",e,!0,d.toString(t))}gt(e,t){return this.setLimit("min",e,!1,d.toString(t))}lte(e,t){return this.setLimit("max",e,!0,d.toString(t))}lt(e,t){return this.setLimit("max",e,!1,d.toString(t))}setLimit(e,t,r,n){return new tR({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:d.toString(n)}]})}_addCheck(e){return new tR({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:d.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:d.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:d.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:d.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:d.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}tR.create=e=>new tR({checks:[],typeName:c.ZodBigInt,coerce:e?.coerce??!1,...tf(e)});class tP extends th{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==e0.boolean){let t=this._getOrReturnCtx(e);return tt(t,{code:e2.invalid_type,expected:e0.boolean,received:t.parsedType}),tn}return ts(e.data)}}tP.create=e=>new tP({typeName:c.ZodBoolean,coerce:e?.coerce||!1,...tf(e)});class tL extends th{_parse(e){let t;if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==e0.date){let t=this._getOrReturnCtx(e);return tt(t,{code:e2.invalid_type,expected:e0.date,received:t.parsedType}),tn}if(Number.isNaN(e.data.getTime()))return tt(this._getOrReturnCtx(e),{code:e2.invalid_date}),tn;let r=new tr;for(let n of this._def.checks)"min"===n.kind?e.data.getTime()<n.value&&(tt(t=this._getOrReturnCtx(e,t),{code:e2.too_small,message:n.message,inclusive:!0,exact:!1,minimum:n.value,type:"date"}),r.dirty()):"max"===n.kind?e.data.getTime()>n.value&&(tt(t=this._getOrReturnCtx(e,t),{code:e2.too_big,message:n.message,inclusive:!0,exact:!1,maximum:n.value,type:"date"}),r.dirty()):l.assertNever(n);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new tL({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:d.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:d.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}tL.create=e=>new tL({checks:[],coerce:e?.coerce||!1,typeName:c.ZodDate,...tf(e)});class tj extends th{_parse(e){if(this._getType(e)!==e0.symbol){let t=this._getOrReturnCtx(e);return tt(t,{code:e2.invalid_type,expected:e0.symbol,received:t.parsedType}),tn}return ts(e.data)}}tj.create=e=>new tj({typeName:c.ZodSymbol,...tf(e)});class tU extends th{_parse(e){if(this._getType(e)!==e0.undefined){let t=this._getOrReturnCtx(e);return tt(t,{code:e2.invalid_type,expected:e0.undefined,received:t.parsedType}),tn}return ts(e.data)}}tU.create=e=>new tU({typeName:c.ZodUndefined,...tf(e)});class tM extends th{_parse(e){if(this._getType(e)!==e0.null){let t=this._getOrReturnCtx(e);return tt(t,{code:e2.invalid_type,expected:e0.null,received:t.parsedType}),tn}return ts(e.data)}}tM.create=e=>new tM({typeName:c.ZodNull,...tf(e)});class tZ extends th{constructor(){super(...arguments),this._any=!0}_parse(e){return ts(e.data)}}tZ.create=e=>new tZ({typeName:c.ZodAny,...tf(e)});class tD extends th{constructor(){super(...arguments),this._unknown=!0}_parse(e){return ts(e.data)}}tD.create=e=>new tD({typeName:c.ZodUnknown,...tf(e)});class tF extends th{_parse(e){let t=this._getOrReturnCtx(e);return tt(t,{code:e2.invalid_type,expected:e0.never,received:t.parsedType}),tn}}tF.create=e=>new tF({typeName:c.ZodNever,...tf(e)});class tV extends th{_parse(e){if(this._getType(e)!==e0.undefined){let t=this._getOrReturnCtx(e);return tt(t,{code:e2.invalid_type,expected:e0.void,received:t.parsedType}),tn}return ts(e.data)}}tV.create=e=>new tV({typeName:c.ZodVoid,...tf(e)});class tH extends th{_parse(e){let{ctx:t,status:r}=this._processInputParams(e),n=this._def;if(t.parsedType!==e0.array)return tt(t,{code:e2.invalid_type,expected:e0.array,received:t.parsedType}),tn;if(null!==n.exactLength){let e=t.data.length>n.exactLength.value,i=t.data.length<n.exactLength.value;(e||i)&&(tt(t,{code:e?e2.too_big:e2.too_small,minimum:i?n.exactLength.value:void 0,maximum:e?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),r.dirty())}if(null!==n.minLength&&t.data.length<n.minLength.value&&(tt(t,{code:e2.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),r.dirty()),null!==n.maxLength&&t.data.length>n.maxLength.value&&(tt(t,{code:e2.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((e,r)=>n.type._parseAsync(new td(t,e,t.path,r)))).then(e=>tr.mergeArray(r,e));let i=[...t.data].map((e,r)=>n.type._parseSync(new td(t,e,t.path,r)));return tr.mergeArray(r,i)}get element(){return this._def.type}min(e,t){return new tH({...this._def,minLength:{value:e,message:d.toString(t)}})}max(e,t){return new tH({...this._def,maxLength:{value:e,message:d.toString(t)}})}length(e,t){return new tH({...this._def,exactLength:{value:e,message:d.toString(t)}})}nonempty(e){return this.min(1,e)}}tH.create=(e,t)=>new tH({type:e,minLength:null,maxLength:null,exactLength:null,typeName:c.ZodArray,...tf(t)});class tW extends th{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;let e=this._def.shape(),t=l.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==e0.object){let t=this._getOrReturnCtx(e);return tt(t,{code:e2.invalid_type,expected:e0.object,received:t.parsedType}),tn}let{status:t,ctx:r}=this._processInputParams(e),{shape:n,keys:i}=this._getCached(),s=[];if(!(this._def.catchall instanceof tF&&"strip"===this._def.unknownKeys))for(let e in r.data)i.includes(e)||s.push(e);let a=[];for(let e of i){let t=n[e],i=r.data[e];a.push({key:{status:"valid",value:e},value:t._parse(new td(r,i,r.path,e)),alwaysSet:e in r.data})}if(this._def.catchall instanceof tF){let e=this._def.unknownKeys;if("passthrough"===e)for(let e of s)a.push({key:{status:"valid",value:e},value:{status:"valid",value:r.data[e]}});else if("strict"===e)s.length>0&&(tt(r,{code:e2.unrecognized_keys,keys:s}),t.dirty());else if("strip"===e);else throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let e=this._def.catchall;for(let t of s){let n=r.data[t];a.push({key:{status:"valid",value:t},value:e._parse(new td(r,n,r.path,t)),alwaysSet:t in r.data})}}return r.common.async?Promise.resolve().then(async()=>{let e=[];for(let t of a){let r=await t.key,n=await t.value;e.push({key:r,value:n,alwaysSet:t.alwaysSet})}return e}).then(e=>tr.mergeObjectSync(t,e)):tr.mergeObjectSync(t,a)}get shape(){return this._def.shape()}strict(e){return d.errToObj,new tW({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,r)=>{let n=this._def.errorMap?.(t,r).message??r.defaultError;return"unrecognized_keys"===t.code?{message:d.errToObj(e).message??n}:{message:n}}}:{}})}strip(){return new tW({...this._def,unknownKeys:"strip"})}passthrough(){return new tW({...this._def,unknownKeys:"passthrough"})}extend(e){return new tW({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new tW({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:c.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new tW({...this._def,catchall:e})}pick(e){let t={};for(let r of l.objectKeys(e))e[r]&&this.shape[r]&&(t[r]=this.shape[r]);return new tW({...this._def,shape:()=>t})}omit(e){let t={};for(let r of l.objectKeys(this.shape))e[r]||(t[r]=this.shape[r]);return new tW({...this._def,shape:()=>t})}deepPartial(){return function e(t){if(t instanceof tW){let r={};for(let n in t.shape){let i=t.shape[n];r[n]=t9.create(e(i))}return new tW({...t._def,shape:()=>r})}if(t instanceof tH)return new tH({...t._def,type:e(t.element)});if(t instanceof t9)return t9.create(e(t.unwrap()));if(t instanceof t7)return t7.create(e(t.unwrap()));if(t instanceof tY)return tY.create(t.items.map(t=>e(t)));else return t}(this)}partial(e){let t={};for(let r of l.objectKeys(this.shape)){let n=this.shape[r];e&&!e[r]?t[r]=n:t[r]=n.optional()}return new tW({...this._def,shape:()=>t})}required(e){let t={};for(let r of l.objectKeys(this.shape))if(e&&!e[r])t[r]=this.shape[r];else{let e=this.shape[r];for(;e instanceof t9;)e=e._def.innerType;t[r]=e}return new tW({...this._def,shape:()=>t})}keyof(){return t4(l.objectKeys(this.shape))}}tW.create=(e,t)=>new tW({shape:()=>e,unknownKeys:"strip",catchall:tF.create(),typeName:c.ZodObject,...tf(t)}),tW.strictCreate=(e,t)=>new tW({shape:()=>e,unknownKeys:"strict",catchall:tF.create(),typeName:c.ZodObject,...tf(t)}),tW.lazycreate=(e,t)=>new tW({shape:e,unknownKeys:"strip",catchall:tF.create(),typeName:c.ZodObject,...tf(t)});class tG extends th{_parse(e){let{ctx:t}=this._processInputParams(e),r=this._def.options;if(t.common.async)return Promise.all(r.map(async e=>{let r={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:r}),ctx:r}})).then(function(e){for(let t of e)if("valid"===t.result.status)return t.result;for(let r of e)if("dirty"===r.result.status)return t.common.issues.push(...r.ctx.common.issues),r.result;let r=e.map(e=>new e3(e.ctx.common.issues));return tt(t,{code:e2.invalid_union,unionErrors:r}),tn});{let e,n=[];for(let i of r){let r={...t,common:{...t.common,issues:[]},parent:null},s=i._parseSync({data:t.data,path:t.path,parent:r});if("valid"===s.status)return s;"dirty"!==s.status||e||(e={result:s,ctx:r}),r.common.issues.length&&n.push(r.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;let i=n.map(e=>new e3(e));return tt(t,{code:e2.invalid_union,unionErrors:i}),tn}}get options(){return this._def.options}}tG.create=(e,t)=>new tG({options:e,typeName:c.ZodUnion,...tf(t)});let tq=e=>{if(e instanceof t1)return tq(e.schema);if(e instanceof t5)return tq(e.innerType());if(e instanceof t2)return[e.value];if(e instanceof t3)return e.options;if(e instanceof t8)return l.objectValues(e.enum);else if(e instanceof re)return tq(e._def.innerType);else if(e instanceof tU)return[void 0];else if(e instanceof tM)return[null];else if(e instanceof t9)return[void 0,...tq(e.unwrap())];else if(e instanceof t7)return[null,...tq(e.unwrap())];else if(e instanceof ri)return tq(e.unwrap());else if(e instanceof ra)return tq(e.unwrap());else if(e instanceof rt)return tq(e._def.innerType);else return[]};class tz extends th{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==e0.object)return tt(t,{code:e2.invalid_type,expected:e0.object,received:t.parsedType}),tn;let r=this.discriminator,n=t.data[r],i=this.optionsMap.get(n);return i?t.common.async?i._parseAsync({data:t.data,path:t.path,parent:t}):i._parseSync({data:t.data,path:t.path,parent:t}):(tt(t,{code:e2.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),tn)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){let n=new Map;for(let r of t){let t=tq(r.shape[e]);if(!t.length)throw Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let i of t){if(n.has(i))throw Error(`Discriminator property ${String(e)} has duplicate value ${String(i)}`);n.set(i,r)}}return new tz({typeName:c.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:n,...tf(r)})}}class tK extends th{_parse(e){let{status:t,ctx:r}=this._processInputParams(e),n=(e,n)=>{if(ta(e)||ta(n))return tn;let i=function e(t,r){let n=e1(t),i=e1(r);if(t===r)return{valid:!0,data:t};if(n===e0.object&&i===e0.object){let n=l.objectKeys(r),i=l.objectKeys(t).filter(e=>-1!==n.indexOf(e)),s={...t,...r};for(let n of i){let i=e(t[n],r[n]);if(!i.valid)return{valid:!1};s[n]=i.data}return{valid:!0,data:s}}if(n===e0.array&&i===e0.array){if(t.length!==r.length)return{valid:!1};let n=[];for(let i=0;i<t.length;i++){let s=e(t[i],r[i]);if(!s.valid)return{valid:!1};n.push(s.data)}return{valid:!0,data:n}}if(n===e0.date&&i===e0.date&&+t==+r)return{valid:!0,data:t};return{valid:!1}}(e.value,n.value);return i.valid?((to(e)||to(n))&&t.dirty(),{status:t.value,value:i.data}):(tt(r,{code:e2.invalid_intersection_types}),tn)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([e,t])=>n(e,t)):n(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}tK.create=(e,t,r)=>new tK({left:e,right:t,typeName:c.ZodIntersection,...tf(r)});class tY extends th{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==e0.array)return tt(r,{code:e2.invalid_type,expected:e0.array,received:r.parsedType}),tn;if(r.data.length<this._def.items.length)return tt(r,{code:e2.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),tn;!this._def.rest&&r.data.length>this._def.items.length&&(tt(r,{code:e2.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let n=[...r.data].map((e,t)=>{let n=this._def.items[t]||this._def.rest;return n?n._parse(new td(r,e,r.path,t)):null}).filter(e=>!!e);return r.common.async?Promise.all(n).then(e=>tr.mergeArray(t,e)):tr.mergeArray(t,n)}get items(){return this._def.items}rest(e){return new tY({...this._def,rest:e})}}tY.create=(e,t)=>{if(!Array.isArray(e))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new tY({items:e,typeName:c.ZodTuple,rest:null,...tf(t)})};class tJ extends th{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==e0.object)return tt(r,{code:e2.invalid_type,expected:e0.object,received:r.parsedType}),tn;let n=[],i=this._def.keyType,s=this._def.valueType;for(let e in r.data)n.push({key:i._parse(new td(r,e,r.path,e)),value:s._parse(new td(r,r.data[e],r.path,e)),alwaysSet:e in r.data});return r.common.async?tr.mergeObjectAsync(t,n):tr.mergeObjectSync(t,n)}get element(){return this._def.valueType}static create(e,t,r){return new tJ(t instanceof th?{keyType:e,valueType:t,typeName:c.ZodRecord,...tf(r)}:{keyType:tO.create(),valueType:e,typeName:c.ZodRecord,...tf(t)})}}class tX extends th{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==e0.map)return tt(r,{code:e2.invalid_type,expected:e0.map,received:r.parsedType}),tn;let n=this._def.keyType,i=this._def.valueType,s=[...r.data.entries()].map(([e,t],s)=>({key:n._parse(new td(r,e,r.path,[s,"key"])),value:i._parse(new td(r,t,r.path,[s,"value"]))}));if(r.common.async){let e=new Map;return Promise.resolve().then(async()=>{for(let r of s){let n=await r.key,i=await r.value;if("aborted"===n.status||"aborted"===i.status)return tn;("dirty"===n.status||"dirty"===i.status)&&t.dirty(),e.set(n.value,i.value)}return{status:t.value,value:e}})}{let e=new Map;for(let r of s){let n=r.key,i=r.value;if("aborted"===n.status||"aborted"===i.status)return tn;("dirty"===n.status||"dirty"===i.status)&&t.dirty(),e.set(n.value,i.value)}return{status:t.value,value:e}}}}tX.create=(e,t,r)=>new tX({valueType:t,keyType:e,typeName:c.ZodMap,...tf(r)});class tQ extends th{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==e0.set)return tt(r,{code:e2.invalid_type,expected:e0.set,received:r.parsedType}),tn;let n=this._def;null!==n.minSize&&r.data.size<n.minSize.value&&(tt(r,{code:e2.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),t.dirty()),null!==n.maxSize&&r.data.size>n.maxSize.value&&(tt(r,{code:e2.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),t.dirty());let i=this._def.valueType;function s(e){let r=new Set;for(let n of e){if("aborted"===n.status)return tn;"dirty"===n.status&&t.dirty(),r.add(n.value)}return{status:t.value,value:r}}let a=[...r.data.values()].map((e,t)=>i._parse(new td(r,e,r.path,t)));return r.common.async?Promise.all(a).then(e=>s(e)):s(a)}min(e,t){return new tQ({...this._def,minSize:{value:e,message:d.toString(t)}})}max(e,t){return new tQ({...this._def,maxSize:{value:e,message:d.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}tQ.create=(e,t)=>new tQ({valueType:e,minSize:null,maxSize:null,typeName:c.ZodSet,...tf(t)});class t0 extends th{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==e0.function)return tt(t,{code:e2.invalid_type,expected:e0.function,received:t.parsedType}),tn;function r(e,r){return e7({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,e6,e8].filter(e=>!!e),issueData:{code:e2.invalid_arguments,argumentsError:r}})}function n(e,r){return e7({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,e6,e8].filter(e=>!!e),issueData:{code:e2.invalid_return_type,returnTypeError:r}})}let i={errorMap:t.common.contextualErrorMap},s=t.data;if(this._def.returns instanceof t6){let e=this;return ts(async function(...t){let a=new e3([]),o=await e._def.args.parseAsync(t,i).catch(e=>{throw a.addIssue(r(t,e)),a}),l=await Reflect.apply(s,this,o);return await e._def.returns._def.type.parseAsync(l,i).catch(e=>{throw a.addIssue(n(l,e)),a})})}{let e=this;return ts(function(...t){let a=e._def.args.safeParse(t,i);if(!a.success)throw new e3([r(t,a.error)]);let o=Reflect.apply(s,this,a.data),l=e._def.returns.safeParse(o,i);if(!l.success)throw new e3([n(o,l.error)]);return l.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new t0({...this._def,args:tY.create(e).rest(tD.create())})}returns(e){return new t0({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new t0({args:e||tY.create([]).rest(tD.create()),returns:t||tD.create(),typeName:c.ZodFunction,...tf(r)})}}class t1 extends th{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}t1.create=(e,t)=>new t1({getter:e,typeName:c.ZodLazy,...tf(t)});class t2 extends th{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return tt(t,{received:t.data,code:e2.invalid_literal,expected:this._def.value}),tn}return{status:"valid",value:e.data}}get value(){return this._def.value}}function t4(e,t){return new t3({values:e,typeName:c.ZodEnum,...tf(t)})}t2.create=(e,t)=>new t2({value:e,typeName:c.ZodLiteral,...tf(t)});class t3 extends th{_parse(e){if("string"!=typeof e.data){let t=this._getOrReturnCtx(e),r=this._def.values;return tt(t,{expected:l.joinValues(r),received:t.parsedType,code:e2.invalid_type}),tn}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){let t=this._getOrReturnCtx(e),r=this._def.values;return tt(t,{received:t.data,code:e2.invalid_enum_value,options:r}),tn}return ts(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return t3.create(e,{...this._def,...t})}exclude(e,t=this._def){return t3.create(this.options.filter(t=>!e.includes(t)),{...this._def,...t})}}t3.create=t4;class t8 extends th{_parse(e){let t=l.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==e0.string&&r.parsedType!==e0.number){let e=l.objectValues(t);return tt(r,{expected:l.joinValues(e),received:r.parsedType,code:e2.invalid_type}),tn}if(this._cache||(this._cache=new Set(l.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){let e=l.objectValues(t);return tt(r,{received:r.data,code:e2.invalid_enum_value,options:e}),tn}return ts(e.data)}get enum(){return this._def.values}}t8.create=(e,t)=>new t8({values:e,typeName:c.ZodNativeEnum,...tf(t)});class t6 extends th{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);return t.parsedType!==e0.promise&&!1===t.common.async?(tt(t,{code:e2.invalid_type,expected:e0.promise,received:t.parsedType}),tn):ts((t.parsedType===e0.promise?t.data:Promise.resolve(t.data)).then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}}t6.create=(e,t)=>new t6({type:e,typeName:c.ZodPromise,...tf(t)});class t5 extends th{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===c.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:r}=this._processInputParams(e),n=this._def.effect||null,i={addIssue:e=>{tt(r,e),e.fatal?t.abort():t.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),"preprocess"===n.type){let e=n.transform(r.data,i);if(r.common.async)return Promise.resolve(e).then(async e=>{if("aborted"===t.value)return tn;let n=await this._def.schema._parseAsync({data:e,path:r.path,parent:r});return"aborted"===n.status?tn:"dirty"===n.status||"dirty"===t.value?ti(n.value):n});{if("aborted"===t.value)return tn;let n=this._def.schema._parseSync({data:e,path:r.path,parent:r});return"aborted"===n.status?tn:"dirty"===n.status||"dirty"===t.value?ti(n.value):n}}if("refinement"===n.type){let e=e=>{let t=n.refinement(e,i);if(r.common.async)return Promise.resolve(t);if(t instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(r=>"aborted"===r.status?tn:("dirty"===r.status&&t.dirty(),e(r.value).then(()=>({status:t.value,value:r.value}))));{let n=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===n.status?tn:("dirty"===n.status&&t.dirty(),e(n.value),{status:t.value,value:n.value})}}if("transform"===n.type)if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(e=>tl(e)?Promise.resolve(n.transform(e.value,i)).then(e=>({status:t.value,value:e})):tn);else{let e=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!tl(e))return tn;let s=n.transform(e.value,i);if(s instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:s}}l.assertNever(n)}}t5.create=(e,t,r)=>new t5({schema:e,typeName:c.ZodEffects,effect:t,...tf(r)}),t5.createWithPreprocess=(e,t,r)=>new t5({schema:t,effect:{type:"preprocess",transform:e},typeName:c.ZodEffects,...tf(r)});class t9 extends th{_parse(e){return this._getType(e)===e0.undefined?ts(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}t9.create=(e,t)=>new t9({innerType:e,typeName:c.ZodOptional,...tf(t)});class t7 extends th{_parse(e){return this._getType(e)===e0.null?ts(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}t7.create=(e,t)=>new t7({innerType:e,typeName:c.ZodNullable,...tf(t)});class re extends th{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return t.parsedType===e0.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}re.create=(e,t)=>new re({innerType:e,typeName:c.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...tf(t)});class rt extends th{_parse(e){let{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},n=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return tu(n)?n.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new e3(r.common.issues)},input:r.data})})):{status:"valid",value:"valid"===n.status?n.value:this._def.catchValue({get error(){return new e3(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}rt.create=(e,t)=>new rt({innerType:e,typeName:c.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...tf(t)});class rr extends th{_parse(e){if(this._getType(e)!==e0.nan){let t=this._getOrReturnCtx(e);return tt(t,{code:e2.invalid_type,expected:e0.nan,received:t.parsedType}),tn}return{status:"valid",value:e.data}}}rr.create=e=>new rr({typeName:c.ZodNaN,...tf(e)});let rn=Symbol("zod_brand");class ri extends th{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class rs extends th{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{let e=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?tn:"dirty"===e.status?(t.dirty(),ti(e.value)):this._def.out._parseAsync({data:e.value,path:r.path,parent:r})})();{let e=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?tn:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:r.path,parent:r})}}static create(e,t){return new rs({in:e,out:t,typeName:c.ZodPipeline})}}class ra extends th{_parse(e){let t=this._def.innerType._parse(e),r=e=>(tl(e)&&(e.value=Object.freeze(e.value)),e);return tu(t)?t.then(e=>r(e)):r(t)}unwrap(){return this._def.innerType}}function ro(e,t){let r="function"==typeof e?e(t):"string"==typeof e?{message:e}:e;return"string"==typeof r?{message:r}:r}function rl(e,t={},r){return e?tZ.create().superRefine((n,i)=>{let s=e(n);if(s instanceof Promise)return s.then(e=>{if(!e){let e=ro(t,n),s=e.fatal??r??!0;i.addIssue({code:"custom",...e,fatal:s})}});if(!s){let e=ro(t,n),s=e.fatal??r??!0;i.addIssue({code:"custom",...e,fatal:s})}}):tZ.create()}ra.create=(e,t)=>new ra({innerType:e,typeName:c.ZodReadonly,...tf(t)});let ru={object:tW.lazycreate};!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(c||(c={}));let rd=(e,t={message:`Input not instance of ${e.name}`})=>rl(t=>t instanceof e,t),rc=tO.create,rf=tN.create,rh=rr.create,rp=tR.create,ry=tP.create,rm=tL.create,rg=tj.create,rb=tU.create,rv=tM.create,rw=tZ.create,rx=tD.create,r_=tF.create,rE=tV.create,rA=tH.create,rI=tW.create,rT=tW.strictCreate,rk=tG.create,rS=tz.create,r$=tK.create,rC=tY.create,rB=tJ.create,rO=tX.create,rN=tQ.create,rR=t0.create,rP=t1.create,rL=t2.create,rj=t3.create,rU=t8.create,rM=t6.create,rZ=t5.create,rD=t9.create,rF=t7.create,rV=t5.createWithPreprocess,rH=rs.create,rW=()=>rc().optional(),rG=()=>rf().optional(),rq=()=>ry().optional(),rz={string:e=>tO.create({...e,coerce:!0}),number:e=>tN.create({...e,coerce:!0}),boolean:e=>tP.create({...e,coerce:!0}),bigint:e=>tR.create({...e,coerce:!0}),date:e=>tL.create({...e,coerce:!0})},rK=tn,rY=e=>e.message?e.message:"unspecified error";class rJ extends N{constructor(e){super(),this.code=1100,this.errors=e,super.message=`Web3 validator found ${e.length} error[s]:
${this._compileErrors().join("\n")}`}_compileErrors(){return this.errors.map(rY)}}let rX=["bool","int","uint","bytes","string","address","tuple"],rQ=e=>"object"==typeof e&&"type"in e&&"name"in e,r0=e=>"string"==typeof e&&/^((-)?0x[0-9a-f]+|(0x))$/i.test(e),r1=e=>"number"==typeof e||"bigint"==typeof e||"string"==typeof e&&/^((-0x|0x|-)?[0-9a-f]+|(0x))$/i.test(e),r2=["hex","number","blockNumber","blockNumberOrTag","filter","bloom"],r4=e=>{let t,r=e.replace(/ /,""),n=!1,i=[];if(e.includes("[")&&(r=r.slice(0,r.indexOf("[")),n=(i=[...e.matchAll(/(?:\[(\d*)\])/g)].map(e=>parseInt(e[1],10)).map(e=>Number.isNaN(e)?-1:e)).length>0),rX.includes(r))return{baseType:r,isArray:n,baseTypeSize:t,arraySizes:i};if(r.startsWith("int"))t=parseInt(r.substring(3),10),r="int";else if(r.startsWith("uint"))t=parseInt(e.substring(4),10),r="uint";else{if(!r.startsWith("bytes"))return{baseType:void 0,isArray:!1,baseTypeSize:void 0,arraySizes:i};t=parseInt(r.substring(5),10),r="bytes"}return{baseType:r,isArray:n,baseTypeSize:t,arraySizes:i}},r3=(e,t={})=>{if(Object.keys(t).includes("type"))throw new rJ([{keyword:"eth",message:'Either "eth" or "type" can be presented in schema',params:{eth:e},instancePath:"",schemaPath:""}]);let{baseType:r,baseTypeSize:n}=r4(e);if(!r&&!r2.includes(e))throw new rJ([{keyword:"eth",message:`Eth data type "${e}" is not valid`,params:{eth:e},instancePath:"",schemaPath:""}]);if(r){if("tuple"===r)throw Error('"tuple" type is not implemented directly.');return{format:`${r}${null!=n?n:""}`,required:!0}}return e?{format:e,required:!0}:{}},r8=(e,t="/0")=>{let r={type:"array",items:[],maxItems:e.length,minItems:e.length};for(let[n,i]of e.entries()){let e,s,a,o=[];rQ(i)?(e=i.type,s=i.name||`${t}/${n}`,o=i.components):"string"==typeof i?(e=i,s=`${t}/${n}`):Array.isArray(i)&&(i[0]&&"string"==typeof i[0]&&i[0].startsWith("tuple")&&!Array.isArray(i[0])&&i[1]&&Array.isArray(i[1])?(e=i[0],s=`${t}/${n}`,o=i[1]):(e="tuple",s=`${t}/${n}`,o=i));let{baseType:l,isArray:u,arraySizes:d}=r4(e),c=r;for(let e=d.length-1;e>0;e-=1)a={type:"array",$id:s,items:[],maxItems:d[e],minItems:d[e]},d[e]<0&&(delete a.maxItems,delete a.minItems),Array.isArray(c.items)?0===c.items.length?c.items=[a]:c.items.push(a):c.items=[c.items,a],c=a;if("tuple"!==l||u)if("tuple"===l&&u){let e=d[0],t=Object.assign({type:"array",$id:s,items:r8(o,s)},e>=0&&{minItems:e,maxItems:e});c.items.push(t)}else if(u){let t=d[0],r=Object.assign({type:"array",$id:s,items:r3(e)},t>=0&&{minItems:t,maxItems:t});c.items.push(r)}else Array.isArray(c.items),c.items.push(Object.assign({$id:s},r3(e)));else{let e=r8(o,s);e.$id=s,c.items.push(e)}c=r}return r},r6=e=>r8(e),r5=(e,t)=>1===t?e:r5(e[0],t-1),r9=(e,t,r)=>{let n=[];for(let[i,s]of e.entries()){let e,a,o=[];rQ(s)?(e=s.type,a=s.name,o=s.components):"string"==typeof s?e=s:Array.isArray(s)&&(s[1]&&Array.isArray(s[1])?(e=s[0],o=s[1]):(e="tuple",o=s));let{baseType:l,isArray:u,arraySizes:d}=r4(e),c=Array.isArray(t)?t[i]:t[a];if("tuple"!==l||u)if("tuple"===l&&u){let e=[];for(let t of c)if(d.length>1){let n=r5(t,d.length-1),i=[];for(let e of n)i.push(r9(o,e,r));e.push(i)}else e.push(r9(o,t,r));n.push(e)}else n.push(c);else n.push(r9(o,c,r))}return(r=null!=r?r:[]).push(...n),r},r7=e=>{if(e>=48&&e<=57)return e-48;if(e>=65&&e<=70)return e-55;if(e>=97&&e<=102)return e-87;throw Error(`Invalid code point: ${e}`)},ne=e=>{if(!r0(e))throw Error("Invalid hex string");let[t,r]=e.startsWith("-")?[!0,e.slice(1)]:[!1,e],n=BigInt(r);return n>Number.MAX_SAFE_INTEGER?t?-n:n:n<Number.MIN_SAFE_INTEGER?n:t?-1*Number(n):Number(n)},nt=e=>{if(("number"==typeof e||"bigint"==typeof e)&&e<0)return`-0x${e.toString(16).slice(1)}`;if(("number"==typeof e||"bigint"==typeof e)&&e>=0)return`0x${e.toString(16)}`;if("string"==typeof e&&r0(e)){let[t,r]=e.startsWith("-")?[!0,e.slice(1)]:[!1,e],n=r.split(/^(-)?0(x|X)/).slice(-1)[0];return`${t?"-":""}0x${n.replace(/^0+/,"").toLowerCase()}`}if("string"==typeof e&&!r0(e))return nt(BigInt(e));throw new Z(e)},nr=(e,t,r="0")=>{if("string"==typeof e&&!r0(e))return e.padStart(t,r);let n="string"==typeof e&&r0(e)?e:nt(e),[i,s]=n.startsWith("-")?["-0x",n.slice(3)]:["0x",n.slice(2)];return`${i}${s.padStart(t,r)}`};function nn(e){let t="0x";for(let r of e){let e=r.toString(16);t+=1===e.length?`0${e}`:e}return t}let ni={zero:48,nine:57,A:65,F:70,a:97,f:102};function ns(e){return e>=ni.zero&&e<=ni.nine?e-ni.zero:e>=ni.A&&e<=ni.F?e-(ni.A-10):e>=ni.a&&e<=ni.f?e-(ni.a-10):void 0}function na(e){let t=0;if(e.startsWith("0")&&("x"===e[1]||"X"===e[1])&&(t=2),e.length%2!=0)throw new M(`hex string has odd length: ${e}`);let r=(e.length-t)/2,n=new Uint8Array(r);for(let i=0,s=t;i<r;i+=1){let t=ns(e.charCodeAt(s++)),r=ns(e.charCodeAt(s++));if(void 0===t||void 0===r)throw new M(`Invalid byte sequence ("${e[s-2]}${e[s-1]}" in "${e}").`);n[i]=16*t+r}return n}function no(e){var t;return e instanceof Uint8Array||(null==(t=null==e?void 0:e.constructor)?void 0:t.name)!=="Uint8Array"?e:Uint8Array.from(e)}let nl=e=>{var t,r;return e instanceof Uint8Array||(null==(t=null==e?void 0:e.constructor)?void 0:t.name)==="Uint8Array"||(null==(r=null==e?void 0:e.constructor)?void 0:r.name)==="Buffer"},nu=(e,t={abiType:"bytes"})=>{let r;if("string"!=typeof e&&!Array.isArray(e)&&!nl(e)||"string"==typeof e&&r0(e)&&e.startsWith("-")||"string"==typeof e&&!r0(e))return!1;if("string"==typeof e){if(e.length%2!=0)return!1;r=na(e)}else if(Array.isArray(e)){if(e.some(e=>e<0||e>255||!Number.isInteger(e)))return!1;r=new Uint8Array(e)}else r=e;if(null==t?void 0:t.abiType){let{baseTypeSize:e}=r4(t.abiType);return!e||r.length===e}return null==t||!t.size||r.length===(null==t?void 0:t.size)},nd=e=>{if(!/^(0x)?[0-9a-f]{40}$/i.test(e))return!1;let t=e.slice(2),r=nn(eQ(no(ek(t.toLowerCase())))).slice(2);for(let e=0;e<40;e+=1)if(parseInt(r[e],16)>7&&t[e].toUpperCase()!==t[e]||7>=parseInt(r[e],16)&&t[e].toLowerCase()!==t[e])return!1;return!0},nc=(e,t=!0)=>{let r;return("string"==typeof e||!!nl(e))&&(r=nl(e)?nn(e):"string"!=typeof e||r0(e)||e.toLowerCase().startsWith("0x")?e:`0x${e}`,!!/^(0x)?[0-9a-f]{40}$/i.test(r)&&(!!(/^(0x|0X)?[0-9a-f]{40}$/.test(r)||/^(0x|0X)?[0-9A-F]{40}$/.test(r))||!t||nd(r)))},nf=(e,t)=>{if(t===BigInt(0))return BigInt(1);let r=e;for(let n=1;n<t;n+=1)r*=e;return r},nh=(e,t={abiType:"uint"})=>{let r;if(!["number","string","bigint"].includes(typeof e)||"string"==typeof e&&0===e.length)return!1;if(null==t?void 0:t.abiType){let{baseTypeSize:e}=r4(t.abiType);e&&(r=e)}else t.bitSize&&(r=t.bitSize);let n=nf(BigInt(2),BigInt(null!=r?r:256))-BigInt(1);try{let t="string"==typeof e&&r0(e)?BigInt(ne(e)):BigInt(e);return t>=0&&t<=n}catch(e){return!1}},np=(e,t={abiType:"int"})=>{let r;if(!["number","string","bigint"].includes(typeof e)||"number"==typeof e&&e>Number.MAX_SAFE_INTEGER)return!1;if(null==t?void 0:t.abiType){let{baseTypeSize:e,baseType:n}=r4(t.abiType);if("int"!==n)return!1;e&&(r=e)}else t.bitSize&&(r=t.bitSize);let n=nf(BigInt(2),BigInt((null!=r?r:256)-1)),i=BigInt(-1)*nf(BigInt(2),BigInt((null!=r?r:256)-1));try{let t="string"==typeof e&&r0(e)?BigInt(ne(e)):BigInt(e);return t>=i&&t<=n}catch(e){return!1}},ny=e=>nh(e),nm=e=>Object.values(a).includes(e),ng=e=>nm(e)||ny(e),nb=e=>"string"==typeof e&&!!/^(0x)?[0-9a-f]{64}$/i.test(e)&&!!(/^(0x)?[0-9a-f]{64}$/.test(e)||/^(0x)?[0-9A-F]{64}$/.test(e)),nv={address:e=>nc(e),bloom:e=>(e=>"string"==typeof e&&!!/^(0x)?[0-9a-f]{512}$/i.test(e)&&!!(/^(0x)?[0-9a-f]{512}$/.test(e)||/^(0x)?[0-9A-F]{512}$/.test(e)))(e),blockNumber:e=>ny(e),blockTag:e=>nm(e),blockNumberOrTag:e=>ng(e),bool:e=>(e=>!!["number","string","boolean"].includes(typeof e)&&("boolean"==typeof e||("string"!=typeof e||r0(e)?"string"==typeof e&&r0(e)?"0x1"===e||"0x0"===e:1===e||0===e:"1"===e||"0"===e)))(e),bytes:e=>nu(e),filter:e=>(e=>{let t=["fromBlock","toBlock","address","topics","blockHash"];if(null==e||"object"!=typeof e||!Object.keys(e).every(e=>t.includes(e))||null!=e.fromBlock&&!ng(e.fromBlock)||null!=e.toBlock&&!ng(e.toBlock))return!1;if(null!=e.address){if(Array.isArray(e.address)){if(!e.address.every(e=>nc(e)))return!1}else if(!nc(e.address))return!1}return null==e.topics||!!e.topics.every(e=>null==e||(Array.isArray(e)?e.every(e=>nb(e)):!!nb(e)))})(e),hex:e=>r0(e),uint:e=>nh(e),int:e=>np(e),number:e=>(e=>!!(np(e)||"string"==typeof e&&/[0-9.]/.test(e)&&e.indexOf(".")===e.lastIndexOf("."))||"number"==typeof e)(e),string:e=>"string"==typeof e};for(let e=8;e<=256;e+=8)nv[`int${e}`]=t=>np(t,{bitSize:e}),nv[`uint${e}`]=t=>nh(t,{bitSize:e});for(let e=1;e<=32;e+=1)nv[`bytes${e}`]=t=>nu(t,{size:e});nv.bytes256=nv.bytes;let nw=e=>{if((!(null==e?void 0:e.type)||(null==e?void 0:e.type)==="object")&&(null==e?void 0:e.properties)){let t={};for(let r of Object.keys(e.properties)){let n=nw(e.properties[r]);n&&(t[r]=n)}return Array.isArray(e.required)?rI(t).partial().required(e.required.reduce((e,t)=>Object.assign(Object.assign({},e),{[t]:!0}),{})):rI(t).partial()}if((null==e?void 0:e.type)==="array"&&(null==e?void 0:e.items)){if(Array.isArray(e.items)&&e.items.length>1&&void 0!==e.maxItems&&new Set(e.items.map(e=>e.$id)).size===e.items.length){let t=[];for(let r of e.items){let e=nw(r);e&&t.push(e)}return rC(t)}let t=rA(nw(Array.isArray(e.items)?e.items[0]:e.items));return t=void 0!==e.minItems?t.min(e.minItems):t,t=void 0!==e.maxItems?t.max(e.maxItems):t}if(e.oneOf&&Array.isArray(e.oneOf))return rk(e.oneOf.map(e=>nw(e)));if(null==e?void 0:e.format){if(!nv[e.format])throw new ef(e.format);return rw().refine(nv[e.format],t=>({params:{value:t,format:e.format}}))}return(null==e?void 0:e.type)&&(null==e?void 0:e.type)!=="object"&&"function"==typeof I[String(e.type)]?I[String(e.type)]():rI({data:rw()}).partial()};class nx{static factory(){return nx.validatorInstance||(nx.validatorInstance=new nx),nx.validatorInstance}validate(e,t,r){var n,i;let s=nw(e).safeParse(t);if(!s.success){let e=this.convertErrors(null!=(i=null==(n=s.error)?void 0:n.issues)?i:[]);if(e){if(null==r?void 0:r.silent)return e;throw new rJ(e)}}}convertErrors(e){if(e&&Array.isArray(e)&&e.length>0)return e.map(e=>{var t;let r,n,i,s;s=e.path.join("/");let a=String(e.path[e.path.length-1]),o=e.path.join("/");if(e.code===e2.too_big)n="maxItems",s=`${o}/maxItems`,i={limit:e.maximum},r=`must NOT have more than ${e.maximum} items`;else if(e.code===e2.too_small)n="minItems",s=`${o}/minItems`,i={limit:e.minimum},r=`must NOT have fewer than ${e.minimum} items`;else if(e.code===e2.custom){let{value:n,format:a}=null!=(t=e.params)?t:{};r=void 0===n?`value at "/${s}" is required`:`value "${"object"==typeof n?JSON.stringify(n):n}" at "/${s}" must pass "${a}" validation`,i={value:n}}return{keyword:null!=n?n:a,instancePath:o?`/${o}`:"",schemaPath:s?`#${s}`:"#",params:null!=i?i:{value:e.message},message:null!=r?r:e.message}})}}class n_{constructor(){this._validator=nx.factory()}validateJSONSchema(e,t,r){return this._validator.validate(e,t,r)}validate(e,t,r={silent:!1}){var n,i;let s=r6(e);if(!Array.isArray(s.items)||(null==(n=s.items)?void 0:n.length)!==0||0!==t.length){if(Array.isArray(s.items)&&(null==(i=s.items)?void 0:i.length)===0&&0!==t.length)throw new rJ([{instancePath:"/0",schemaPath:"/",keyword:"required",message:"empty schema against data can not be validated",params:t}]);return this._validator.validate(s,t,r)}}}let nE=new n_;function nA(...e){let t=new Uint8Array(e.reduce((e,t)=>e+t.length,0)),r=0;for(let n of e)t.set(n,r),r+=n.length;return t}BigInt(0),BigInt(1),BigInt(1e3),BigInt(1e3),BigInt(1e3),BigInt(1e3),BigInt(1e6),BigInt(1e6),BigInt(1e6),BigInt(1e6),BigInt(1e9),BigInt(1e9),BigInt(1e9),BigInt(1e9),BigInt(1e9),BigInt(1e12),BigInt(1e12),BigInt(1e12),BigInt(1e15),BigInt(1e15),BigInt(1e15),BigInt("1000000000000000000"),BigInt("1000000000000000000000"),BigInt("1000000000000000000000"),BigInt("1000000000000000000000000"),BigInt("1000000000000000000000000000"),BigInt("1000000000000000000000000000000");let nI=e=>{if(nE.validate(["bytes"],[e]),function(e){var t,r;return e instanceof Uint8Array||(null==(t=null==e?void 0:e.constructor)?void 0:t.name)==="Uint8Array"||(null==(r=null==e?void 0:e.constructor)?void 0:r.name)==="Buffer"}(e))return e;if(Array.isArray(e))return new Uint8Array(e);if("string"==typeof e)return na(e);throw new M(e)},{uint8ArrayToHexString:nT}=T,nk=e=>{if("number"==typeof e)return e>1e20?(console.warn("Warning: Using type `number` with values that are large or contain many decimals may cause loss of precision, it is recommended to use type `string` or `BigInt` when using conversion methods"),BigInt(e)):e;if("bigint"==typeof e)return e>=Number.MIN_SAFE_INTEGER&&e<=Number.MAX_SAFE_INTEGER?Number(e):e;if("string"==typeof e&&r0(e))return(e=>(nE.validate(["hex"],[e]),ne(e)))(e);try{return nk(BigInt(e))}catch(t){throw new Z(e)}};r(12392);let{parseBaseType:nS}=T,n$=(e,t,r=[])=>{let n,i=Object.assign({},e);for(let e of t){if(i.oneOf&&n){let e=n,t=r.find(([t])=>t===e);t&&t[0]===n&&(i=i.oneOf[t[1]])}if(!i.properties&&!i.items)return;i.properties?i=i.properties[e]:i.items&&i.items.properties?i=i.items.properties[e]:i.items&&isObject(i.items)?i=i.items:i.items&&Array.isArray(i.items)&&(i=i.items[parseInt(e,10)]),i&&e&&(n=e)}return i},nC=(e,t,r)=>{try{let{baseType:n,baseTypeSize:i}=nS(t);if("int"===n||"uint"===n)switch(r.number){case FMT_NUMBER.NUMBER:return Number(toBigInt(e));case FMT_NUMBER.HEX:return numberToHex(toBigInt(e));case FMT_NUMBER.STR:return toBigInt(e).toString();case FMT_NUMBER.BIGINT:return toBigInt(e);default:throw new FormatterError(`Invalid format: ${String(r.number)}`)}if("bytes"===n){let t;switch(i?"string"==typeof e?t=padLeft(e,2*i):isUint8Array(e)&&(t=uint8ArrayConcat(new Uint8Array(i-e.length),e)):t=e,r.bytes){case FMT_BYTES.HEX:return bytesToHex(bytesToUint8Array(t));case FMT_BYTES.UINT8ARRAY:return bytesToUint8Array(t);default:throw new FormatterError(`Invalid format: ${String(r.bytes)}`)}}if("string"===n)return String(e)}catch(e){}return e},nB=({value:e,schemaProp:t,schema:r,object:n,key:i,dataPath:s,format:a,oneOfPath:o=[]})=>{var l,u;if(Array.isArray(e)){let d=t;if((null==t?void 0:t.oneOf)!==void 0&&t.oneOf.forEach((r,n)=>{var s,a;Array.isArray(null==t?void 0:t.items)||("object"!=typeof e[0]||(null==(s=null==r?void 0:r.items)?void 0:s.type)!=="object")&&("string"!=typeof e[0]||(null==(a=null==r?void 0:r.items)?void 0:a.type)==="object")||(d=r,o.push([i,n]))}),isNullish(null==d?void 0:d.items))return delete n[i],s.pop(),!0;if(isObject(d.items)&&!isNullish(d.items.format)){for(let t=0;t<e.length;t+=1)n[i][t]=nC(e[t],null==(l=null==d?void 0:d.items)?void 0:l.format,a);return s.pop(),!0}if(!Array.isArray(null==d?void 0:d.items)&&(null==(u=null==d?void 0:d.items)?void 0:u.type)==="object"){for(let t of e)nO(t,r,s,a,o);return s.pop(),!0}if(Array.isArray(null==d?void 0:d.items)){for(let t=0;t<e.length;t+=1)n[i][t]=nC(e[t],d.items[t].format,a);return s.pop(),!0}}return!1},nO=(e,t,r,n,i=[])=>{var s;if(!isObject(e)&&!Array.isArray(e))return nC(e,null==t?void 0:t.format,n);if(Array.isArray(e)&&(null==t?void 0:t.type)==="array"&&(null==(s=null==t?void 0:t.items)?void 0:s.type)==="object")nB({value:e,schemaProp:t,schema:t,object:e,key:"",dataPath:r,format:n,oneOfPath:i});else for(let[s,a]of Object.entries(e)){r.push(s);let o=n$(t,r,i);if(isNullish(o)){delete e[s],r.pop();continue}if(isObject(a)){nO(a,t,r,n,i),r.pop();continue}if(!nB({value:a,schemaProp:o,schema:t,object:e,key:s,dataPath:r,format:n,oneOfPath:i})){if((null==o?void 0:o.format)===void 0&&(null==o?void 0:o.oneOf)!==void 0){for(let[e,t]of o.oneOf.entries())if((null==t?void 0:t.format)!==void 0){o=t;break}}e[s]=nC(a,o.format,n),r.pop()}}return e};Symbol.toStringTag;let nN=e=>e.includes("[]")?{type:"tuple[]",name:e.slice(0,-2)}:{type:"tuple",name:e},nR=e=>{let t=[];for(let r of Object.keys(e)){let n=e[r];"object"==typeof n?t.push(Object.assign(Object.assign({},nN(r)),{components:nR(n)})):t.push({name:r,type:e[r]})}return t};var nP=r(14181);function nL(e=0){var t;if((null==(t=globalThis.Buffer)?void 0:t.alloc)!==void 0){let t=globalThis.Buffer.alloc(e);return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}return new Uint8Array(e)}function nj(e){return e.map(e=>{var t;if(null!=e&&"object"==typeof e&&null!=e.type&&"string"==typeof e.type)return e;if("string"==typeof e)return function e(t){var r,n;return Object.assign(Object.assign({},t),{name:null!=(r=t.name)?r:"",components:null==(n=t.components)?void 0:n.map(t=>e(t))})}((0,nP.parseAbiParameter)(e.replace(/tuple/,"")));if("object"==typeof e&&void 0===e.components&&void 0===e.name){let r=Object.keys(e)[0],n=nN(r);return n.name=null!=(t=n.name)?t:"",Object.assign(Object.assign({},n),{components:nR(e[r])})}throw new j("Invalid abi")})}function nU(e){let t=e.type.lastIndexOf("["),r=e.type.substring(0,t),n=e.type.substring(t),i=-1;if("[]"!==n&&isNaN(i=Number(n.slice(1,-1))))throw new j("Invalid fixed array size",{size:n});return{param:{type:r,name:"",components:e.components},size:i}}function nM(e){var t,r;return!!("string"===e.type||"bytes"===e.type||e.type.endsWith("[]"))||("tuple"===e.type?null!=(r=null==(t=e.components)?void 0:t.some(nM))&&r:!!e.type.endsWith("]")&&nM(nU(e).param))}let nZ=new Map,nD=BigInt(256);for(let e=8;e<=256;e+=8)nZ.set(`uint${e}`,{min:BigInt(0),max:nD-BigInt(1)}),nZ.set(`int${e}`,{min:-nD/BigInt(2),max:nD/BigInt(2)-BigInt(1)}),nD*=BigInt(256);nZ.set("int",nZ.get("int256")),nZ.set("uint",nZ.get("uint256"));let nF=BigInt(1)<<BigInt(256);function nV(e,t){let r;try{r=(e=>{if("number"==typeof e)return BigInt(e);if("bigint"==typeof e)return e;if("string"==typeof e&&r1(e))return e.startsWith("-")?-BigInt(e.substring(1)):BigInt(e);throw new Z(e)})(t)}catch(r){throw new j("provided input is not number value",{type:e.type,value:t,name:e.name})}let n=nZ.get(e.type);if(!n)throw new j("provided abi contains invalid number datatype",{type:e.type});if(r<n.min)throw new j("provided input is less then minimum for given type",{type:e.type,value:t,name:e.name,minimum:n.min.toString()});if(r>n.max)throw new j("provided input is greater then maximum for given type",{type:e.type,value:t,name:e.name,maximum:n.max.toString()});return{dynamic:!1,encoded:function(e,t=32){return na(((e,t,r="0")=>"string"==typeof e?r0(e)?nr(e,t,r):e.padStart(t,r):(nE.validate(["int"],[e]),nr(e,t,r)))(e<0?(nF+e).toString(16):e.toString(16),2*t))}(r)}}function nH(e,t){if(t.length<32)throw new j("Not enough bytes left to decode",{param:e,bytesLeft:t.length});let r=t.subarray(0,32),n=nZ.get(e.type);if(!n)throw new j("provided abi contains invalid number datatype",{type:e.type});let i=function(e,t){let r=BigInt(nn(e));return r<=t?r:r-nF}(r,n.max);if(i<n.min)throw new j("decoded value is less then minimum for given type",{type:e.type,value:i,name:e.name,minimum:n.min.toString()});if(i>n.max)throw new j("decoded value is greater then maximum for given type",{type:e.type,value:i,name:e.name,maximum:n.max.toString()});return{result:i,encoded:t.subarray(32),consumed:32}}function nW(e,t){if("string"==typeof t&&t.length%2!=0&&(t+="0"),!nu(t))throw new j("provided input is not valid bytes value",{type:e.type,value:t,name:e.name});let r=nI(t),[,n]=e.type.split("bytes");if(n){if(Number(n)>32||1>Number(n))throw new j("invalid bytes type. Static byte type can have between 1 and 32 bytes",{type:e.type});if(Number(n)<r.length)throw new j("provided input size is different than type size",{type:e.type,value:t,name:e.name});let i=nL(32);return i.set(r),{dynamic:!1,encoded:i}}let i=nL(32+32*Math.ceil(r.length/32));return i.set(nV({type:"uint32",name:""},r.length).encoded),i.set(r,32),{dynamic:!0,encoded:i}}function nG(e,t){let[,r]=e.type.split("bytes"),n=Number(r),i=t,s=1,a=0;if(!n){let e=nH({type:"uint32",name:""},i);n=Number(e.result),a+=e.consumed,i=e.encoded,s=Math.ceil(n/32)}if(n>t.length)throw new j("there is not enough data to decode",{type:e.type,encoded:t,size:n});return{result:nT(nI(i.subarray(0,n))),encoded:i.subarray(32*s),consumed:a+32*s}}function nq(e){let t=0,r=0,n=[],i=[];for(let r of e)r.dynamic?t+=32:t+=r.encoded.length;for(let s of e)s.dynamic?(n.push(nV({type:"uint256",name:""},t+r)),i.push(s),r+=s.encoded.length):n.push(s);return nA(...n.map(e=>e.encoded),...i.map(e=>e.encoded))}function nz(e,t){if("string"===e.type){if("string"!=typeof t)throw new j("invalid input, should be string",{input:t});return nW({type:"bytes",name:""},ek(t))}if("bool"===e.type){let r;try{r=(e=>{if("boolean"==typeof e)return e;if("number"==typeof e&&(0===e||1===e)||"bigint"==typeof e&&(e===BigInt(0)||e===BigInt(1)))return!!e;if("string"==typeof e&&!r0(e)&&("1"===e||"0"===e||"false"===e||"true"===e))return"true"===e||"false"!==e&&!!Number(e);if("string"==typeof e&&r0(e)&&("0x1"===e||"0x0"===e))return!!nk(e);throw new W(e)})(t)}catch(r){if(r instanceof W)throw new j("provided input is not valid boolean value",{type:e.type,value:t,name:e.name})}return nV({type:"uint8",name:""},Number(r))}if("address"===e.type){if("string"!=typeof t)throw new j("address type expects string as input type",{value:t,name:e.name,type:e.type});let r=t.toLowerCase();if(r.startsWith("0x")||(r=`0x${r}`),!nc(r))throw new j("provided input is not valid address",{value:t,name:e.name,type:e.type});let n=na(r),i=nL(32);return i.set(n,12),{dynamic:!1,encoded:i}}if("tuple"===e.type)return nY(e,t);if(e.type.endsWith("]"))return function(e,t){if(!Array.isArray(t))throw new j("Expected value to be array",{abi:e,values:t});let{size:r,param:n}=nU(e),i=t.map(e=>nz(n,e)),s=-1===r,a=i.length>0&&i[0].dynamic;if(!s&&t.length!==r)throw new j("Given arguments count doesn't match array length",{arrayLength:r,argumentsLength:t.length});if(s||a){let e=nq(i);if(s){let t=nV({type:"uint256",name:""},i.length).encoded;return{dynamic:!0,encoded:i.length>0?nA(t,e):t}}return{dynamic:!0,encoded:e}}return{dynamic:!1,encoded:nA(...i.map(e=>e.encoded))}}(e,t);if(e.type.startsWith("bytes"))return nW(e,t);if(e.type.startsWith("uint")||e.type.startsWith("int"))return nV(e,t);throw new j("Unsupported",{param:e,value:t})}function nK(e,t){if("string"===e.type){var r;let e=nG({type:"bytes",name:""},t);return{result:eJ("string"==typeof(r=e.result)&&"0x"!==r.slice(0,2).toLowerCase()?nI(`0x${r}`):nI(r)),encoded:e.encoded,consumed:e.consumed}}if("bool"===e.type){let e=nH({type:"uint8",name:""},t);if(e.result>1||e.result<0)throw new j("Invalid boolean value encoded",{boolBytes:t.subarray(0,32),numberResult:e});return{result:e.result===BigInt(1),encoded:e.encoded,consumed:32}}if("address"===e.type){let e=t.subarray(12,32);if(20!==e.length)throw new j("Invalid decoding input, not enough bytes to decode address",{bytes:t});return{result:(e=>{if(!nc(e,!1))throw new D(e);let t=e.toLowerCase().replace(/^0x/i,""),r=nn(eQ(no(ek(t))));if(null==r||"0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470"===r)return"";let n="0x",i=r.replace(/^0x/i,"");for(let e=0;e<t.length;e+=1)parseInt(i[e],16)>7?n+=t[e].toUpperCase():n+=t[e];return n})(nn(e)),encoded:t.subarray(32),consumed:32}}if("tuple"===e.type)return nJ(e,t);if(e.type.endsWith("]"))return function(e,t){let{size:r,param:n}=nU(e),i=0,s=[],a=t;if(-1===r){let e=nH({type:"uint32",name:""},t);r=Number(e.result),i=e.consumed,a=e.encoded}if(nM(n)){for(let e=0;e<r;e+=1){let t=nH({type:"uint32",name:""},a.subarray(32*e));i+=t.consumed;let r=nK(n,a.subarray(Number(t.result)));i+=r.consumed,s.push(r.result)}return{result:s,encoded:a.subarray(i),consumed:i}}for(let e=0;e<r;e+=1){let e=nK(n,t.subarray(i));i+=e.consumed,s.push(e.result)}return{result:s,encoded:t.subarray(i),consumed:i}}(e,t);if(e.type.startsWith("bytes"))return nG(e,t);if(e.type.startsWith("uint")||e.type.startsWith("int"))return nH(e,t);throw new j("Unsupported",{param:e,bytes:t})}function nY(e,t){var r,n,i;let s=!1;if(!Array.isArray(t)&&"object"!=typeof t)throw new j("param must be either Array or Object",{param:e,input:t});let a=[];for(let o=0;o<(null!=(n=null==(r=e.components)?void 0:r.length)?n:0);o+=1){let r,n=e.components[o];if(Array.isArray(t)){if(o>=t.length)throw new j("input param length missmatch",{param:e,input:t});r=nz(n,t[o])}else{let s=t[null!=(i=n.name)?i:""];if(null==s)throw new j("missing input defined in abi",{param:e,input:t,paramName:n.name});r=nz(n,s)}r.dynamic&&(s=!0),a.push(r)}return s?{dynamic:!0,encoded:nq(a)}:{dynamic:!1,encoded:nA(...a.map(e=>e.encoded))}}function nJ(e,t){let r={__length__:0},n=0;if(!e.components)return{result:r,encoded:t,consumed:n};let i=0;for(let[s,a]of e.components.entries()){let e;if(nM(a)){let r=nH({type:"uint32",name:""},t.subarray(n));e=nK(a,t.subarray(Number(r.result))),n+=r.consumed,i+=e.consumed}else e=nK(a,t.subarray(n)),n+=e.consumed;r.__length__+=1,r[s]=e.result,a.name&&""!==a.name&&(r[a.name]=e.result)}return{encoded:t.subarray(n+i),result:r,consumed:n+i}}function nX(e,t){if((null==e?void 0:e.length)!==t.length)throw new j("Invalid number of values received for given ABI",{expected:null==e?void 0:e.length,received:t.length});return nn(nY({type:"tuple",name:"",components:nj(e)},t).encoded)}let nQ=(e,t)=>nX([e],[t]),n0=(e,t)=>((e,t,r)=>{try{if(e.length>0&&(!t||"0x"===t||"0X"===t))throw new j("Returned values aren't valid, did it run Out of Gas? You might also see this error if you are not using the correct ABI for the contract you are retrieving data from, requesting data from a block number that does not exist, or querying a node which is not fully synced.");return function(e,t,r){let n=nj(e);return nJ({type:"tuple",name:"",components:n},na(t)).result}(e,`0x${t.replace(/0x/i,"")}`,0)}catch(e){throw new j(`Parameter decoding error: ${e.message}`,{internalErr:e})}})(e,t,0),n1=/^\w+/,n2=/^(.*)\[([0-9]*?)]$/,n4=(e,t,r=[])=>{let n=t.match(n1)[0];return r.includes(n)||!e.types[n]?r:[n,...e.types[n].reduce((t,r)=>[...t,...n4(e,r.type,t).filter(e=>!t.includes(e))],[])]},n3=(e,t,r)=>{let n=t.match(n2);if(n){let t=n[1],i=Number(n[2])||void 0;if(!Array.isArray(r))throw new AbiError("Cannot encode data: value is not of array type",{data:r});if(i&&r.length!==i)throw new AbiError(`Cannot encode data: expected length of ${i}, but got ${r.length}`,{data:r});let s=r.map(r=>n3(e,t,r));return["bytes32",keccak256(encodeParameters(s.map(e=>e[0]),s.map(e=>e[1])))]}return e.types[t]?["bytes32",keccak256(n8(e,t,r))]:"string"===t||"bytes"===t?["bytes32",keccak256(r)]:[t,r]},n8=(e,t,r)=>{let[n,i]=e.types[t].reduce(([t,n],i)=>{if(isNullish(r[i.name])||isNullish(i.type))throw new AbiError(`Cannot encode data: missing data for '${i.name}'`,{data:r,field:i});let s=r[i.name],[a,o]=n3(e,i.type,s);return[[...t,a],[...n,o]]},[["bytes32"],[keccak256(((e,t)=>{let[r,...n]=n4(e,t);return[r,...n.sort()].map(t=>`${t}(${e.types[t].map(e=>`${e.type} ${e.name}`)})`).join("")})(e,t))]]);return encodeParameters(n,i)};function n6(e){var t,r;return e instanceof Uint8Array||(null==(t=null==e?void 0:e.constructor)?void 0:t.name)==="Uint8Array"||(null==(r=null==e?void 0:e.constructor)?void 0:r.name)==="Buffer"}!function(e){e.GET_DATA_LEGACY="getDataLegacy",e.GET_DATA="getData",e.GET_DATA_BATCH="getDataBatch",e.OWNER="owner",e.SUPPORTS_INTERFACE="supportsInterface",e.IS_VALID_SIGNATURE="isValidSignature"}(f||(f={})),function(e){e.BYTES="bytes",e.BYTES4="bytes4",e.BOOL="bool",e.UINT256="uint256",e.BYTES32_ARRAY="bytes32[]",e.BYTES_ARRAY="bytes[]",e.ADDRESS="address"}(h||(h={})),BigInt(0),BigInt(1),BigInt(1e3),BigInt(1e3),BigInt(1e3),BigInt(1e3),BigInt(1e6),BigInt(1e6),BigInt(1e6),BigInt(1e6),BigInt(1e9),BigInt(1e9),BigInt(1e9),BigInt(1e9),BigInt(1e9),BigInt(1e12),BigInt(1e12),BigInt(1e12),BigInt(1e15),BigInt(1e15),BigInt(1e15),BigInt("1000000000000000000"),BigInt("1000000000000000000000"),BigInt("1000000000000000000000"),BigInt("1000000000000000000000000"),BigInt("1000000000000000000000000000"),BigInt("1000000000000000000000000000000");let n5=e=>{if(nE.validate(["bytes"],[e]),n6(e))return e;if(Array.isArray(e))return new Uint8Array(e);if("string"==typeof e)return na(e);throw new M(e)},{uint8ArrayToHexString:n9}=T,n7=e=>n9(n5(e)),ie=e=>"string"==typeof e&&"0x"!==e.slice(0,2).toLowerCase()?n5(`0x${e}`):n5(e),it=e=>(nE.validate(["hex"],[e]),ne(e)),ir=(e,t)=>{"bigint"!=typeof e&&nE.validate(["int"],[e]);let r=nt(e);return t&&(r.startsWith("-")||r.length%2!=1?r.length%2==0&&r.startsWith("-")&&(r="-0x0".concat(r.slice(3))):r="0x0".concat(r.slice(2))),r},ii=e=>{nE.validate(["string"],[e]);let t=e.replace(/^(?:\u0000)/,"");return t=t.replace(/(?:\u0000)$/,""),n7(new TextEncoder().encode(t))},is=e=>eJ(ie(e)),ia=(e,t)=>{if("string"==typeof e&&nc(e))return t?"address":`0x${e.toLowerCase().replace(/^0x/i,"")}`;if("boolean"==typeof e)return t?"bool":e?"0x01":"0x00";if("number"==typeof e)return t?e<0?"int256":"uint256":ir(e);if("bigint"==typeof e)return t?"bigint":ir(e);if(n6(e))return t?"bytes":n7(e);if("object"==typeof e&&e)return t?"string":ii(JSON.stringify(e));if("string"==typeof e){if(e.startsWith("-0x")||e.startsWith("-0X"))return t?"int256":ir(e);if(r0(e))return t?"bytes":e;if(r1(e)&&!np(e)&&!nh(e))return t?"bytes":`0x${e}`;if(r1(e)&&!np(e)&&nh(e))return t?"uint":ir(e);if(!Number.isFinite(e))return t?"string":ii(e)}throw new V(e)},io=e=>{if("number"==typeof e)return e>1e20?(console.warn("Warning: Using type `number` with values that are large or contain many decimals may cause loss of precision, it is recommended to use type `string` or `BigInt` when using conversion methods"),BigInt(e)):e;if("bigint"==typeof e)return e>=Number.MIN_SAFE_INTEGER&&e<=Number.MAX_SAFE_INTEGER?Number(e):e;if("string"==typeof e&&r0(e))return it(e);try{return io(BigInt(e))}catch(t){throw new Z(e)}},il=e=>{if(!nc(e,!1))throw new D(e);let t=e.toLowerCase().replace(/^0x/i,""),r=nn(eQ(no(ek(t))));if(null==r||"0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470"===r)return"";let n="0x",i=r.replace(/^0x/i,"");for(let e=0;e<t.length;e+=1)parseInt(i[e],16)>7?n+=t[e].toUpperCase():n+=t[e];return n},iu=(e,t,r="0")=>"string"==typeof e?r0(e)?nr(e,t,r):e.padStart(t,r):(nE.validate(["int"],[e]),nr(e,t,r)),id=(e,t,r="0")=>{if("string"==typeof e&&!r0(e))return e.padEnd(t,r);let n="string"==typeof e&&r0(e)?e:ir(e),i=n.startsWith("-")?3:2;return nE.validate([n.startsWith("-")?"int":"uint"],[e]),n.padEnd(t+i,r)},{parseBaseType:ic}=T,ih=(e,t,r=[])=>{let n,i=Object.assign({},e);for(let e of t){if(i.oneOf&&n){let e=n,t=r.find(([t])=>t===e);t&&t[0]===n&&(i=i.oneOf[t[1]])}if(!i.properties&&!i.items)return;i.properties?i=i.properties[e]:i.items&&i.items.properties?i=i.items.properties[e]:i.items&&isObject(i.items)?i=i.items:i.items&&Array.isArray(i.items)&&(i=i.items[parseInt(e,10)]),i&&e&&(n=e)}return i},ip=(e,t,r)=>{try{let{baseType:n,baseTypeSize:i}=ic(t);if("int"===n||"uint"===n)switch(r.number){case FMT_NUMBER.NUMBER:return Number(toBigInt(e));case FMT_NUMBER.HEX:return numberToHex(toBigInt(e));case FMT_NUMBER.STR:return toBigInt(e).toString();case FMT_NUMBER.BIGINT:return toBigInt(e);default:throw new FormatterError(`Invalid format: ${String(r.number)}`)}if("bytes"===n){let t;switch(i?"string"==typeof e?t=padLeft(e,2*i):isUint8Array(e)&&(t=uint8ArrayConcat(new Uint8Array(i-e.length),e)):t=e,r.bytes){case FMT_BYTES.HEX:return bytesToHex(bytesToUint8Array(t));case FMT_BYTES.UINT8ARRAY:return bytesToUint8Array(t);default:throw new FormatterError(`Invalid format: ${String(r.bytes)}`)}}if("string"===n)return String(e)}catch(e){}return e},iy=({value:e,schemaProp:t,schema:r,object:n,key:i,dataPath:s,format:a,oneOfPath:o=[]})=>{var l,u;if(Array.isArray(e)){let d=t;if((null==t?void 0:t.oneOf)!==void 0&&t.oneOf.forEach((r,n)=>{var s,a;Array.isArray(null==t?void 0:t.items)||("object"!=typeof e[0]||(null==(s=null==r?void 0:r.items)?void 0:s.type)!=="object")&&("string"!=typeof e[0]||(null==(a=null==r?void 0:r.items)?void 0:a.type)==="object")||(d=r,o.push([i,n]))}),isNullish(null==d?void 0:d.items))return delete n[i],s.pop(),!0;if(isObject(d.items)&&!isNullish(d.items.format)){for(let t=0;t<e.length;t+=1)n[i][t]=ip(e[t],null==(l=null==d?void 0:d.items)?void 0:l.format,a);return s.pop(),!0}if(!Array.isArray(null==d?void 0:d.items)&&(null==(u=null==d?void 0:d.items)?void 0:u.type)==="object"){for(let t of e)im(t,r,s,a,o);return s.pop(),!0}if(Array.isArray(null==d?void 0:d.items)){for(let t=0;t<e.length;t+=1)n[i][t]=ip(e[t],d.items[t].format,a);return s.pop(),!0}}return!1},im=(e,t,r,n,i=[])=>{var s;if(!isObject(e)&&!Array.isArray(e))return ip(e,null==t?void 0:t.format,n);if(Array.isArray(e)&&(null==t?void 0:t.type)==="array"&&(null==(s=null==t?void 0:t.items)?void 0:s.type)==="object")iy({value:e,schemaProp:t,schema:t,object:e,key:"",dataPath:r,format:n,oneOfPath:i});else for(let[s,a]of Object.entries(e)){r.push(s);let o=ih(t,r,i);if(isNullish(o)){delete e[s],r.pop();continue}if(isObject(a)){im(a,t,r,n,i),r.pop();continue}if(!iy({value:a,schemaProp:o,schema:t,object:e,key:s,dataPath:r,format:n,oneOfPath:i})){if((null==o?void 0:o.format)===void 0&&(null==o?void 0:o.oneOf)!==void 0){for(let[e,t]of o.oneOf.entries())if((null==t?void 0:t.format)!==void 0){o=t;break}}e[s]=ip(a,o.format,n),r.pop()}}return e},ig=e=>n7(eQ(no("bigint"==typeof e||"number"==typeof e?ek(e.toString()):Array.isArray(e)?new Uint8Array(e):"string"!=typeof e||r0(e)?n5(e):ek(e)))),ib=(e,t)=>{let r=/^(\d+).*$/.exec(e.slice(t));return r?parseInt(r[1],10):0},iv=e=>e.toString(2).length,iw=(e,t)=>{let r=t.toString();if("string"===e){if("string"==typeof t)return ii(t);throw new F(t)}if("bool"===e||"boolean"===e){if("boolean"==typeof t)return t?"01":"00";throw new W(t)}if("address"===e){if(!nc(r))throw new D(r);return r}let n=(e=>e.startsWith("int[")?`int256${e.slice(3)}`:"int"===e?"int256":e.startsWith("uint[")?`uint256'${e.slice(4)}`:"uint"===e?"uint256":e)(e);if(e.startsWith("uint")){let e=ib(n,4);if(e%8||e<8||e>256)throw new q(r);let t=io(r);if(iv(t)>e)throw new z(r);if(t<BigInt(0))throw new G(r);return e?iu(t.toString(16),e/8*2):t.toString(16)}if(e.startsWith("int")){let t=ib(n,3);if(t%8||t<8||t>256)throw new q(e);let i=io(r);if(iv(i)>t)throw new z(r);return i<BigInt(0)?((e,t=64)=>{nE.validate(["int"],[e]);let r=io(e);if(r>=0)return iu(ia(r),t);let n=nf(BigInt(2),BigInt(4*t));if(-r>=n)throw new H(`value: ${e}, nibbleWidth: ${t}`);return iu(ir(BigInt(r)+n),t)})(i.toString(),t/8*2):t?iu(i.toString(16),t/4):i.toString(16)}if("bytes"===n){if(r.replace(/^0x/i,"").length%2!=0)throw new M(r);return r}if(e.startsWith("bytes")){if(r.replace(/^0x/i,"").length%2!=0)throw new M(r);let t=ib(e,5);if(!t||t<1||t>64||t<r.replace(/^0x/i,"").length/2)throw new M(r);return id(r,2*t)}return""},ix=e=>{let[t,r]=(e=>{let t,r;if(Array.isArray(e))throw Error("Autodetection of array types is not supported.");if("object"==typeof e&&("t"in e||"type"in e)&&("v"in e||"value"in e))t="t"in e?e.t:e.type,r="v"in e?e.v:e.value,t="bigint"===t.toLowerCase()?"int":t;else{if("bigint"==typeof e)return["int",e];t=ia(e,!0),r=ia(e),t.startsWith("int")||t.startsWith("uint")||(t="bytes")}return(t.startsWith("int")||t.startsWith("uint"))&&"string"==typeof r&&!/^(-)?0x/i.test(r)&&(r=(e=>{if("number"==typeof e)return BigInt(e);if("bigint"==typeof e)return e;if("string"==typeof e&&r1(e))return e.startsWith("-")?-BigInt(e.substring(1)):BigInt(e);throw new Z(e)})(r)),[t,r]})(e);return Array.isArray(r)?r.map(e=>iw(t,e).replace("0x","")).join(""):iw(t,r).replace("0x","")};Symbol.toStringTag;let i_={legacy:"0x2bd57b73","2.0":"0x5a988c0f","3.0":"0x714df77c","5.0":"0x629aa694"};!function(e){e.NOT_ERC725="NOT_ERC725",e.ERC725_LEGACY="ERC725_LEGACY",e.ERC725_v2="ERC725_v2",e.ERC725_v5="ERC725_v5"}(p||(p={}));let iE={[f.GET_DATA_LEGACY]:{sig:"0x54f6127f",value:ir(0),returnEncoding:h.BYTES},[f.GET_DATA]:{sig:"0x4e3e6e9c",value:ir(0),returnEncoding:h.BYTES_ARRAY},[f.GET_DATA_BATCH]:{sig:"0xdedff9c6",value:ir(0),returnEncoding:h.BYTES_ARRAY},[f.OWNER]:{sig:"0x8da5cb5b",value:ir(0),returnEncoding:h.ADDRESS},[f.SUPPORTS_INTERFACE]:{sig:"0x01ffc9a7",value:ir(0),returnEncoding:h.BOOL},[f.IS_VALID_SIGNATURE]:{sig:"0x1626ba7e",value:ir(0),returnEncoding:h.BYTES4}},iA="0x00000000";!function(e){e.KECCAK256_UTF8="keccak256(utf8)",e.KECCAK256_BYTES="keccak256(bytes)"}(y||(y={})),function(e){e.HASH_KECCAK256_UTF8="0x6f357c6a",e.HASH_KECCAK256_BYTES="0x8019f9b1"}(m||(m={}));let iI=Object.values(y);function iT(e){return null===e?ig(""):e instanceof Uint8Array?ig(ia(e)):"object"==typeof e?ig(JSON.stringify(e)):ig(e)}let ik={method:iT,name:y.KECCAK256_UTF8,sig:m.HASH_KECCAK256_UTF8},iS={method:iT,name:y.KECCAK256_BYTES,sig:m.HASH_KECCAK256_BYTES},i$={[y.KECCAK256_UTF8]:ik,[m.HASH_KECCAK256_UTF8]:ik,[y.KECCAK256_BYTES]:iS,[m.HASH_KECCAK256_BYTES]:iS},iC={CHANGEOWNER:"0x0000000000000000000000000000000000000000000000000000000000000001",ADDCONTROLLER:"0x0000000000000000000000000000000000000000000000000000000000000002",EDITPERMISSIONS:"0x0000000000000000000000000000000000000000000000000000000000000004",ADDEXTENSIONS:"0x0000000000000000000000000000000000000000000000000000000000000008",CHANGEEXTENSIONS:"0x0000000000000000000000000000000000000000000000000000000000000010",ADDUNIVERSALRECEIVERDELEGATE:"0x0000000000000000000000000000000000000000000000000000000000000020",CHANGEUNIVERSALRECEIVERDELEGATE:"0x0000000000000000000000000000000000000000000000000000000000000040",REENTRANCY:"0x0000000000000000000000000000000000000000000000000000000000000080",SUPER_TRANSFERVALUE:"0x0000000000000000000000000000000000000000000000000000000000000100",TRANSFERVALUE:"0x0000000000000000000000000000000000000000000000000000000000000200",SUPER_CALL:"0x0000000000000000000000000000000000000000000000000000000000000400",CALL:"0x0000000000000000000000000000000000000000000000000000000000000800",SUPER_STATICCALL:"0x0000000000000000000000000000000000000000000000000000000000001000",STATICCALL:"0x0000000000000000000000000000000000000000000000000000000000002000",SUPER_DELEGATECALL:"0x0000000000000000000000000000000000000000000000000000000000004000",DELEGATECALL:"0x0000000000000000000000000000000000000000000000000000000000008000",DEPLOY:"0x0000000000000000000000000000000000000000000000000000000000010000",SUPER_SETDATA:"0x0000000000000000000000000000000000000000000000000000000000020000",SETDATA:"0x0000000000000000000000000000000000000000000000000000000000040000",ENCRYPT:"0x0000000000000000000000000000000000000000000000000000000000080000",DECRYPT:"0x0000000000000000000000000000000000000000000000000000000000100000",SIGN:"0x0000000000000000000000000000000000000000000000000000000000200000",EXECUTE_RELAY_CALL:"0x0000000000000000000000000000000000000000000000000000000000400000",ERC4337_PERMISSION:"0x0000000000000000000000000000000000000000000000000000000000800000",ALL_PERMISSIONS:"0x00000000000000000000000000000000000000000000000000000000007f3f7f"},iB="[CompactBytesArray]",iO=/\[CompactBytesArray\]$/,iN=0;function iR(e,t){if(!t||"0x"===t||""===t)return null;let r=n0([iE[e].returnEncoding],t)["0"];return Array.isArray(r)&&1===r.length&&"0x"===r[0]?[null]:r}function iP(e,t,r,n){return iN+=1,{jsonrpc:"2.0",method:"eth_call",params:((e,t,r,n)=>{let i=n?iE[t].sig+n.replace("0x",""):iE[t].sig;return[{to:e,value:iE[t].value,...r?{gas:ir(r)}:{},data:i},"latest"]})(e,t,r,n),id:iN}}!function(e){e.ETHEREUM="ETHEREUM",e.WEB3="WEB3"}(g||(g={}));class iL{type;provider;gas;constructor(e,t){"function"==typeof e.request?this.type=g.ETHEREUM:this.type=g.WEB3,this.provider=e,this.gas=t}async getOwner(e){let t=await this.callContract(iP(e,f.OWNER,this.gas));return iR(f.OWNER,t)}async getErc725YVersion(e){return await this.supportsInterface(e,i_["5.0"])?p.ERC725_v5:await this.supportsInterface(e,i_["3.0"])||await this.supportsInterface(e,i_["2.0"])?p.ERC725_v2:await this.supportsInterface(e,i_.legacy)?p.ERC725_LEGACY:p.NOT_ERC725}async supportsInterface(e,t){let r=await this.callContract(iP(e,f.SUPPORTS_INTERFACE,this.gas,`${t}00000000000000000000000000000000000000000000000000000000`));return iR(f.SUPPORTS_INTERFACE,r)}async isValidSignature(e,t,r){if(this.type===g.ETHEREUM){let n=nX(["bytes32","bytes"],[t,r]),i=await this.callContract(iP(e,f.IS_VALID_SIGNATURE,void 0,n));if(i.error)throw i.error;return iR(f.IS_VALID_SIGNATURE,i)}let n=nX(["bytes32","bytes"],[t,r]),i=await this.callContract([iP(e,f.IS_VALID_SIGNATURE,void 0,n)]);return iR(f.IS_VALID_SIGNATURE,i[0])}async getData(e,t){let r=await this.getAllData(e,[t]);try{return r[0].value}catch{return null}}async getAllData(e,t){let r=await this.getErc725YVersion(e);if(r===p.NOT_ERC725)throw Error(`Contract: ${e} does not support ERC725Y interface.`);switch(r){case p.ERC725_v5:return this._getAllDataGeneric(e,t,f.GET_DATA_BATCH);case p.ERC725_v2:return this._getAllDataGeneric(e,t,f.GET_DATA);case p.ERC725_LEGACY:return this._getAllDataLegacy(e,t);default:return[]}}async _getAllDataGeneric(e,t,r){if(this.type===g.ETHEREUM){let n=await this.callContract(iP(e,r,void 0,nQ("bytes32[]",t))),i=iR(r,n);return t.map((e,t)=>({key:e,value:i?i[t]:i}))}let n=[iP(e,r,void 0,nQ("bytes32[]",t))],i=iR(r,(await this.callContract(n))[0]);return t.map((e,t)=>({key:e,value:i?i[t]:i}))}async _getAllDataLegacy(e,t){if(this.type===g.ETHEREUM){let r=t.map(t=>this.callContract(iP(e,f.GET_DATA_LEGACY,this.gas,t)));return(await Promise.all(r)).map((e,r)=>({key:t[r],value:iR(f.GET_DATA_LEGACY,e)}))}let r=[];for(let n=0;n<t.length;n++)r.push(iP(e,f.GET_DATA_LEGACY,this.gas,t[n]));let n=await this.callContract(r);return r.map((e,r)=>({key:t[r],value:iR(f.GET_DATA_LEGACY,n[r])}))}async callContract(e){if(this.type===g.ETHEREUM){let t=await this.provider.request(e);if(t.error){let e=Error("Call failed");throw Object.assign(e,t.error),e}return t.result?t.result:t}let t=async e=>new Promise((t,r)=>{let n=e=>{if(e.error){let t;return{error:t}=e,t instanceof Error||Object.assign(t=Error("Call failed"),e.error),r(t)}return t(e.result||"0x")},i=this.provider.send(e,(e,t)=>{e?r(e):n(t)});i&&"function"==typeof i.then&&i.then(n,r)});return Array.isArray(e)?Promise.all(e.map(t)):t(e)}}BigInt(0),BigInt(1),BigInt(1e3),BigInt(1e3),BigInt(1e3),BigInt(1e3),BigInt(1e6),BigInt(1e6),BigInt(1e6),BigInt(1e6),BigInt(1e9),BigInt(1e9),BigInt(1e9),BigInt(1e9),BigInt(1e9),BigInt(1e12),BigInt(1e12),BigInt(1e12),BigInt(1e15),BigInt(1e15),BigInt(1e15),BigInt("1000000000000000000"),BigInt("1000000000000000000000"),BigInt("1000000000000000000000"),BigInt("1000000000000000000000000"),BigInt("1000000000000000000000000000"),BigInt("1000000000000000000000000000000");let ij=e=>{if(nE.validate(["bytes"],[e]),function(e){var t,r;return e instanceof Uint8Array||(null==(t=null==e?void 0:e.constructor)?void 0:t.name)==="Uint8Array"||(null==(r=null==e?void 0:e.constructor)?void 0:r.name)==="Buffer"}(e))return e;if(Array.isArray(e))return new Uint8Array(e);if("string"==typeof e)return na(e);throw new M(e)},{uint8ArrayToHexString:iU}=T,iM=e=>"string"==typeof e&&"0x"!==e.slice(0,2).toLowerCase()?ij(`0x${e}`):ij(e),{parseBaseType:iZ}=T,iD=(e,t,r=[])=>{let n,i=Object.assign({},e);for(let e of t){if(i.oneOf&&n){let e=n,t=r.find(([t])=>t===e);t&&t[0]===n&&(i=i.oneOf[t[1]])}if(!i.properties&&!i.items)return;i.properties?i=i.properties[e]:i.items&&i.items.properties?i=i.items.properties[e]:i.items&&isObject(i.items)?i=i.items:i.items&&Array.isArray(i.items)&&(i=i.items[parseInt(e,10)]),i&&e&&(n=e)}return i},iF=(e,t,r)=>{try{let{baseType:n,baseTypeSize:i}=iZ(t);if("int"===n||"uint"===n)switch(r.number){case FMT_NUMBER.NUMBER:return Number(toBigInt(e));case FMT_NUMBER.HEX:return numberToHex(toBigInt(e));case FMT_NUMBER.STR:return toBigInt(e).toString();case FMT_NUMBER.BIGINT:return toBigInt(e);default:throw new FormatterError(`Invalid format: ${String(r.number)}`)}if("bytes"===n){let t;switch(i?"string"==typeof e?t=padLeft(e,2*i):isUint8Array(e)&&(t=uint8ArrayConcat(new Uint8Array(i-e.length),e)):t=e,r.bytes){case FMT_BYTES.HEX:return bytesToHex(bytesToUint8Array(t));case FMT_BYTES.UINT8ARRAY:return bytesToUint8Array(t);default:throw new FormatterError(`Invalid format: ${String(r.bytes)}`)}}if("string"===n)return String(e)}catch(e){}return e},iV=({value:e,schemaProp:t,schema:r,object:n,key:i,dataPath:s,format:a,oneOfPath:o=[]})=>{var l,u;if(Array.isArray(e)){let d=t;if((null==t?void 0:t.oneOf)!==void 0&&t.oneOf.forEach((r,n)=>{var s,a;Array.isArray(null==t?void 0:t.items)||("object"!=typeof e[0]||(null==(s=null==r?void 0:r.items)?void 0:s.type)!=="object")&&("string"!=typeof e[0]||(null==(a=null==r?void 0:r.items)?void 0:a.type)==="object")||(d=r,o.push([i,n]))}),isNullish(null==d?void 0:d.items))return delete n[i],s.pop(),!0;if(isObject(d.items)&&!isNullish(d.items.format)){for(let t=0;t<e.length;t+=1)n[i][t]=iF(e[t],null==(l=null==d?void 0:d.items)?void 0:l.format,a);return s.pop(),!0}if(!Array.isArray(null==d?void 0:d.items)&&(null==(u=null==d?void 0:d.items)?void 0:u.type)==="object"){for(let t of e)iH(t,r,s,a,o);return s.pop(),!0}if(Array.isArray(null==d?void 0:d.items)){for(let t=0;t<e.length;t+=1)n[i][t]=iF(e[t],d.items[t].format,a);return s.pop(),!0}}return!1},iH=(e,t,r,n,i=[])=>{var s;if(!isObject(e)&&!Array.isArray(e))return iF(e,null==t?void 0:t.format,n);if(Array.isArray(e)&&(null==t?void 0:t.type)==="array"&&(null==(s=null==t?void 0:t.items)?void 0:s.type)==="object")iV({value:e,schemaProp:t,schema:t,object:e,key:"",dataPath:r,format:n,oneOfPath:i});else for(let[s,a]of Object.entries(e)){r.push(s);let o=iD(t,r,i);if(isNullish(o)){delete e[s],r.pop();continue}if(isObject(a)){iH(a,t,r,n,i),r.pop();continue}if(!iV({value:a,schemaProp:o,schema:t,object:e,key:s,dataPath:r,format:n,oneOfPath:i})){if((null==o?void 0:o.format)===void 0&&(null==o?void 0:o.oneOf)!==void 0){for(let[e,t]of o.oneOf.entries())if((null==t?void 0:t.format)!==void 0){o=t;break}}e[s]=iF(a,o.format,n),r.pop()}}return e};Symbol.toStringTag;let iW=(e,t,r)=>e&t^~e&r,iG=(e,t,r)=>e&t^e&r^t&r;class iq extends e${constructor(e,t,r,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=e_(this.buffer)}update(e){em(this);let{view:t,buffer:r,blockLen:n}=this,i=(e=eS(e)).length;for(let s=0;s<i;){let a=Math.min(n-this.pos,i-s);if(a===n){let t=e_(e);for(;n<=i-s;s+=n)this.process(t,s);continue}r.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===n&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){em(this),eg(e,this),this.finished=!0;let{buffer:t,view:r,blockLen:n,isLE:i}=this,{pos:s}=this;t[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>n-s&&(this.process(r,0),s=0);for(let e=s;e<n;e++)t[e]=0;!function(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);let i=BigInt(32),s=BigInt(0xffffffff),a=Number(r>>i&s),o=Number(r&s),l=4*!!n,u=4*!n;e.setUint32(t+l,a,n),e.setUint32(t+u,o,n)}(r,n-8,BigInt(8*this.length),i),this.process(r,0);let a=e_(e),o=this.outputLen;if(o%4)throw Error("_sha2: outputLen should be aligned to 32bit");let l=o/4,u=this.get();if(l>u.length)throw Error("_sha2: outputLen bigger than state");for(let e=0;e<l;e++)a.setUint32(4*e,u[e],i)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:r,length:n,finished:i,destroyed:s,pos:a}=this;return e.length=n,e.pos=a,e.finished=i,e.destroyed=s,n%t&&e.buffer.set(r),e}}let iz=new Uint32Array([0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2]),iK=new Uint32Array([0x6a09e667,0xbb67ae85,0x3c6ef372,0xa54ff53a,0x510e527f,0x9b05688c,0x1f83d9ab,0x5be0cd19]),iY=new Uint32Array(64);class iJ extends iq{constructor(){super(64,32,8,!1),this.A=0|iK[0],this.B=0|iK[1],this.C=0|iK[2],this.D=0|iK[3],this.E=0|iK[4],this.F=0|iK[5],this.G=0|iK[6],this.H=0|iK[7]}get(){let{A:e,B:t,C:r,D:n,E:i,F:s,G:a,H:o}=this;return[e,t,r,n,i,s,a,o]}set(e,t,r,n,i,s,a,o){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|s,this.G=0|a,this.H=0|o}process(e,t){for(let r=0;r<16;r++,t+=4)iY[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){let t=iY[e-15],r=iY[e-2],n=eE(t,7)^eE(t,18)^t>>>3,i=eE(r,17)^eE(r,19)^r>>>10;iY[e]=i+iY[e-7]+n+iY[e-16]|0}let{A:r,B:n,C:i,D:s,E:a,F:o,G:l,H:u}=this;for(let e=0;e<64;e++){let t=u+(eE(a,6)^eE(a,11)^eE(a,25))+iW(a,o,l)+iz[e]+iY[e]|0,d=(eE(r,2)^eE(r,13)^eE(r,22))+iG(r,n,i)|0;u=l,l=o,o=a,a=s+t|0,s=i,i=n,n=r,r=t+d|0}r=r+this.A|0,n=n+this.B|0,i=i+this.C|0,s=s+this.D|0,a=a+this.E|0,o=o+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,n,i,s,a,o,l,u)}roundClean(){iY.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}let iX=eC(()=>new iJ);class iQ extends e${constructor(e,t){super(),this.finished=!1,this.destroyed=!1,function(e){if("function"!=typeof e||"function"!=typeof e.create)throw Error("Hash should be wrapped by utils.wrapConstructor");ep(e.outputLen),ep(e.blockLen)}(e);let r=eS(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let n=this.blockLen,i=new Uint8Array(n);i.set(r.length>n?e.create().update(r).digest():r);for(let e=0;e<i.length;e++)i[e]^=54;this.iHash.update(i),this.oHash=e.create();for(let e=0;e<i.length;e++)i[e]^=106;this.oHash.update(i),i.fill(0)}update(e){return em(this),this.iHash.update(e),this}digestInto(e){em(this),ey(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:t,iHash:r,finished:n,destroyed:i,blockLen:s,outputLen:a}=this;return e.finished=n,e.destroyed=i,e.blockLen=s,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}let i0=(e,t,r)=>new iQ(e,t).update(r).digest();i0.create=(e,t)=>new iQ(e,t);let i1=BigInt(1),i2=BigInt(2);function i4(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}function i3(e){if(!i4(e))throw Error("Uint8Array expected")}let i8=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function i6(e){i3(e);let t="";for(let r=0;r<e.length;r++)t+=i8[e[r]];return t}function i5(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);return BigInt(""===e?"0":`0x${e}`)}let i9={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function i7(e){return e>=i9._0&&e<=i9._9?e-i9._0:e>=i9._A&&e<=i9._F?e-(i9._A-10):e>=i9._a&&e<=i9._f?e-(i9._a-10):void 0}function se(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);let t=e.length,r=t/2;if(t%2)throw Error("padded hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(r);for(let t=0,i=0;t<r;t++,i+=2){let r=i7(e.charCodeAt(i)),s=i7(e.charCodeAt(i+1));if(void 0===r||void 0===s)throw Error('hex string expected, got non-hex character "'+(e[i]+e[i+1])+'" at index '+i);n[t]=16*r+s}return n}function st(e){return i5(i6(e))}function sr(e){return i3(e),i5(i6(Uint8Array.from(e).reverse()))}function sn(e,t){return se(e.toString(16).padStart(2*t,"0"))}function si(e,t){return sn(e,t).reverse()}function ss(e,t,r){let n;if("string"==typeof t)try{n=se(t)}catch(r){throw Error(`${e} must be valid hex string, got "${t}". Cause: ${r}`)}else if(i4(t))n=Uint8Array.from(t);else throw Error(`${e} must be hex string or Uint8Array`);let i=n.length;if("number"==typeof r&&i!==r)throw Error(`${e} expected ${r} bytes, got ${i}`);return n}function sa(...e){let t=0;for(let r=0;r<e.length;r++){let n=e[r];i3(n),t+=n.length}let r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){let i=e[t];r.set(i,n),n+=i.length}return r}let so=e=>(i2<<BigInt(e-1))-i1,sl=e=>new Uint8Array(e),su=e=>Uint8Array.from(e);function sd(e,t,r){if("number"!=typeof e||e<2)throw Error("hashLen must be a number");if("number"!=typeof t||t<2)throw Error("qByteLen must be a number");if("function"!=typeof r)throw Error("hmacFn must be a function");let n=sl(e),i=sl(e),s=0,a=()=>{n.fill(1),i.fill(0),s=0},o=(...e)=>r(i,n,...e),l=(e=sl())=>{i=o(su([0]),e),n=o(),0!==e.length&&(i=o(su([1]),e),n=o())},u=()=>{if(s++>=1e3)throw Error("drbg: tried 1000 values");let e=0,r=[];for(;e<t;){let t=(n=o()).slice();r.push(t),e+=n.length}return sa(...r)};return(e,t)=>{let r;for(a(),l(e);!(r=t(u()));)l();return a(),r}}let sc={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||i4(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function sf(e,t,r={}){let n=(t,r,n)=>{let i=sc[r];if("function"!=typeof i)throw Error(`Invalid validator "${r}", expected function`);let s=e[t];if((!n||void 0!==s)&&!i(s,e))throw Error(`Invalid param ${String(t)}=${s} (${typeof s}), expected ${r}`)};for(let[e,r]of Object.entries(t))n(e,r,!1);for(let[e,t]of Object.entries(r))n(e,t,!0);return e}let sh=BigInt(0),sp=BigInt(1),sy=BigInt(2),sm=BigInt(3),sg=BigInt(4),sb=BigInt(5),sv=BigInt(8);function sw(e,t){let r=e%t;return r>=sh?r:t+r}function sx(e,t,r){let n=e;for(;t-- >sh;)n*=n,n%=r;return n}function s_(e,t){if(e===sh||t<=sh)throw Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=sw(e,t),n=t,i=sh,s=sp,a=sp,o=sh;for(;r!==sh;){let e=n/r,t=n%r,l=i-a*e,u=s-o*e;n=r,r=t,i=a,s=o,a=l,o=u}if(n!==sp)throw Error("invert: does not exist");return sw(i,t)}BigInt(9),BigInt(16);let sE=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function sA(e,t){let r=void 0!==t?t:e.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function sI(e){if("bigint"!=typeof e)throw Error("field order must be bigint");return Math.ceil(e.toString(2).length/8)}function sT(e){let t=sI(e);return t+Math.ceil(t/2)}let sk=BigInt(0),sS=BigInt(1);function s$(e){return sf(e.Fp,sE.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"})),sf(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...sA(e.n,e.nBitLength),...e,...{p:e.Fp.ORDER}})}let{Ph:sC,aT:sB}=k,sO={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(e){let{Err:t}=sO;if(e.length<2||2!==e[0])throw new t("Invalid signature integer tag");let r=e[1],n=e.subarray(2,r+2);if(!r||n.length!==r)throw new t("Invalid signature integer: wrong length");if(128&n[0])throw new t("Invalid signature integer: negative");if(0===n[0]&&!(128&n[1]))throw new t("Invalid signature integer: unnecessary leading zero");return{d:sC(n),l:e.subarray(r+2)}},toSig(e){let{Err:t}=sO,r="string"==typeof e?sB(e):e;i3(r);let n=r.length;if(n<2||48!=r[0])throw new t("Invalid signature tag");if(r[1]!==n-2)throw new t("Invalid signature: incorrect length");let{d:i,l:s}=sO._parseInt(r.subarray(2)),{d:a,l:o}=sO._parseInt(s);if(o.length)throw new t("Invalid signature: left bytes after parsing");return{r:i,s:a}},hexFromSig(e){let t=e=>8&Number.parseInt(e[0],16)?"00"+e:e,r=e=>{let t=e.toString(16);return 1&t.length?`0${t}`:t},n=t(r(e.s)),i=t(r(e.r)),s=n.length/2,a=i.length/2,o=r(s),l=r(a);return`30${r(a+s+4)}02${l}${i}02${o}${n}`}},sN=BigInt(0),sR=BigInt(1),sP=(BigInt(2),BigInt(3));BigInt(4);let sL=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),sj=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),sU=BigInt(1),sM=BigInt(2),sZ=(e,t)=>(e+t/sM)/t,sD=function(e,t,r=!1,n={}){if(e<=sh)throw Error(`Expected Field ORDER > 0, got ${e}`);let{nBitLength:i,nByteLength:s}=sA(e,t);if(s>2048)throw Error("Field lengths over 2048 bytes are not supported");let a=function(e){if(e%sg===sm){let t=(e+sp)/sg;return function(e,r){let n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw Error("Cannot find square root");return n}}if(e%sv===sb){let t=(e-sb)/sv;return function(e,r){let n=e.mul(r,sy),i=e.pow(n,t),s=e.mul(r,i),a=e.mul(e.mul(s,sy),i),o=e.mul(s,e.sub(a,e.ONE));if(!e.eql(e.sqr(o),r))throw Error("Cannot find square root");return o}}return function(e){let t,r,n,i=(e-sp)/sy;for(t=e-sp,r=0;t%sy===sh;t/=sy,r++);for(n=sy;n<e&&function(e,t,r){if(r<=sh||t<sh)throw Error("Expected power/modulo > 0");if(r===sp)return sh;let n=sp;for(;t>sh;)t&sp&&(n=n*e%r),e=e*e%r,t>>=sp;return n}(n,i,e)!==e-sp;n++);if(1===r){let t=(e+sp)/sg;return function(e,r){let n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw Error("Cannot find square root");return n}}let s=(t+sp)/sy;return function(e,a){if(e.pow(a,i)===e.neg(e.ONE))throw Error("Cannot find square root");let o=r,l=e.pow(e.mul(e.ONE,n),t),u=e.pow(a,s),d=e.pow(a,t);for(;!e.eql(d,e.ONE);){if(e.eql(d,e.ZERO))return e.ZERO;let t=1;for(let r=e.sqr(d);t<o&&!e.eql(r,e.ONE);t++)r=e.sqr(r);let r=e.pow(l,sp<<BigInt(o-t-1));l=e.sqr(r),u=e.mul(u,r),d=e.mul(d,l),o=t}return u}}(e)}(e),o=Object.freeze({ORDER:e,BITS:i,BYTES:s,MASK:so(i),ZERO:sh,ONE:sp,create:t=>sw(t,e),isValid:t=>{if("bigint"!=typeof t)throw Error(`Invalid field element: expected bigint, got ${typeof t}`);return sh<=t&&t<e},is0:e=>e===sh,isOdd:e=>(e&sp)===sp,neg:t=>sw(-t,e),eql:(e,t)=>e===t,sqr:t=>sw(t*t,e),add:(t,r)=>sw(t+r,e),sub:(t,r)=>sw(t-r,e),mul:(t,r)=>sw(t*r,e),pow:(e,t)=>(function(e,t,r){if(r<sh)throw Error("Expected power > 0");if(r===sh)return e.ONE;if(r===sp)return t;let n=e.ONE,i=t;for(;r>sh;)r&sp&&(n=e.mul(n,i)),i=e.sqr(i),r>>=sp;return n})(o,e,t),div:(t,r)=>sw(t*s_(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>s_(t,e),sqrt:n.sqrt||(e=>a(o,e)),invertBatch:e=>(function(e,t){let r=Array(t.length),n=t.reduce((t,n,i)=>e.is0(n)?t:(r[i]=t,e.mul(t,n)),e.ONE),i=e.inv(n);return t.reduceRight((t,n,i)=>e.is0(n)?t:(r[i]=e.mul(t,r[i]),e.mul(t,n)),i),r})(o,e),cmov:(e,t,r)=>r?t:e,toBytes:e=>r?si(e,s):sn(e,s),fromBytes:e=>{if(e.length!==s)throw Error(`Fp.fromBytes: expected ${s}, got ${e.length}`);return r?sr(e):st(e)}});return Object.freeze(o)}(sL,void 0,void 0,{sqrt:function(e){let t=BigInt(3),r=BigInt(6),n=BigInt(11),i=BigInt(22),s=BigInt(23),a=BigInt(44),o=BigInt(88),l=e*e*e%sL,u=l*l*e%sL,d=sx(u,t,sL)*u%sL,c=sx(d,t,sL)*u%sL,f=sx(c,sM,sL)*l%sL,h=sx(f,n,sL)*f%sL,p=sx(h,i,sL)*h%sL,y=sx(p,a,sL)*p%sL,m=sx(y,o,sL)*y%sL,g=sx(m,a,sL)*p%sL,b=sx(g,t,sL)*u%sL,v=sx(b,s,sL)*h%sL,w=sx(v,r,sL)*l%sL,x=sx(w,sM,sL);if(!sD.eql(sD.sqr(x),e))throw Error("Cannot find square root");return x}}),sF=function(e,t){let r=t=>(function(e){let t=function(e){let t=s$(e);return sf(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:r,n:n}=t,i=r.BYTES+1,s=2*r.BYTES+1;function a(e){return sw(e,n)}let{ProjectivePoint:o,normPrivateKeyToScalar:l,weierstrassEquation:u,isWithinCurveOrder:d}=function(e){let t=function(e){let t=s$(e);sf(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:r,Fp:n,a:i}=t;if(r){if(!n.eql(i,n.ZERO))throw Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof r||"bigint"!=typeof r.beta||"function"!=typeof r.splitScalar)throw Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}(e),{Fp:r}=t,n=t.toBytes||((e,t,n)=>{let i=t.toAffine();return sa(Uint8Array.from([4]),r.toBytes(i.x),r.toBytes(i.y))}),i=t.fromBytes||(e=>{let t=e.subarray(1);return{x:r.fromBytes(t.subarray(0,r.BYTES)),y:r.fromBytes(t.subarray(r.BYTES,2*r.BYTES))}});function s(e){let{a:n,b:i}=t,s=r.sqr(e),a=r.mul(s,e);return r.add(r.add(a,r.mul(e,n)),i)}if(!r.eql(r.sqr(t.Gy),s(t.Gx)))throw Error("bad generator point: equation left != right");function a(e){return"bigint"==typeof e&&sN<e&&e<t.n}function o(e){if(!a(e))throw Error("Expected valid bigint: 0 < bigint < curve.n")}function l(e){let r,{allowedPrivateKeyLengths:n,nByteLength:i,wrapPrivateKey:s,n:a}=t;if(n&&"bigint"!=typeof e){if(i4(e)&&(e=i6(e)),"string"!=typeof e||!n.includes(e.length))throw Error("Invalid key");e=e.padStart(2*i,"0")}try{r="bigint"==typeof e?e:st(ss("private key",e,i))}catch(t){throw Error(`private key must be ${i} bytes, hex or bigint, not ${typeof e}`)}return s&&(r=sw(r,a)),o(r),r}let u=new Map;function d(e){if(!(e instanceof c))throw Error("ProjectivePoint expected")}class c{constructor(e,t,n){if(this.px=e,this.py=t,this.pz=n,null==e||!r.isValid(e))throw Error("x required");if(null==t||!r.isValid(t))throw Error("y required");if(null==n||!r.isValid(n))throw Error("z required")}static fromAffine(e){let{x:t,y:n}=e||{};if(!e||!r.isValid(t)||!r.isValid(n))throw Error("invalid affine point");if(e instanceof c)throw Error("projective point not allowed");let i=e=>r.eql(e,r.ZERO);return i(t)&&i(n)?c.ZERO:new c(t,n,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){let t=r.invertBatch(e.map(e=>e.pz));return e.map((e,r)=>e.toAffine(t[r])).map(c.fromAffine)}static fromHex(e){let t=c.fromAffine(i(ss("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return c.BASE.multiply(l(e))}_setWindowSize(e){this._WINDOW_SIZE=e,u.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!r.is0(this.py))return;throw Error("bad point: ZERO")}let{x:e,y:n}=this.toAffine();if(!r.isValid(e)||!r.isValid(n))throw Error("bad point: x or y not FE");let i=r.sqr(n),a=s(e);if(!r.eql(i,a))throw Error("bad point: equation left != right");if(!this.isTorsionFree())throw Error("bad point: not in prime-order subgroup")}hasEvenY(){let{y:e}=this.toAffine();if(r.isOdd)return!r.isOdd(e);throw Error("Field doesn't support isOdd")}equals(e){d(e);let{px:t,py:n,pz:i}=this,{px:s,py:a,pz:o}=e,l=r.eql(r.mul(t,o),r.mul(s,i)),u=r.eql(r.mul(n,o),r.mul(a,i));return l&&u}negate(){return new c(this.px,r.neg(this.py),this.pz)}double(){let{a:e,b:n}=t,i=r.mul(n,sP),{px:s,py:a,pz:o}=this,l=r.ZERO,u=r.ZERO,d=r.ZERO,f=r.mul(s,s),h=r.mul(a,a),p=r.mul(o,o),y=r.mul(s,a);return y=r.add(y,y),d=r.mul(s,o),d=r.add(d,d),l=r.mul(e,d),u=r.mul(i,p),u=r.add(l,u),l=r.sub(h,u),u=r.add(h,u),u=r.mul(l,u),l=r.mul(y,l),d=r.mul(i,d),p=r.mul(e,p),y=r.sub(f,p),y=r.mul(e,y),y=r.add(y,d),d=r.add(f,f),f=r.add(d,f),f=r.add(f,p),f=r.mul(f,y),u=r.add(u,f),p=r.mul(a,o),p=r.add(p,p),f=r.mul(p,y),l=r.sub(l,f),d=r.mul(p,h),d=r.add(d,d),new c(l,u,d=r.add(d,d))}add(e){d(e);let{px:n,py:i,pz:s}=this,{px:a,py:o,pz:l}=e,u=r.ZERO,f=r.ZERO,h=r.ZERO,p=t.a,y=r.mul(t.b,sP),m=r.mul(n,a),g=r.mul(i,o),b=r.mul(s,l),v=r.add(n,i),w=r.add(a,o);v=r.mul(v,w),w=r.add(m,g),v=r.sub(v,w),w=r.add(n,s);let x=r.add(a,l);return w=r.mul(w,x),x=r.add(m,b),w=r.sub(w,x),x=r.add(i,s),u=r.add(o,l),x=r.mul(x,u),u=r.add(g,b),x=r.sub(x,u),h=r.mul(p,w),u=r.mul(y,b),h=r.add(u,h),u=r.sub(g,h),h=r.add(g,h),f=r.mul(u,h),g=r.add(m,m),g=r.add(g,m),b=r.mul(p,b),w=r.mul(y,w),g=r.add(g,b),b=r.sub(m,b),b=r.mul(p,b),w=r.add(w,b),m=r.mul(g,w),f=r.add(f,m),m=r.mul(x,w),u=r.mul(v,u),u=r.sub(u,m),m=r.mul(v,g),h=r.mul(x,h),new c(u,f,h=r.add(h,m))}subtract(e){return this.add(e.negate())}is0(){return this.equals(c.ZERO)}wNAF(e){return h.wNAFCached(this,u,e,e=>{let t=r.invertBatch(e.map(e=>e.pz));return e.map((e,r)=>e.toAffine(t[r])).map(c.fromAffine)})}multiplyUnsafe(e){let n=c.ZERO;if(e===sN)return n;if(o(e),e===sR)return this;let{endo:i}=t;if(!i)return h.unsafeLadder(this,e);let{k1neg:s,k1:a,k2neg:l,k2:u}=i.splitScalar(e),d=n,f=n,p=this;for(;a>sN||u>sN;)a&sR&&(d=d.add(p)),u&sR&&(f=f.add(p)),p=p.double(),a>>=sR,u>>=sR;return s&&(d=d.negate()),l&&(f=f.negate()),f=new c(r.mul(f.px,i.beta),f.py,f.pz),d.add(f)}multiply(e){let n,i;o(e);let{endo:s}=t;if(s){let{k1neg:t,k1:a,k2neg:o,k2:l}=s.splitScalar(e),{p:u,f:d}=this.wNAF(a),{p:f,f:p}=this.wNAF(l);u=h.constTimeNegate(t,u),f=h.constTimeNegate(o,f),f=new c(r.mul(f.px,s.beta),f.py,f.pz),n=u.add(f),i=d.add(p)}else{let{p:t,f:r}=this.wNAF(e);n=t,i=r}return c.normalizeZ([n,i])[0]}multiplyAndAddUnsafe(e,t,r){let n=c.BASE,i=(e,t)=>t!==sN&&t!==sR&&e.equals(n)?e.multiply(t):e.multiplyUnsafe(t),s=i(this,t).add(i(e,r));return s.is0()?void 0:s}toAffine(e){let{px:t,py:n,pz:i}=this,s=this.is0();null==e&&(e=s?r.ONE:r.inv(i));let a=r.mul(t,e),o=r.mul(n,e),l=r.mul(i,e);if(s)return{x:r.ZERO,y:r.ZERO};if(!r.eql(l,r.ONE))throw Error("invZ was invalid");return{x:a,y:o}}isTorsionFree(){let{h:e,isTorsionFree:r}=t;if(e===sR)return!0;if(r)return r(c,this);throw Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:e,clearCofactor:r}=t;return e===sR?this:r?r(c,this):this.multiplyUnsafe(t.h)}toRawBytes(e=!0){return this.assertValidity(),n(c,this,e)}toHex(e=!0){return i6(this.toRawBytes(e))}}c.BASE=new c(t.Gx,t.Gy,r.ONE),c.ZERO=new c(r.ZERO,r.ONE,r.ZERO);let f=t.nBitLength,h=function(e,t){let r=(e,t)=>{let r=t.negate();return e?r:t},n=e=>({windows:Math.ceil(t/e)+1,windowSize:2**(e-1)});return{constTimeNegate:r,unsafeLadder(t,r){let n=e.ZERO,i=t;for(;r>sk;)r&sS&&(n=n.add(i)),i=i.double(),r>>=sS;return n},precomputeWindow(e,t){let{windows:r,windowSize:i}=n(t),s=[],a=e,o=a;for(let e=0;e<r;e++){o=a,s.push(o);for(let e=1;e<i;e++)o=o.add(a),s.push(o);a=o.double()}return s},wNAF(t,i,s){let{windows:a,windowSize:o}=n(t),l=e.ZERO,u=e.BASE,d=BigInt(2**t-1),c=2**t,f=BigInt(t);for(let e=0;e<a;e++){let t=e*o,n=Number(s&d);s>>=f,n>o&&(n-=c,s+=sS);let a=t+Math.abs(n)-1,h=e%2!=0,p=n<0;0===n?u=u.add(r(h,i[t])):l=l.add(r(p,i[a]))}return{p:l,f:u}},wNAFCached(e,t,r,n){let i=e._WINDOW_SIZE||1,s=t.get(e);return s||(s=this.precomputeWindow(e,i),1!==i&&t.set(e,n(s))),this.wNAF(i,s,r)}}}(c,t.endo?Math.ceil(f/2):f);return{CURVE:t,ProjectivePoint:c,normPrivateKeyToScalar:l,weierstrassEquation:s,isWithinCurveOrder:a}}({...t,toBytes(e,t,n){let i=t.toAffine(),s=r.toBytes(i.x),a=sa;return n?a(Uint8Array.from([t.hasEvenY()?2:3]),s):a(Uint8Array.from([4]),s,r.toBytes(i.y))},fromBytes(e){let t=e.length,n=e[0],a=e.subarray(1);if(t===i&&(2===n||3===n)){let e,t=st(a);if(!(sN<t&&t<r.ORDER))throw Error("Point is not on curve");let i=u(t);try{e=r.sqrt(i)}catch(e){throw Error("Point is not on curve"+(e instanceof Error?": "+e.message:""))}return(1&n)==1!=((e&sR)===sR)&&(e=r.neg(e)),{x:t,y:e}}if(t===s&&4===n)return{x:r.fromBytes(a.subarray(0,r.BYTES)),y:r.fromBytes(a.subarray(r.BYTES,2*r.BYTES))};throw Error(`Point of length ${t} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}}),c=e=>i6(sn(e,t.nByteLength)),f=(e,t,r)=>st(e.slice(t,r));class h{constructor(e,t,r){this.r=e,this.s=t,this.recovery=r,this.assertValidity()}static fromCompact(e){let r=t.nByteLength;return new h(f(e=ss("compactSignature",e,2*r),0,r),f(e,r,2*r))}static fromDER(e){let{r:t,s:r}=sO.toSig(ss("DER",e));return new h(t,r)}assertValidity(){if(!d(this.r))throw Error("r must be 0 < r < CURVE.n");if(!d(this.s))throw Error("s must be 0 < s < CURVE.n")}addRecoveryBit(e){return new h(this.r,this.s,e)}recoverPublicKey(e){let{r:i,s,recovery:l}=this,u=m(ss("msgHash",e));if(null==l||![0,1,2,3].includes(l))throw Error("recovery id invalid");let d=2===l||3===l?i+t.n:i;if(d>=r.ORDER)throw Error("recovery id 2 or 3 invalid");let f=(1&l)==0?"02":"03",h=o.fromHex(f+c(d)),p=s_(d,n),y=a(-u*p),g=a(s*p),b=o.BASE.multiplyAndAddUnsafe(h,y,g);if(!b)throw Error("point at infinify");return b.assertValidity(),b}hasHighS(){return this.s>n>>sR}normalizeS(){return this.hasHighS()?new h(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return se(this.toDERHex())}toDERHex(){return sO.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return se(this.toCompactHex())}toCompactHex(){return c(this.r)+c(this.s)}}function p(e){let t=i4(e),r="string"==typeof e,n=(t||r)&&e.length;return t?n===i||n===s:r?n===2*i||n===2*s:e instanceof o}let y=t.bits2int||function(e){let r=st(e),n=8*e.length-t.nBitLength;return n>0?r>>BigInt(n):r},m=t.bits2int_modN||function(e){return a(y(e))},g=so(t.nBitLength);function b(e){if("bigint"!=typeof e)throw Error("bigint expected");if(!(sN<=e&&e<g))throw Error(`bigint expected < 2^${t.nBitLength}`);return sn(e,t.nByteLength)}let v={lowS:t.lowS,prehash:!1},w={lowS:t.lowS,prehash:!1};return o.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e,t=!0){return o.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t,r=!0){if(p(e))throw Error("first arg must be private key");if(!p(t))throw Error("second arg must be public key");return o.fromHex(t).multiply(l(e)).toRawBytes(r)},sign:function(e,i,s=v){let{seed:u,k2sig:c}=function(e,i,s=v){if(["recovered","canonical"].some(e=>e in s))throw Error("sign() legacy options not supported");let{hash:u,randomBytes:c}=t,{lowS:f,prehash:p,extraEntropy:g}=s;null==f&&(f=!0),e=ss("msgHash",e),p&&(e=ss("prehashed msgHash",u(e)));let w=m(e),x=l(i),_=[b(x),b(w)];if(null!=g&&!1!==g){let e=!0===g?c(r.BYTES):g;_.push(ss("extraEntropy",e))}return{seed:sa(..._),k2sig:function(e){var t;let r=y(e);if(!d(r))return;let i=s_(r,n),s=o.BASE.multiply(r).toAffine(),l=a(s.x);if(l===sN)return;let u=a(i*a(w+l*x));if(u===sN)return;let c=2*(s.x!==l)|Number(s.y&sR),p=u;return f&&u>n>>sR&&(p=(t=u)>n>>sR?a(-t):t,c^=1),new h(l,p,c)}}}(e,i,s);return sd(t.hash.outputLen,t.nByteLength,t.hmac)(u,c)},verify:function(e,r,i,s=w){let l,u;if(r=ss("msgHash",r),i=ss("publicKey",i),"strict"in s)throw Error("options.strict was renamed to lowS");let{lowS:d,prehash:c}=s;try{if("string"==typeof e||i4(e))try{u=h.fromDER(e)}catch(t){if(!(t instanceof sO.Err))throw t;u=h.fromCompact(e)}else if("object"==typeof e&&"bigint"==typeof e.r&&"bigint"==typeof e.s){let{r:t,s:r}=e;u=new h(t,r)}else throw Error("PARSE");l=o.fromHex(i)}catch(e){if("PARSE"===e.message)throw Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(d&&u.hasHighS())return!1;c&&(r=t.hash(r));let{r:f,s:p}=u,y=m(r),g=s_(p,n),b=a(y*g),v=a(f*g),x=o.BASE.multiplyAndAddUnsafe(l,b,v)?.toAffine();return!!x&&a(x.x)===f},ProjectivePoint:o,Signature:h,utils:{isValidPrivateKey(e){try{return l(e),!0}catch(e){return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{let e=sT(t.n);return function(e,t,r=!1){let n=e.length,i=sI(t),s=sT(t);if(n<16||n<s||n>1024)throw Error(`expected ${s}-1024 bytes of input, got ${n}`);let a=sw(r?st(e):sr(e),t-sp)+sp;return r?si(a,i):sn(a,i)}(t.randomBytes(e),t.n)},precompute:(e=8,t=o.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)}}})({...e,hash:t,hmac:(e,...r)=>i0(t,e,function(...e){let t=0;for(let r=0;r<e.length;r++){let n=e[r];ey(n),t+=n.length}let r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){let i=e[t];r.set(i,n),n+=i.length}return r}(...r)),randomBytes:eB});return Object.freeze({...r(t),create:r})}({a:BigInt(0),b:BigInt(7),Fp:sD,n:sj,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{let t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-sU*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),n=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=BigInt("0x100000000000000000000000000000000"),s=sZ(t*e,sj),a=sZ(-r*e,sj),o=sw(e-s*t-a*n,sj),l=sw(-s*r-a*t,sj),u=o>i,d=l>i;if(u&&(o=sj-o),d&&(l=sj-l),o>i||l>i)throw Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:u,k1:o,k2neg:d,k2:l}}}},iX),sV=(BigInt(0),sF.ProjectivePoint,null!=sF?sF:S);BigInt("0xffffffffffffffff"),BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),sV.CURVE.n,BigInt(2),function(e){e[e.Mainnet=1]="Mainnet",e[e.Goerli=5]="Goerli",e[e.Sepolia=0xaa36a7]="Sepolia"}(b||(b={})),function(e){e.Chainstart="chainstart",e.Homestead="homestead",e.Dao="dao",e.TangerineWhistle="tangerineWhistle",e.SpuriousDragon="spuriousDragon",e.Byzantium="byzantium",e.Constantinople="constantinople",e.Petersburg="petersburg",e.Istanbul="istanbul",e.MuirGlacier="muirGlacier",e.Berlin="berlin",e.London="london",e.ArrowGlacier="arrowGlacier",e.GrayGlacier="grayGlacier",e.MergeForkIdTransition="mergeForkIdTransition",e.Merge="merge",e.Shanghai="shanghai",e.ShardingForkDev="shardingFork"}(v||(v={})),function(e){e.ProofOfStake="pos",e.ProofOfWork="pow",e.ProofOfAuthority="poa"}(w||(w={})),function(e){e.Ethash="ethash",e.Clique="clique",e.Casper="casper"}(x||(x={})),function(e){e.PolygonMainnet="polygon-mainnet",e.PolygonMumbai="polygon-mumbai",e.ArbitrumRinkebyTestnet="arbitrum-rinkeby-testnet",e.ArbitrumOne="arbitrum-one",e.xDaiChain="x-dai-chain",e.OptimisticKovan="optimistic-kovan",e.OptimisticEthereum="optimistic-ethereum"}(_||(_={})),function(e){e[e.Number=0]="Number",e[e.BigInt=1]="BigInt",e[e.Uint8Array=2]="Uint8Array",e[e.PrefixedHexString=3]="PrefixedHexString"}(E||(E={}));let sH=e=>{if("string"!=typeof e)throw Error(`[stripHexPrefix] input must be type 'string', received ${typeof e}`);return!function(e){if("string"!=typeof e)throw Error(`[isHexPrefixed] input must be type 'string', received type ${typeof e}`);return e.startsWith("0x")}(e)?e:e.slice(2)};r(6151);let{buf:sW}=r(51076);!function(e){e[e.EIP155ReplayProtection=155]="EIP155ReplayProtection",e[e.EIP1559FeeMarket=1559]="EIP1559FeeMarket",e[e.EIP2718TypedTransaction=2718]="EIP2718TypedTransaction",e[e.EIP2930AccessLists=2930]="EIP2930AccessLists"}(A||(A={})),iM("2".padStart(2,"0")),iM("1".padStart(2,"0"));let sG=/^uint(\d+)(\+?)$/,sq=/^bytes(\d+)$/,sz=/Bytes(\d+)/,sK=(e,t)=>{let r=ak(e?.method||iA);return"0x0000"+sH(r?iu(ig(r.name).slice(0,10),8):"00000000")+sH(e?.data?iu(e.data.slice(2).length/2,4):"0000")+sH(e?.data?sH(e?.data):"")+sH(ii(t))},sY=e=>{if("0x0000"===e.slice(0,6)){let t=`0x${e.slice(6,14)}`,r=ak(t),n=it(`0x${e.slice(14,18)}`),i=`0x${e.slice(18,18+2*n)}`,s=is(`0x${e.slice(18+2*n)}`);return{verification:{method:r?.name||t,data:i},url:s}}let t=e.slice(0,10),r=ak(t),n=e.slice(10);try{let e=is(`0x${n}`);if(n.length<64||/^[a-z]{2,}:[/\S]/.test(e))return{verification:{method:iA,data:"0x"},url:e}}catch{}let i=`0x${n.slice(0,64)}`,s=is(`0x${n.slice(64)}`);return{verification:{method:r?.name||t,data:i},url:s}},sJ=e=>e.filter((e,t)=>{if(""===e)return"0x";if(!r1(e))throw Error(`Couldn't encode bytes[CompactBytesArray], value at index ${t} is not hex`);if(e.length>131072)throw Error(`Couldn't encode bytes[CompactBytesArray], value at index ${t} exceeds 65_535 bytes`);return!0}).reduce((e,t)=>{let r=iu(ir(sH(t).length/2),4);return e+sH(r)+sH(t)},"0x"),sX=(e,t)=>{if(!r1(e))throw Error("Couldn't decode, value is not hex");let r=0,n=[],i=sH(e);for(;r<i.length;){let e=Number(it(`0x${i.slice(r,r+4)}`));0===e?n.push(""):n.push(`0x${i.slice(r+4,r+2*(e+2))}`),r+=2*(e+2)}if(t&&(t.bytes+=r),r>i.length)throw Error("Couldn't decode bytes[CompactBytesArray]");return n},sQ=(e,t)=>(e.forEach((e,r)=>{if(sH(e).length>2*t)throw Error(`Hex bytes${t} value at index ${r} does not fit in ${t} bytes`)}),sJ(e)),s0=(e,t,r)=>{let n=sX(e,r);return n.forEach((e,r)=>{if(sH(e).length>2*t)throw Error(`Hex bytes${t} value at index ${r} does not fit in ${t} bytes`)}),n},s1=(e,t)=>sJ(e.map((e,r)=>{let n=sH(ir(e)).padStart(2*t,"0");if(n.length>2*t)throw Error(`Hex uint${8*t} value at index ${r} does not fit in ${t} bytes`);return n})),s2=(e,t)=>sX(e).map((e,r)=>{if(sH(e).length>2*t)throw Error(`Hex uint${8*t} value at index ${r} does not fit in ${t} bytes`);return io(e)}),s4=e=>sJ(e.map(e=>ii(e))),s3=(e,t)=>sX(e,t).map(e=>is(e));function s8(e){return(t,r)=>{let n=e,[,i,s,a]=/^(u?int)(\d*)(.*)$/.exec(e)||[];if("address"===e)n="bytes20";else if(i){let e=Number.parseInt(s,10)/8;n=`bytes${e}${a}`}try{let i=n0([n],`${t}0000000000000000000000000000000000000000000000000000000000000000`)[0];if(s&&(i=Array.isArray(i)?i.map(e=>it(e)):it(i)),r){let t=(e.endsWith("]")?nX([n],[i]):((...e)=>{let t=e.map(ix);return`0x${t.join("").toLowerCase()}`})({value:i,type:e})).slice(2).length/2;r.bytes+=t}return i}catch(r){throw Error(`Error decoding value "${t}" as type "${e}": ${r instanceof Error?r.message:String(r)}`)}}}let s6=e=>{let t=e.match(sG),r=e.match(sq),n=r?Number.parseInt(r[1],10):"",i=t?Number.parseInt(t[0].slice(4),10):0;if(e.includes("[CompactBytesArray]"))return({"bytes[CompactBytesArray]":{encode:e=>sJ(e),decode:(e,t)=>sX(e,t)},"string[CompactBytesArray]":{encode:e=>s4(e),decode:(e,t)=>s3(e,t)},...(()=>{let e={};for(let t=1;t<33;t++)e[`bytes${t}[CompactBytesArray]`]={encode:e=>sQ(e,t),decode:(e,r)=>s0(e,t,r)};return e})(),...(()=>{let e={};for(let t=1;t<33;t++)e[`uint${8*t}[CompactBytesArray]`]={encode:e=>s1(e,t),decode:e=>s2(e,t)};return e})()})[e];if("bytes"===e)return{encode:e=>ia(e),decode:(e,t)=>{if(t){let r=e.slice(2).length/2;t.bytes+=r}return e}};switch(e){case"bool":case"boolean":return{encode:e=>e?"0x01":"0x00",decode:(e,t)=>(t&&(t.bytes+=1),"0x01"===e.slice(0,4))};case"string":return{encode:e=>"number"==typeof e?ii(`${e}`):ii(e),decode:(e,t)=>(t&&(t.bytes+=e.slice(2).length/2),is(e))};case"address":return{encode:e=>n7(ie(nQ("address",e)).slice(12)),decode:(e,t)=>il(s8("address")(e,t))};case`int${i}`:return{encode:t=>{if(!aR(i))throw Error(`Can't encode ${t} as ${e}. Invalid \`uintN\` provided. Expected a multiple of 8 bits between 8 and 256.`);let r=nQ(e,t),n=aO(r);if(n>i)throw Error(`Can't represent value ${t} as ${e}. To many bits required ${n} > ${i}`);let s=ie(r),a=i/8;return n7(s.slice(32-a))},decode:(t,r)=>{let n=i/8*2+2,s=e;return t.length<n&&(s=`int${8*Math.round((t.length-2)/2)}`),s8(s)(t,r)}};case`uint${i}`:return{encode:t=>{if(!aR(i))throw Error(`Can't encode ${t} as ${e}. Invalid \`uintN\` provided. Expected a multiple of 8 bits between 8 and 256.`);let r=nQ(e,t),n=aO(r);if(n>i)throw Error(`Can't represent value ${t} as ${e}. To many bits required ${n} > ${i}`);let s=ie(r),a=i/8;return n7(s.slice(32-a))},decode:s8(e)};case`uint${i}+`:return{encode:t=>{if(!aR(i))throw Error(`Can't encode ${t} as ${e}. Invalid \`uintN\` provided. Expected a multiple of 8 bits between 8 and 256.`);let r=nQ(e,t),n=aO(r);if(n>i)throw Error(`Can't represent value ${t} as ${e}. To many bits required ${n} > ${i}`);let s=ie(r),a=i/8;return n7(s.slice(32-a))},decode:(e,t)=>{let r=Math.min(8*((e.length-2)/2),256);return s8(`uint${r}`)(e,t)}};case`bytes${n}`:return{encode:t=>{if(!aP(n))throw Error(`Can't encode ${t} as ${e}. Invalid \`bytesN\` provided. Expected a \`N\` value for bytesN between 1 and 32.`);return((e,t)=>{let r,n=Number.parseInt(e.split("bytes")[1],10),i=aB(r="string"!=typeof t||r1(t)?"number"==typeof t?iu(ir(t),2*n):t:ia(t));if(i>n)throw Error(`Can't convert ${t} to ${e}. Too many bytes, expected at most ${n} bytes, received ${i}.`);let s=nQ(e,r);return 32===n?s:n7(ie(s).slice(0,n))})(e,t)},decode:s8(e)};case"bool[]":return{encode:e=>nQ("bool[]",e),decode:s8("bool[]")};case"boolean[]":return{encode:e=>nQ("bool[]",e),decode:s8("bool[]")};case"string[]":return{encode:e=>nQ("string[]",e),decode:s8("string[]")};case"address[]":return{encode:e=>nQ("address[]",e),decode:s8("address[]")};case"uint256[]":return{encode:e=>nQ("uint256[]",e),decode:(e,t)=>(s8("uint256[]")(e,t)||[]).map(e=>{try{return Number(e)}catch{return BigInt(e)}})};case"bytes32[]":return{encode:e=>nQ("bytes32[]",e),decode:s8("bytes32[]")};case"bytes4[]":return{encode:e=>nQ("bytes4[]",e),decode:s8("bytes4[]")};case"bytes[]":return{encode:e=>nQ("bytes[]",e),decode:s8("bytes[]")};case"bytes[CompactBytesArray]":return{encode:e=>sJ(e),decode:(e,t)=>sX(e,t)};case"string[CompactBytesArray]":return{encode:e=>s4(e),decode:(e,t)=>s3(e,t)};default:return{encode:t=>{throw Error(`Could not encode ${t}. Value type ${e} is unknown`)},decode:(t,r)=>{throw Error(`Could not decode ${t}. Value type ${e} is unknown`)}}}},s5=e=>{let t=e.match(sz),r=t?Number.parseInt(t[1],10):"";switch(e){case"Keccak256":return{type:"bytes32",encode:e=>e,decode:e=>e};case"Number":return{type:"uint256",encode:e=>{let t;try{t=Number.parseInt(e,10)}catch(e){throw Error(e)}return iu(ir(t),64)},decode:e=>io(e)};case"Address":return{type:"address",encode:e=>{if(nc(e))return e.toLowerCase();throw Error(`Address: "${e}" is an invalid address.`)},decode:e=>{try{return il(e)}catch{throw Error(`Address: "${e}" is an invalid address.`)}}};case"String":return{type:"string",encode:e=>ii(e),decode:e=>is(e)};case"Markdown":return{type:"string",encode:e=>ii(e),decode:e=>is(e)};case"URL":return{type:"string",encode:e=>ii(e),decode:e=>is(e)};case"AssetURL":case"JSONURL":case"VerifiableURI":return{type:"custom",encode:e=>{let{verification:{data:t,method:r}={},json:n,url:i}=e,s=t;if(n){if(r)throw Error('When passing in the `json` property, we use "keccak256(utf8)" as a default verification method. You do not need to set a `verification.method`.');s=aS(n,y.KECCAK256_UTF8)}if(!s)throw Error("You have to provide either the verification.data or the json via the respective properties");return sK({method:r||y.KECCAK256_UTF8,data:s||"0x"},i)},decode:e=>sY(e)};case`Bytes${r}`:return{type:"bytes",encode:t=>{if("string"!=typeof t||!r1(t))throw Error(`Value: ${t} is not hex.`);if(r&&!aP(r))throw Error(`Provided bytes length: ${r} for encoding valueContent: ${e} is not valid.`);if(r&&t.length!==2+2*r)throw Error(`Value: ${t} is not of type ${e}. Expected hex value of length ${2+2*r}`);return t},decode:t=>{if("string"!=typeof t||!r1(t))return console.error(`Value: ${t} is not hex.`),null;if(r&&!aP(r))throw Error(`Provided bytes length: ${r} for encoding valueContent: ${e} is not valid.`);return r&&t.length!==2+2*r?(console.error(`Value: ${t} is not of type ${e}. Expected hex value of length ${2+2*r}`),null):t}};case"BitArray":return{type:"bytes",encode:e=>{if("string"!=typeof e||!r1(e))throw Error(`Value: ${e} is not hex.`);return e},decode:e=>"string"==typeof e&&r1(e)?e:(console.error(`Value: ${e} is not hex.`),null)};case"Boolean":return{type:"bool",encode:e=>s6("bool").encode(e),decode:(e,t)=>s6("bool").decode(e,t)};default:return{type:"unknown",encode:t=>{throw Error(`Could not encode unknown (${e}) valueContent.`)},decode:t=>{throw Error(`Could not decode unknown (${e}) valueContent.`)}}}};function s9(e,t){return null==t?t:s6(e).encode(t)}function s7(e,t,r){return"0x"===t?null:null==t?t:s6(e).decode(t,r)}function ae(e,t){if(r0(e))return e===t?t.toLowerCase():"0x";let r=s5(e);if(!r)throw Error(`Could not encode valueContent: ${e}.`);if(null==t)return"0x";if(("AssetURL"===e||"JSONURL"===e||"Boolean"===e)&&"string"==typeof t){let r="Boolean"===e?"boolean":"object";throw Error(`Could not encode valueContent: ${e} with value: ${t}. Expected ${r}.`)}return r.encode(t)}function at(e,t){return r0(e)?e.toLowerCase()===t?e:null:null==t||"0x"===t?null:s5(e).decode(t)}let ar=["<string>","<address>","<bool>"],an=/<(uint|int|bytes)(\d+)>/,ai=(e,t,r)=>{let n="",i=0,s=t;if(ar.includes(e))n=e.slice(1,-1);else{let t=e.match(an);if(!t)throw Error(`Dynamic key: ${e} is not supported`);n=t[1],i=Number.parseInt(t[2],10)}switch(n){case"string":return ig(s).slice(2,2+2*r);case"bool":if("true"!==s&&"false"!==s)throw Error(`Wrong value: ${s} for dynamic key with type: <bool>. Expected "true" or "false".`);return iu(+("true"===s||1===Number(s)),2*r).slice(2);case"address":if(!s)throw Error(`Wrong value: ${s} for dynamic key with type: <address>. Value is empty.`);if(s.startsWith("0x")||(s=`0x${s}`),!nc(s))throw Error(`Wrong value: ${s} for dynamic key with type: <address>. Value is not an address.`);return iu(s.slice(0,2+2*r),2*r).slice(2).toLowerCase();case"uint":{if(i>256||i%8!=0)throw Error(`Wrong dynamic key type: ${e}. 0 < M <= 256, M % 8 == 0. Got: ${i}.`);let t=ir(s).slice(2);if(t.length>i/4)throw Error(`Value: ${s} is too big for uint${i}.`);return iu(t=t.length>2*r?`0x${t.slice(-(2*r))}`:`0x${t}`,2*r).slice(2)}case"int":throw Error("The encoding of <intM> has not been implemented yet.");case"bytes":if(s.startsWith("0x")||(s=`0x${s}`),!r1(s))throw Error(`Wrong value: ${s} for dynamic key with type: $type. Value is not in hex.`);if(s.length>2+2*i)throw Error(`Wrong value: ${s} for dynamic key with type: $type. Value is too big.`);return id(s.slice(0,2+2*r),2*r).slice(2);default:throw Error(`Dynamic key: ${e} is not supported`)}};function as(e){if(e.startsWith("0x")&&e.includes("<"))return!0;let t=e.split(":");for(let e=0;e<t.length;e++)if(ar.includes(t[e])||t[e].match(an))return!0;return!1}let aa=(e,t)=>{if(1!==t.length)throw Error(`Dynamic key of type: Mapping expects exactly 1 variable. Got: ${t.length} (${t})`);let r=e.split(":"),n=ig(r[0]).slice(0,22);return`${n}0000${ai(r[1],t[0],20)}`},ao=(e,t)=>{let r=e.split(":"),n=0;if(as(r[1])&&(n+=1),as(r[2])&&(n+=1),n!==t.length)throw Error(`Can not encode dynamic key of type: MappingWithGrouping. Wrong number of arguments. Expects exactly ${n} variable(s), got: ${t.length} (${t})`);let i=ig(r[0]).slice(0,14),s="";s=r[1].startsWith("0x")?id(r[1].slice(0,10),8).slice(2):as(r[1])?ai(r[1],t[0],4):ig(r[1]).slice(2,10);let a="";return a=r[2].startsWith("0x")?id(r[2].slice(0,42),40).slice(2):as(r[2])?ai(r[2],t[t.length-1],20):ig(r[2]).slice(2,42),`${i}${s}0000${a}`};function al(e,t){if(as(e)){if(!t)throw Error(`Can't encode dynamic key name: ${e} without dynamicKeyParts`);let r="string"==typeof t?[t]:t,n=a_(e);switch(n){case"Mapping":return aa(e,r);case"MappingWithGrouping":return ao(e,r);default:throw Error(`Could not encode dynamic key: ${e} of type: ${n}`)}}switch(a_(e)){case"MappingWithGrouping":{let t=e.split(":");return ao(`${t[0]}:<string>:<address>`,[t[1],t[2]])}case"Mapping":{let t=e.split(":");if(nc(t[1]))return aa(`${t[0]}:<address>`,[t[1]]);return aa(`${t[0]}:<string>`,[t[1]])}case"Array":if(t&&"number"==typeof t)return ax(ig(e),t);return ig(e);default:return ig(e)}}function au(e,t){let r;if("<"!==t.slice(0,1)||">"!==t.slice(t.length-1))return!1;let n=t.slice(1,t.length-1);if("bool"===n)r="1"===e.slice(e.length-1);else if(n.includes("uint"))r=Number.parseInt(e,16);else if(n.includes("bytes")){let t=2*Number.parseInt(n.replace("bytes",""),10);r=id(`0x${e.slice(0,t)}`,t)}else r="address"===n?s7(n,iu(`0x${e}`,40)):s7(n,e);return{type:n,value:r}}function ad(e,t){let r,n=e;if(64===n.length&&"0x"!==n.slice(0,2)&&(n=`0x${n}`),66!==n.length)throw Error("Invalid encodedKey length, key must be 32 bytes long hexadecimal value");if(!r1(n.slice(2)))throw Error("Invalid encodedKey, must be a hexadecimal value");if((r="string"==typeof t?t.split(":"):t.name.split(":")).some(e=>e.includes("string")))throw Error("String dynamic key parts cannot be decoded, because it's formatted as a keccak256 hash");let i=[];switch(r.length){case 2:i.push(au(n.slice(26),r[1]));break;case 3:i.push(au(n.slice(14,22),r[1])),i.push(au(n.slice(26),r[2]))}return i.filter(e=>!1!==e)}function ac(e,t,r){let n;if(t.startsWith("0x")){let r=t.indexOf("<");if(-1!==r){let n=t.slice(0,r),i=e.find(e=>e.key.slice(0,r)===n),s=ad(t,i);if(i)return{...i,...s?{dynamicKeyParts:s}:{}}}}if(as(t)){if(!r)throw Error(`Can't getSchemaElement for dynamic key: ${t} without dynamicKeyParts.`);let n=e.find(e=>e.name===t);if(!n)throw Error(`No matching schema found for dynamic key: ${t}`);let i=al(t,r),s=((e,t)=>{let r=0,n="string"==typeof t?[t]:t;return e.split(":").map(t=>{if(!as(t))return t;if(!n[r])throw Error(`Can not generate key name: ${e}. Missing/not enough dynamicKeyParts: ${n}`);let i=n[r];if("<address>"===t&&!nc(i))throw Error(`Dynamic key is expecting an <address> but got: ${i}`);return r+=1,i}).join(":")})(t,r);return{...n,dynamicName:s,key:i,dynamicKeyParts:r}}n=r1(t)?r0(t)?t:`0x${t}`:al(t);let i=e.find(e=>e.key===n);if(!i)throw Error(`No matching schema found for key: ${t} (${n}).`);return i}let af=["uint8","uint16","uint24","uint32","uint40","uint48","uint56","uint64","uint72","uint80","uint88","uint96","uint104","uint112","uint120","uint128","uint136","uint144","uint152","uint160","uint168","uint176","uint184","uint192","uint200","uint208","uint216","uint224","uint232","uint240","uint248","uint256","int8","int16","int24","int32","int40","int48","int56","int64","int72","int80","int88","int96","int104","int112","int120","int128","int136","int144","int152","int160","int168","int176","int184","int192","int200","int208","int216","int224","int232","int240","int248","int256","bytes1","bytes2","bytes3","bytes4","bytes5","bytes6","bytes7","bytes8","bytes9","bytes10","bytes11","bytes12","bytes13","bytes14","bytes15","bytes16","bytes17","bytes18","bytes19","bytes20","bytes21","bytes22","bytes23","bytes24","bytes25","bytes26","bytes27","bytes28","bytes29","bytes30","bytes31","bytes32","bool","boolean","address","string","bytes","string[]","address[]","uint256[]","bytes32[]","bytes4[]","bytes[]","bool[]","boolean[]"],ah=/bytes(\d+)/,ap=/Bytes(\d+)/,ay=e=>!(e.length<=2)&&("("===e[0]||")"===e[e.length-1]),am=e=>e.substring(1,e.length-1).split(","),ag=(e,t)=>{if(!ay(e)||!ay(t))return!1;let r=am(e.replace(iB,"")),n=am(t);if(r.length!==n.length)throw Error(`Invalid tuple for valueType: ${e} / valueContent: ${t}. They should have the same number of elements. Got: ${r.length} and ${n.length}`);for(let s=0;s<r.length;s++){var i;if(i=r[s],!af.includes(i))throw Error(`Invalid tuple for valueType: ${e} / valueContent: ${t}. Type: ${r[s]} is not valid. Valid types are: ${af}`);let a=r[s].replace(/\[.*?\]$/,"").split("bytes")[1];if(r[s].match(ah)&&n[s].match(ap)&&a>n[s].slice(5))throw Error(`Invalid tuple (${e},${t}: ${e[s]} cannot fit in ${t[s]}`);if("unknown"===s5(n[s]).type&&"Bytes"!==n[s].slice(0,5)&&"0x"!==n[s].slice(0,2))throw Error(`Invalid tuple for valueType: ${e} / valueContent: ${t}. valueContent of type: ${n[s]} is not valid`);if(r0(n[s])){let r=n[s].length-2;if(Number.parseInt(a,10)<r)throw Error(`Invalid tuple (${e},${t}: ${t[s]} cannot fit in ${e[s]}`)}else if(n[s].startsWith("0x"))throw Error(`Invalid tuple for valueType: ${e} / valueContent: ${t}. valueContent of type: ${n[s]} is not a valid hex value`)}return!0},ab=(e,t,r)=>{let n=am(t.replace(iO,"")),i=am(e),s={bytes:0};return n.map((e,t)=>aI(i[t],e,`0x${r?r.slice(2*s.bytes+2):""}`,s))};function av(e,t){let r=({keyName:e,dynamicKeyParts:r,value:n},i=!0)=>{let s=as(e)?ac(t,e,r):ac(t,e),a=null;try{a=function(e,t){switch(e.keyType.toLowerCase()){case"array":{if(!t||"0x"===t)return[];if("string"==typeof t&&16===aB(t))return aI("Number","uint128+",t,e.name)||0;let r=t.find(t=>t.key===e.key);if(!r)return[];let n={bytes:0,name:e.name},i=aI("Number","uint128+",r.value,n)||0,s=[];for(let r=0;r<i;r++){let i=t.find(t=>t.key===ax(e.key,r));i&&s.push(aI(e.valueContent,e.valueType,i.value,n))}return s}case"mappingwithgrouping":case"singleton":case"mapping":if(Array.isArray(t)){let r=t.find(t=>t.key===e.key);if(!r)return null;return aI(e.valueContent,e.valueType,r.value,e.name)}if(e.valueType.endsWith(iB)){let r=e.valueType.replace(iO,""),n=e.valueContent.replace(iO,"");if("("===r[0]&&")"===r[r.length-1])return s7("bytes[CompactBytesArray]",t).map(e=>ab(n,r,e));return s7(e.valueType,t)}if(ag(e.valueType,e.valueContent))return ab(e.valueContent,e.valueType,t);return aI(e.valueContent,e.valueType,t,e.name);default:return console.error(`Incorrect data match or keyType in schema from decodeKey(): "${e.keyType}"`),null}}(s,n)}catch(e){if(i)throw e;console.error(e)}let{key:o,name:l,dynamicName:u}=s;return{key:o,name:l,...u?{dynamicName:u}:{dynamicName:l},...r?{dynamicKeyParts:r}:{},value:a}};return Array.isArray(e)?e.map(e=>r(e,!1)):r(e)}function aw(e,t,r,n){let i;if(!(s5(e)||r0(e)))throw Error(`The valueContent '${e}' for ${n} is not supported.`);let s="]"===t.slice(t.length-1);if((t.startsWith("uint")||t.startsWith("bytes"))&&"object"!=typeof r)return s9(t,r);if(!s&&!Array.isArray(r))return ae(e,r);let a=s5(e),o=a&&a.type===t.split("[]")[0];if(Array.isArray(r)){let t=[];for(let n=0;n<r.length;n++){let i=r[n];t.push(ae(e.replace(/\[.*?\]$/,""),i))}i=t}return"bytes"===t||o?s&&o&&(i=s9(t,r)):i=s9(t,i),i}function ax(e,t){return e.slice(0,34)+iu(ir(t),32).replace("0x","")}function a_(e){let t=e.replace(/[^:]</g,":").split(":");return 3===t.length?"MappingWithGrouping":2===t.length?"Mapping":"[]"===e.substring(e.length-2,e.length)?"Array":"Singleton"}let aE=(e,t,r)=>{let n=t.substring(1,t.length-1).split(","),i=e.substring(1,e.length-1).split(",");if(n.length!==r.length)throw Error(`Can not encode tuple key value: ${r}. Expecte array of length: ${n.length}`);return`0x${i.map((e,t)=>{let i=aw(e,n[t],r[t]);return i?sH(i):""}).join("")}`};function aA(e,t,r=0,n=Array.isArray(t)?t.length:0){switch(e.keyType.toLowerCase()){case"array":{if("number"==typeof t)return s9("uint128",t);if(!Array.isArray(t))throw Error("Can't encode a non array for key of type array");if("number"!=typeof r||"number"!=typeof n)throw Error("Invalid `startingIndex` or `totalArrayLength` parameters. Values must be of type number.");if(r<0)throw Error("Invalid `startingIndex` parameter. Value cannot be negative.");if(n<t.length)throw Error("Invalid `totalArrayLength` parameter. Array length must be at least as large as the number of elements of the value array.");let i=[];for(let s=0;s<t.length;s++){0===s&&i.push({key:e.key,value:s9("uint128",n)});let a=r+s,o=t[s];i.push({key:ax(e.key,a),value:aw(e.valueContent,e.valueType,o,e.name)})}return i}case"mappingwithgrouping":case"singleton":case"mapping":if(ag(e.valueType,e.valueContent)){if(!Array.isArray(t))throw Error(`Incorrect value for tuple. Got: ${t}, expected array.`);let r=e.valueType.endsWith(iB);if(Array.isArray(t[0])&&r){let r=e.valueType.replace(iB,""),n=e.valueContent.replace(iB,"");return s9("bytes[CompactBytesArray]",t.map(e=>aE(n,r,e)))}if(!Array.isArray(t))throw Error(`Array value required ${JSON.stringify(t)}`);return aE(e.valueContent,e.valueType,t)}if(Array.isArray(t)&&Array.isArray(t[0])&&!ag(e.valueType,e.valueContent))throw Error("Incorrect value for nested array: not a tuple.");return aw(e.valueContent,e.valueType,t,e.name);default:return console.error(`Incorrect data match or keyType in schema from encodeKey(): "${e.keyType}"`),null}}function aI(e,t,r,n){let i=s5(e),s=r;if(!i&&"0x"!==e.slice(0,2))throw Error(`The valueContent "${e}" for "${"object"==typeof n?n.name:n}" is not supported.`);let a=i&&i.type===t.split("[]")[0],o="]"===t.substring(t.length-1);if(("bytes["!==t.slice(0,6)||"]"===t.slice(-1))&&"string"!==t&&(s=s7(t,s,"object"==typeof n?n:void 0)),a&&nc(s)&&!nd(s)&&(a=!a),a&&"string"!==t)return s;if(o&&Array.isArray(s)){let t=[];for(let r=0;r<s.length;r++){let n=s[r];t.push(at(e,n))}return t}return at(e,s)}function aT(e,t){return(Array.isArray(e)?e:[e]).reduce((e,{keyName:r,value:n,dynamicKeyParts:i,startingIndex:s,totalArrayLength:a})=>{let o,l=null;if(as(r)){if(!i)throw Error(`Can't encodeData for dynamic key: ${r} with non dynamic values. Got: ${n}, expected object.`);o=aA(l=ac(t,r,i),n,s,a)}else o=aA(l=ac(t,r),n,s,a);if("string"==typeof o)e.keys.push(l.key),e.values.push(o);else if(!1!==o&&null!=o)for(let t=0;t<o.length;t++){let{key:r,value:n}=o[t];e.keys.push(r),e.values.push(n)}return e},{keys:[],values:[]})}function ak(e){let t=Object.values(i$).find(({name:t,sig:r})=>t===e||r===e);if(!t&&"0x00000000"!==e)throw Error(`Chosen verification method '${e}' is not supported. Supported verification methods: ${iI}`);return t}function aS(e,t){return ak(t)?.method(e)||iu(0,64)}function a$(e,t,r){if(!t?.method||t?.method==="0x00000000")return!0;let n=aS(e,t.method);return n===t.data||(r?r.push(n):console.error(`Hash mismatch, calculated hash ("${n}") is different from expected hash "${t.data}"`),!1)}let aC=(e,t)=>e.map(e=>"string"==typeof e?ac(t,e):ac(t,e.keyName,e.dynamicKeyParts));function aB(e){return sH(e).length/2}function aO(e){let t=ie(e);for(let e=0;e<t.length;e++)if(0!==t[e])return(t.length-e-1)*8+(32-Math.clz32(t[e]));return 0}let aN=e=>e.length<=1||"<"!==e.charAt(0)||">"!==e.slice(-1)?[e]:e.substring(1,e.length-1).split("|");function aR(e){return e>=8&&e<=256&&e%8==0}function aP(e){return e>=1&&e<=32}let aL=JSON.parse('[{"name":"LSP1UniversalReceiverDelegate","key":"0x0cfc51aec37c55a4d0b1a65c6255c4bf2fbdf6277f3cc0730c45b828b6db8b47","keyType":"Singleton","valueType":"address","valueContent":"Address"},{"name":"LSP1UniversalReceiverDelegate:<bytes32>","key":"0x0cfc51aec37c55a4d0b10000<bytes32>","keyType":"Mapping","valueType":"address","valueContent":"Address"}]'),aj=JSON.parse('[{"name":"SupportedStandards:LSP3Profile","key":"0xeafec4d89fa9619884b600005ef83ad9559033e6e941db7d7c495acdce616347","keyType":"Mapping","valueType":"bytes4","valueContent":"0x5ef83ad9"},{"name":"LSP3Profile","key":"0x5ef83ad9559033e6e941db7d7c495acdce616347d28e90c7ce47cbfcfcad3bc5","keyType":"Singleton","valueType":"bytes","valueContent":"VerifiableURI"},{"name":"LSP12IssuedAssets[]","key":"0x7c8c3416d6cda87cd42c71ea1843df28ac4850354f988d55ee2eaa47b6dc05cd","keyType":"Array","valueType":"address","valueContent":"Address"},{"name":"LSP12IssuedAssetsMap:<address>","key":"0x74ac2555c10b9349e78f0000<address>","keyType":"Mapping","valueType":"(bytes4,uint128)","valueContent":"(Bytes4,Number)"},{"name":"LSP5ReceivedAssets[]","key":"0x6460ee3c0aac563ccbf76d6e1d07bada78e3a9514e6382b736ed3f478ab7b90b","keyType":"Array","valueType":"address","valueContent":"Address"},{"name":"LSP5ReceivedAssetsMap:<address>","key":"0x812c4334633eb816c80d0000<address>","keyType":"Mapping","valueType":"(bytes4,uint128)","valueContent":"(Bytes4,Number)"},{"name":"LSP1UniversalReceiverDelegate","key":"0x0cfc51aec37c55a4d0b1a65c6255c4bf2fbdf6277f3cc0730c45b828b6db8b47","keyType":"Singleton","valueType":"address","valueContent":"Address"},{"name":"LSP1UniversalReceiverDelegate:<bytes32>","key":"0x0cfc51aec37c55a4d0b10000<bytes32>","keyType":"Mapping","valueType":"address","valueContent":"Address"},{"name":"LSP17Extension:<bytes4>","key":"0xcee78b4094da860110960000<bytes4>","keyType":"Mapping","valueType":"address","valueContent":"Address"}]'),aU=JSON.parse('[{"name":"SupportedStandards:LSP4DigitalAsset","key":"0xeafec4d89fa9619884b60000a4d96624a38f7ac2d8d9a604ecf07c12c77e480c","keyType":"Mapping","valueType":"bytes4","valueContent":"0xa4d96624"},{"name":"LSP4TokenName","key":"0xdeba1e292f8ba88238e10ab3c7f88bd4be4fac56cad5194b6ecceaf653468af1","keyType":"Singleton","valueType":"string","valueContent":"String"},{"name":"LSP4TokenSymbol","key":"0x2f0a68ab07768e01943a599e73362a0e17a63a72e94dd2e384d2c1d4db932756","keyType":"Singleton","valueType":"string","valueContent":"String"},{"name":"LSP4TokenType","key":"0xe0261fa95db2eb3b5439bd033cda66d56b96f92f243a8228fd87550ed7bdfdb3","keyType":"Singleton","valueType":"uint256","valueContent":"Number"},{"name":"LSP4Metadata","key":"0x9afb95cacc9f95858ec44aa8c3b685511002e30ae54415823f406128b85b238e","keyType":"Singleton","valueType":"bytes","valueContent":"VerifiableURI"},{"name":"LSP4Creators[]","key":"0x114bd03b3a46d48759680d81ebb2b414fda7d030a7105a851867accf1c2352e7","keyType":"Array","valueType":"address","valueContent":"Address"},{"name":"LSP4CreatorsMap:<address>","key":"0x6de85eaf5d982b4e5da00000<address>","keyType":"Mapping","valueType":"(bytes4,uint128)","valueContent":"(Bytes4,Number)"}]'),aM=JSON.parse('[{"name":"SupportedStandards:LSP4DigitalCertificate","key":"0xeafec4d89fa9619884b6b89135626455000000000000000000000000abf0613c","keyType":"Mapping","valueContent":"0xabf0613c","valueType":"bytes"}]'),aZ=JSON.parse('[{"name":"LSP5ReceivedAssets[]","key":"0x6460ee3c0aac563ccbf76d6e1d07bada78e3a9514e6382b736ed3f478ab7b90b","keyType":"Array","valueType":"address","valueContent":"Address"},{"name":"LSP5ReceivedAssetsMap:<address>","key":"0x812c4334633eb816c80d0000<address>","keyType":"Mapping","valueType":"(bytes4,uint128)","valueContent":"(Bytes4,Number)"}]'),aD=JSON.parse('[{"name":"AddressPermissions[]","key":"0xdf30dba06db6a30e65354d9a64c609861f089545ca58c6b4dbe31a5f338cb0e3","keyType":"Array","valueType":"address","valueContent":"Address"},{"name":"AddressPermissions:Permissions:<address>","key":"0x4b80742de2bf82acb3630000<address>","keyType":"MappingWithGrouping","valueType":"bytes32","valueContent":"BitArray"},{"name":"AddressPermissions:AllowedCalls:<address>","key":"0x4b80742de2bf393a64c70000<address>","keyType":"MappingWithGrouping","valueType":"(bytes4,address,bytes4,bytes4)[CompactBytesArray]","valueContent":"(BitArray,Address,Bytes4,Bytes4)"},{"name":"AddressPermissions:AllowedERC725YDataKeys:<address>","key":"0x4b80742de2bf866c29110000<address>","keyType":"MappingWithGrouping","valueType":"bytes[CompactBytesArray]","valueContent":"Bytes"}]'),aF=JSON.parse('[{"name":"LSP8TokenIdFormat","key":"0xf675e9361af1c1664c1868cfa3eb97672d6b1a513aa5b81dec34c9ee330e818d","keyType":"Singleton","valueType":"uint256","valueContent":"Number"},{"name":"LSP8TokenMetadataBaseURI","key":"0x1a7628600c3bac7101f53697f48df381ddc36b9015e7d7c9c5633d1252aa2843","keyType":"Singleton","valueType":"bytes","valueContent":"VerifiableURI"},{"name":"LSP8ReferenceContract","key":"0x708e7b881795f2e6b6c2752108c177ec89248458de3bf69d0d43480b3e5034e6","keyType":"Singleton","valueType":"(address,bytes32)","valueContent":"(Address,Bytes32)"}]'),aV=JSON.parse('[{"name":"SupportedStandards:LSP9Vault","key":"0xeafec4d89fa9619884b600007c0334a14085fefa8b51ae5a40895018882bdb90","keyType":"Mapping","valueType":"bytes4","valueContent":"0x7c0334a1"},{"name":"LSP1UniversalReceiverDelegate","key":"0x0cfc51aec37c55a4d0b1a65c6255c4bf2fbdf6277f3cc0730c45b828b6db8b47","keyType":"Singleton","valueType":"address","valueContent":"Address"},{"name":"LSP1UniversalReceiverDelegate:<bytes32>","key":"0x0cfc51aec37c55a4d0b10000<bytes32>","keyType":"Mapping","valueType":"address","valueContent":"Address"},{"name":"LSP17Extension:<bytes4>","key":"0xcee78b4094da860110960000<bytes4>","keyType":"Mapping","valueType":"address","valueContent":"Address"}]'),aH=JSON.parse('[{"name":"LSP10VaultsMap:<address>","key":"0x192448c3c0f88c7f238c0000<address>","keyType":"Mapping","valueType":"(bytes4,uint128)","valueContent":"(Bytes4,Number)"},{"name":"LSP10Vaults[]","key":"0x55482936e01da86729a45d2b87a6b1d3bc582bea0ec00e38bdb340e3af6f9f06","keyType":"Array","valueType":"address","valueContent":"Address"}]'),aW=JSON.parse('[{"name":"LSP12IssuedAssets[]","key":"0x7c8c3416d6cda87cd42c71ea1843df28ac4850354f988d55ee2eaa47b6dc05cd","keyType":"Array","valueType":"address","valueContent":"Address"},{"name":"LSP12IssuedAssetsMap:<address>","key":"0x74ac2555c10b9349e78f0000<address>","keyType":"Mapping","valueType":"(bytes4,uint128)","valueContent":"(Bytes4,Number)"}]'),aG=JSON.parse('[{"name":"LSP17Extension:<bytes4>","key":"0xcee78b4094da860110960000<bytes4>","keyType":"Mapping","valueType":"address","valueContent":"Address"}]'),aq=aL.concat(aj,aU,aM,aZ,aD,aF,aV,aH,aW,aG),az=(e,t)=>{let r=(e,t,r=!1)=>{let n={...t,key:e},i=t.name.split(":"),s=e.substring(26),a="??????";if(as(t.name)&&!r){a=s;let e=`${i[0]}:0x${a}`,t=`0x${s}`,r=i[1].match(an);if(r){let n="uint"===r[1]||"int"===r[1]?Number.parseInt(r[2])/8:Number.parseInt(r[2]);n<20&&(e=`${i[0]}:0x${a.slice(0,2*n)}`,t=`0x${s.slice(0,2*n)}`)}return n.dynamicName=e,n.dynamicKeyParts=t,n}return ig(i[1]).substring(0,42)===`0x${s}`&&(a=i[1]),n};if(Array.isArray(t)){let n=t.find(t=>t.key===e);return n?r(e,n):r(e,t[0],!0)}return r(e,t)};function aK(e,t){let r={Singleton:t.filter(e=>"Singleton"===e.keyType),Array:t.filter(e=>"Array"===e.keyType),Mapping:t.filter(e=>"Mapping"===e.keyType),MappingWithGrouping:t.filter(e=>"MappingWithGrouping"===e.keyType)},n=null;return(n=r.Singleton.find(t=>t.key===e)||null)||(n=((e,t)=>{let r=t.find(t=>t.key===e)||null;if(r)return r;let n=e.substring(0,34),i=t.find(e=>e.key.substring(0,34)===n)||null;if(!i||!/^\d+$/.test(e.substring(34)))return null;let s=Number.parseInt(e.substring(34),10);return{...i,key:e,dynamicName:i.name.replace("[]",`[${s}]`),dynamicKeyParts:`0x${e.substring(34)}`,name:i.name,keyType:"Singleton"}})(e,r.Array))||(n=((e,t)=>{let r=e.substring(0,26),n=t.find(t=>t.key===e)||null;if(n)return az(e,n);let i=t.filter(e=>`${e.key.substring(0,22)}0000`===r);return 0===i.length?null:az(e,i)})(e,r.Mapping))?n:n=((e,t)=>{let r=t.find(t=>t.key.substring(0,26)===e.substring(0,26))||null;if(r){let t=r.name.split(":"),n=e.substring(26);return as(r.name)&&(r.dynamicName=`${t[0]}:${t[1]}:0x${n}`,r.dynamicKeyParts=`0x${n}`),{...r,key:e}}return null})(e,r.MappingWithGrouping)}function aY(e,t){let r=aq;return(t&&(r=t.concat(r)),Array.isArray(e))?e.reduce((e,t)=>(e[t]=aK(t,r),e),{}):aK(e,r)}let aJ=async(e,t,r,n)=>{let i=/^0x([A-Fa-f0-9]{64})$/.test(e)?e:ig(`\x19Ethereum Signed Message:
${e.length}${e}`);if(132!==t.length)throw Error("Signature length should be 132 (65bytes)");try{return await n.isValidSignature(r,i,t)==="0x1626ba7e"}catch{throw Error(`Error when checking signature. Is ${r} a valid contract address which supports EIP-1271 standard?`)}},aX=(e,t,r)=>Promise.all(t.map(async t=>{let n=e.find(e=>e.key===t.key);if(!n||!["jsonurl","asseturl","verifiableuri"].includes(n.valueContent.toLowerCase()))return t;try{let e;if("string"==typeof t.value)throw Error(`Value of key: ${t.name} (${t.value}) is string but valueContent is: ${n.valueContent}. Expected type should be object with url key.`);if(!t.value)throw Error(`Value of key: ${t.name} is empty`);if(Array.isArray(t.value))throw Error(`Value of key: ${t.name} (${t.value}) is string[] but valueContent is: ${n.valueContent}. Expected type should be object with url key.`);let i=t.value,{url:s}=function(e,t){if(e?.url?.startsWith("ipfs://")){if("string"==typeof t)return{...e,url:e.url.replace("ipfs://",t)};if("object"!=typeof t||!t.ipfsGateway)throw Error("Invalid ipfsGateway provided. It should be a string or an object with an ipfsGateway property.");if(t.ipfsConvertUrl){let r=t.ipfsConvertUrl(e.url);return{...e,url:r}}return{...e,url:e.url.replace("ipfs://",t.ipfsGateway)}}return e}(i,"string"==typeof r?r:r.ipfsGateway),[,a,o]=s.match(/^data:.*?;(.*?),(.*)$/)||[];if(o)e=new TextEncoder().encode("base64"===a?atob(o):o);else{if(/[=?/]$/.test(s))return t;e=await fetch(s).then(async e=>{if(!e.ok)throw Error(e.statusText);return e.arrayBuffer().then(e=>new Uint8Array(e))})}if(e.length>=2)try{let r=[];r.push(e[0]),e.length>3&&r.push(e[e.length-3]),e.length>2&&r.push(e[e.length-2]),e.length>1&&r.push(e[e.length-1]);let n=String.fromCharCode.apply(null,r);if(/^(\[.*\]|\{.*\})\s*$/.test(n)){let r=new TextDecoder().decode(e),n=JSON.parse(r),s=[];if(a$(n,i.verification,s)||a$(e,i.verification,s))return{...t,value:n};throw Error(`Hash mismatch, calculated hashes ("${s.join('", "')}") are both different from expected hash "${i.verification.data}"`)}}catch{}let l=[];if(a$(e,i.verification,l))return{...t,value:e};throw Error(`Hash mismatch, calculated hashes ("${l.join('", "')}") are both different from expected hash "${i.verification.data}"`)}catch(e){return e.message=`Value of key: ${t.name} has an error: ${e.message}`,{...t,value:null,error:e}}})),aQ=async(e,t,r)=>{if("Array"!==t.keyType)throw Error(`The "getArrayValues" method requires a schema definition with "keyType: Array",
         ${t}`);let n=[],i=r[t.key];if(!i||!i.value)return n;let s=await aI("Number","uint128+",i.value,t.name),a=[];for(let e=0;e<s;e++){let n=ax(t.key,e);r[n]||a.push(n)}try{let t=await e.provider?.getAllData(e.address,a);n.push(...t)}catch{}return n},a0=async(e,t)=>{let r=aC(t,e.schemas),n=r.map(e=>e.key),i=(await e.provider?.getAllData(e.address,n)).reduce((e,t)=>(e[t.key]=t.value,e),{}),s=r.map(e=>({...e,value:i[e.key]||null}));for(let t of r.filter(e=>"array"===e.keyType.toLowerCase()))try{let r={[t.key]:{key:t.key,value:i[t.key]}},n=await aQ(e,t,r);n&&n.length>0&&(n.push(r[t.key]),s[s.findIndex(e=>e.key===t.key)]={...t,value:n})}catch(e){console.error(e)}return av(s.map(({key:e,value:t})=>({keyName:e,value:t})),r)},a1=async(e,t)=>{let r=t;return(r||(r=e.schemas.map(e=>e.name).filter(e=>!as(e))),Array.isArray(r))?a0(e,r):(await a0(e,[r]))[0]},a2={ERC1271:"0x1626ba7e",ERC725X:"0x7545acac",ERC725Y:"0x629aa694",LSP0ERC725Account:"0x24871b3d",LSP1UniversalReceiver:"0x6bb56a14",LSP1UniversalReceiverDelegate:"0xa245bbda",LSP6KeyManager:"0x23f34c62",LSP7DigitalAsset:"0xb3c4928f",LSP8IdentifiableDigitalAsset:"0x3a271706",LSP9Vault:"0x28af17e6",LSP11BasicSocialRecovery:"0x049a28f1",LSP14Ownable2Step:"0x94be5999",LSP17Extendable:"0xa918fa6b",LSP17Extension:"0xcee78b40",LSP20CallVerification:"0x1a0eb6a5",LSP20CallVerifier:"0x0d6ecac7",LSP25ExecuteRelayCall:"0x5ac79908"},a4=async(e,t)=>{let r;r=a2[e]?a2[e]:e;try{return await t.provider.supportsInterface(t.address,r)}catch(e){throw Error(`Error checking the interface: ${e}`)}};function a3(e){let t=BigInt(0),r=Object.keys(e).filter(e=>"ALL_PERMISSIONS"!==e);r.splice(0,0,"ALL_PERMISSIONS");for(let n=0;n<r.length;n+=1){let i=r[n],s=BigInt(it(iC[i]));i in e&&(e[i]?t|=s:t&=~s)}return iu(ir(t.toString()),64)}function a8(e){let t={CHANGEOWNER:!1,ADDCONTROLLER:!1,EDITPERMISSIONS:!1,ADDEXTENSIONS:!1,CHANGEEXTENSIONS:!1,ADDUNIVERSALRECEIVERDELEGATE:!1,CHANGEUNIVERSALRECEIVERDELEGATE:!1,REENTRANCY:!1,SUPER_TRANSFERVALUE:!1,TRANSFERVALUE:!1,SUPER_CALL:!1,CALL:!1,SUPER_STATICCALL:!1,STATICCALL:!1,SUPER_DELEGATECALL:!1,DELEGATECALL:!1,DEPLOY:!1,SUPER_SETDATA:!1,SETDATA:!1,ENCRYPT:!1,DECRYPT:!1,SIGN:!1,EXECUTE_RELAY_CALL:!1,ERC4337_PERMISSION:!1,ALL_PERMISSIONS:!1},r=Object.keys(iC),n=BigInt(it(e));for(let e=0;e<r.length;e+=1){let i=r[e],s=BigInt(it(iC[i])),a=(n&s)===s;t[i]=a}return t}function a6(e){return iC[e]||r0(e)?iC[e]||e:null}let a5=(e,t)=>{if(!r0(t))throw Error("Invalid grantedPermissions string. It must be a valid 32-byte hex string.");let r=Array.isArray(e)?e:[e];return r.map(a6).every((e,n)=>{if(!e)throw Error(`Invalid permission string: ${r[n]}. It must be a valid 32-byte hex string or a known permission name.`);let i=BigInt(e);return(i&BigInt(t))===i})};function a9(e,t){if(e){if("string"==typeof e)return new iL(new eh(e),t);if("function"==typeof e.request||"function"==typeof e.send)return new iL(e,t);throw Error(`Incorrect or unsupported provider ${e}`)}}async function a7(e,t){if(!nc(t.address))throw Error("Invalid address");if(!t.rpcUrl)throw Error("Missing RPC URL");return a4(e,{address:t.address,provider:t.provider||a9(t.rpcUrl,t?.gas?t?.gas:1e6)})}class oe{options;constructor(e,t,r,n){if(!e)throw Error("Missing schema.");let i={ipfsGateway:"https://api.universalprofile.cloud/ipfs/",gas:1e6,throwSchemaErrors:!1},s=n?.gas?n?.gas:i.gas;this.options={schemas:this.validateSchemas(e.flatMap(e=>(e=>{let t;if(Array.isArray(e))throw Error("Input schema should be a ERC725JSONSchema and not an array.");if(!("name"in e)||!("key"in e)||!("keyType"in e))throw Error("Input schema object is missing 'name', 'key' and 'keyType' properties. Did you pass a valid ERC725JSONSchema object?");let r=e.keyType.toLowerCase();if("mapping"!==r&&"mappingwithgrouping"!==r||!e.name.includes("<")||!e.name.includes("|")||!e.name.includes(">"))return[e];if(-1===e.name.indexOf(":"))throw Error(`Input schema type is Mapping or MappingWithGroups but the key: ${e.key} is not valid (missing ':').`);let n=e.name.split(":"),i=e.key.substring(0,e.key.indexOf("<")),s={...e,name:n.shift(),key:i};if(1===n.length)return aN(n[0]).map(e=>({...s,name:`${s.name}:<${e}>`,key:`${s.key}<${e}>`}));t="<"!==n[0].charAt(0)||">"!==n[0].slice(-1)?[{...s,name:`${s.name}:${n[0]}`,key:`${s.key}`}]:aN(n[0]).map(e=>({...s,name:`${s.name}:<${e}>`,key:`${s.key}<${e}>`}));let a=aN(n[1]);return t.flatMap(e=>a.map(t=>({...e,name:`${e.name}:<${t}>`,key:`${e.key}<${t}>`})))})(e)),n?.throwSchemaErrors||i.throwSchemaErrors),address:t,provider:a9(r,s),ipfsFetch:n?.ipfsFetch,ipfsConvertUrl:n?.ipfsConvertUrl,ipfsGateway:n?.ipfsGateway?function(e){let t=e;return e.endsWith("/")&&!e.endsWith("/ipfs/")?t=`${e}ipfs/`:e.endsWith("/ipfs")?t=`${e}/`:e.endsWith("/ipfs/")||(t=`${e}/ipfs/`),t}(n?.ipfsGateway):i.ipfsGateway,gas:s}}validateSchemas(e,t){return e.filter(e=>{("AssetURL"===e.valueContent||"JSONURL"===e.valueContent)&&console.warn(`[Deprecation notice] The schema with keyName: ${e.name} uses deprecated valueContent: ${e.valueContent}. It has been replaced by VerifiableURI. Decoding is backward compatible but value will be encoded as VerifiableURI.`);let r=null,n=[],i=[];if(e.name.replace(/<(.*?)>/g,(e,t)=>{null==r&&(r=!0);let s=/bytes\d*|string|bool|address|u?int\d*/.test(t);return s||(r&&=s,i.push(`invalid dynamic key type: ${t} in name`)),n.push(t),""}),!0===r){let t=0;e.key.replace(/<(.*?)>/g,(e,s)=>(n[t]!==s&&(r=!1,i.push(`dynamic ${n[t]} != ${s} in key`)),t++,""))}let s="";if(null==r&&(s=al(e.name),e.key!==s&&(r=!1,i.push(`key hash ${s} != ${e.key}`))),!1===r){let r=`The schema with keyName: ${e.name} is skipped because ${i.join(", ")}`;if(t)throw Error(r);console.warn(r)}return!1!==r})}getAddressAndProvider(){if(!this.options.address||!nc(this.options.address))throw Error("Missing ERC725 contract address.");if(!this.options.provider)throw Error("Missing provider.");return{address:this.options.address,provider:this.options.provider}}async getData(e){return this.getAddressAndProvider(),a1(this.options,e)}async fetchData(e){let t;t=Array.isArray(e)?e:e?[e]:this.options.schemas.map(e=>e.name).filter(e=>!as(e));let r=await this.getData(t),n=aC(t,this.options.schemas),i=await aX(n,r,this.options);return e&&!Array.isArray(e)&&i.length>0?i[0]:i}getSchema(e,t){return aY(e,t||this.options.schemas)}encodeData(e,t){return aT(e,t||this.options.schemas)}static encodeData(e,t){return aT(e,t)}decodeData(e,t){return av(e,t||this.options.schemas)}static decodeData(e,t){return av(e,t)}async getOwner(e){let{address:t,provider:r}=this.getAddressAndProvider();return r.getOwner(e||t)}async isValidSignature(e,t){if(!this.options.address||!nc(this.options.address))throw Error("Missing ERC725 contract address.");if(!this.options.provider)throw Error("Missing provider.");return aJ(e,t,this.options.address,this.options.provider)}static encodeKeyName(e,t){return al(e,t)}encodeKeyName(e,t){return al(e,t)}static decodeMappingKey(e,t){return ad(e,t)}decodeMappingKey(e,t){return ad(e,t)}async supportsInterface(e){let{address:t,provider:r}=this.getAddressAndProvider();return a4(e,{address:t,provider:r})}static async supportsInterface(e,t){return a7(e,t)}static encodePermissions(e){return a3(e)}encodePermissions(e){return a3(e)}static decodePermissions(e){return a8(e)}decodePermissions(e){return a8(e)}static checkPermissions(e,t){return a5(e,t)}checkPermissions(e,t){return a5(e,t)}static mapPermission(e){return a6(e)}mapPermission(e){return a6(e)}static encodeValueType(e,t){return s9(e,t)}encodeValueType(e,t){return s9(e,t)}static decodeValueType(e,t){return s7(e,t)}decodeValueType(e,t){return s7(e,t)}static encodeValueContent(e,t){return ae(e,t)}encodeValueContent(e,t){return ae(e,t)}static decodeValueContent(e,t){return at(e,t)}decodeValueContent(e,t){return at(e,t)}encodeDataSourceWithHash(e,t){return sK(e,t)}static encodeDataSourceWithHash(e,t){return sK(e,t)}decodeDataSourceWithHash(e){return sY(e)}static decodeDataSourceWithHash(e){return sY(e)}static getVerificationMethod(e){return ak(e)}getVerificationMethod(e){return ak(e)}static isDataAuthentic(e,t){return a$(e,t)}isDataAuthentic(e,t){return a$(e,t)}}let ot=oe},51076:(e,t)=>{!function(e){"undefined"==typeof DO_NOT_EXPORT_CRC?e(t):e({})}(function(e){e.version="1.2.2";var t=function(){for(var e=0,t=Array(256),r=0;256!=r;++r)e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=r)?-0x12477ce0^e>>>1:e>>>1)?-0x12477ce0^e>>>1:e>>>1)?-0x12477ce0^e>>>1:e>>>1)?-0x12477ce0^e>>>1:e>>>1)?-0x12477ce0^e>>>1:e>>>1)?-0x12477ce0^e>>>1:e>>>1)?-0x12477ce0^e>>>1:e>>>1)?-0x12477ce0^e>>>1:e>>>1,t[r]=e;return"undefined"!=typeof Int32Array?new Int32Array(t):t}(),r=function(e){var t=0,r=0,n=0,i="undefined"!=typeof Int32Array?new Int32Array(4096):Array(4096);for(n=0;256!=n;++n)i[n]=e[n];for(n=0;256!=n;++n)for(r=e[n],t=256+n;t<4096;t+=256)r=i[t]=r>>>8^e[255&r];var s=[];for(n=1;16!=n;++n)s[n-1]="undefined"!=typeof Int32Array?i.subarray(256*n,256*n+256):i.slice(256*n,256*n+256);return s}(t),n=r[0],i=r[1],s=r[2],a=r[3],o=r[4],l=r[5],u=r[6],d=r[7],c=r[8],f=r[9],h=r[10],p=r[11],y=r[12],m=r[13],g=r[14];e.table=t,e.bstr=function(e,r){for(var n=-1^r,i=0,s=e.length;i<s;)n=n>>>8^t[(n^e.charCodeAt(i++))&255];return~n},e.buf=function(e,r){for(var b=-1^r,v=e.length-15,w=0;w<v;)b=g[e[w++]^255&b]^m[e[w++]^b>>8&255]^y[e[w++]^b>>16&255]^p[e[w++]^b>>>24]^h[e[w++]]^f[e[w++]]^c[e[w++]]^d[e[w++]]^u[e[w++]]^l[e[w++]]^o[e[w++]]^a[e[w++]]^s[e[w++]]^i[e[w++]]^n[e[w++]]^t[e[w++]];for(v+=15;w<v;)b=b>>>8^t[(b^e[w++])&255];return~b},e.str=function(e,r){for(var n=-1^r,i=0,s=e.length,a=0,o=0;i<s;)(a=e.charCodeAt(i++))<128?n=n>>>8^t[(n^a)&255]:a<2048?n=(n=n>>>8^t[(n^(192|a>>6&31))&255])>>>8^t[(n^(128|63&a))&255]:a>=55296&&a<57344?(a=(1023&a)+64,o=1023&e.charCodeAt(i++),n=(n=(n=(n=n>>>8^t[(n^(240|a>>8&7))&255])>>>8^t[(n^(128|a>>2&63))&255])>>>8^t[(n^(128|o>>6&15|(3&a)<<4))&255])>>>8^t[(n^(128|63&o))&255]):n=(n=(n=n>>>8^t[(n^(224|a>>12&15))&255])>>>8^t[(n^(128|a>>6&63))&255])>>>8^t[(n^(128|63&a))&255];return~n}})},55541:(e,t,r)=>{var n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==r.g&&r.g,i=function(){function e(){this.fetch=!1,this.DOMException=n.DOMException}return e.prototype=n,new e}();!function(e){!function(t){var n=void 0!==e&&e||"undefined"!=typeof self&&self||void 0!==r.g&&r.g||{},i={searchParams:"URLSearchParams"in n,iterable:"Symbol"in n&&"iterator"in Symbol,blob:"FileReader"in n&&"Blob"in n&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in n,arrayBuffer:"ArrayBuffer"in n};if(i.arrayBuffer)var s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],a=ArrayBuffer.isView||function(e){return e&&s.indexOf(Object.prototype.toString.call(e))>-1};function o(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function l(e){return"string"!=typeof e&&(e=String(e)),e}function u(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return i.iterable&&(t[Symbol.iterator]=function(){return t}),t}function d(e){this.map={},e instanceof d?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){if(2!=e.length)throw TypeError("Headers constructor: expected name/value pair to be length 2, found"+e.length);this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function c(e){if(!e._noBody){if(e.bodyUsed)return Promise.reject(TypeError("Already read"));e.bodyUsed=!0}}function f(e){return new Promise(function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}})}function h(e){var t=new FileReader,r=f(t);return t.readAsArrayBuffer(e),r}function p(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(e){if(this.bodyUsed=this.bodyUsed,this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(i.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(i.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(i.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else{var t;i.arrayBuffer&&i.blob&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=p(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):i.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||a(e))?this._bodyArrayBuffer=p(e):this._bodyText=e=Object.prototype.toString.call(e)}else this._noBody=!0,this._bodyText="";!this.headers.get("content-type")&&("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):i.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i.blob&&(this.blob=function(){var e=c(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(!this._bodyFormData)return Promise.resolve(new Blob([this._bodyText]));throw Error("could not read FormData body as blob")}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=c(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}if(i.blob)return this.blob().then(h);throw Error("could not read as ArrayBuffer")},this.text=function(){var e,t,r,n,i,s=c(this);if(s)return s;if(this._bodyBlob)return e=this._bodyBlob,r=f(t=new FileReader),i=(n=/charset=([A-Za-z0-9_-]+)/.exec(e.type))?n[1]:"utf-8",t.readAsText(e,i),r;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(!this._bodyFormData)return Promise.resolve(this._bodyText);throw Error("could not read FormData body as text")},i.formData&&(this.formData=function(){return this.text().then(b)}),this.json=function(){return this.text().then(JSON.parse)},this}d.prototype.append=function(e,t){e=o(e),t=l(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},d.prototype.delete=function(e){delete this.map[o(e)]},d.prototype.get=function(e){return e=o(e),this.has(e)?this.map[e]:null},d.prototype.has=function(e){return this.map.hasOwnProperty(o(e))},d.prototype.set=function(e,t){this.map[o(e)]=l(t)},d.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},d.prototype.keys=function(){var e=[];return this.forEach(function(t,r){e.push(r)}),u(e)},d.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),u(e)},d.prototype.entries=function(){var e=[];return this.forEach(function(t,r){e.push([r,t])}),u(e)},i.iterable&&(d.prototype[Symbol.iterator]=d.prototype.entries);var m=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function g(e,t){if(!(this instanceof g))throw TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var r,i,s=(t=t||{}).body;if(e instanceof g){if(e.bodyUsed)throw TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new d(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,s||null==e._bodyInit||(s=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",(t.headers||!this.headers)&&(this.headers=new d(t.headers)),this.method=(i=(r=t.method||this.method||"GET").toUpperCase(),m.indexOf(i)>-1?i:r),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal||function(){if("AbortController"in n)return new AbortController().signal}(),this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&s)throw TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(s),("GET"===this.method||"HEAD"===this.method)&&("no-store"===t.cache||"no-cache"===t.cache)){var a=/([?&])_=[^&]*/;a.test(this.url)?this.url=this.url.replace(a,"$1_="+new Date().getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+new Date().getTime()}}function b(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(i))}}),t}function v(e,t){if(!(this instanceof v))throw TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.status<200||this.status>599)throw RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new d(t.headers),this.url=t.url||"",this._initBody(e)}g.prototype.clone=function(){return new g(this,{body:this._bodyInit})},y.call(g.prototype),y.call(v.prototype),v.prototype.clone=function(){return new v(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new d(this.headers),url:this.url})},v.error=function(){var e=new v(null,{status:200,statusText:""});return e.ok=!1,e.status=0,e.type="error",e};var w=[301,302,303,307,308];v.redirect=function(e,t){if(-1===w.indexOf(t))throw RangeError("Invalid status code");return new v(null,{status:t,headers:{location:e}})},t.DOMException=n.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function x(e,r){return new Promise(function(s,a){var u=new g(e,r);if(u.signal&&u.signal.aborted)return a(new t.DOMException("Aborted","AbortError"));var c=new XMLHttpRequest;function f(){c.abort()}if(c.onload=function(){var e,t,r={statusText:c.statusText,headers:(e=c.getAllResponseHeaders()||"",t=new d,e.replace(/\r?\n[\t ]+/g," ").split("\r").map(function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e}).forEach(function(e){var r=e.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();try{t.append(n,i)}catch(e){console.warn("Response "+e.message)}}}),t)};0===u.url.indexOf("file://")&&(c.status<200||c.status>599)?r.status=200:r.status=c.status,r.url="responseURL"in c?c.responseURL:r.headers.get("X-Request-URL");var n="response"in c?c.response:c.responseText;setTimeout(function(){s(new v(n,r))},0)},c.onerror=function(){setTimeout(function(){a(TypeError("Network request failed"))},0)},c.ontimeout=function(){setTimeout(function(){a(TypeError("Network request timed out"))},0)},c.onabort=function(){setTimeout(function(){a(new t.DOMException("Aborted","AbortError"))},0)},c.open(u.method,function(e){try{return""===e&&n.location.href?n.location.href:e}catch(t){return e}}(u.url),!0),"include"===u.credentials?c.withCredentials=!0:"omit"===u.credentials&&(c.withCredentials=!1),"responseType"in c&&(i.blob?c.responseType="blob":i.arrayBuffer&&(c.responseType="arraybuffer")),r&&"object"==typeof r.headers&&!(r.headers instanceof d||n.Headers&&r.headers instanceof n.Headers)){var h=[];Object.getOwnPropertyNames(r.headers).forEach(function(e){h.push(o(e)),c.setRequestHeader(e,l(r.headers[e]))}),u.headers.forEach(function(e,t){-1===h.indexOf(t)&&c.setRequestHeader(t,e)})}else u.headers.forEach(function(e,t){c.setRequestHeader(t,e)});u.signal&&(u.signal.addEventListener("abort",f),c.onreadystatechange=function(){4===c.readyState&&u.signal.removeEventListener("abort",f)}),c.send(void 0===u._bodyInit?null:u._bodyInit)})}x.polyfill=!0,n.fetch||(n.fetch=x,n.Headers=d,n.Request=g,n.Response=v),t.Headers=d,t.Request=g,t.Response=v,t.fetch=x}({})}(i),i.fetch.ponyfill=!0,delete i.fetch.polyfill;var s=n.fetch?n:i;(t=s.fetch).default=s.fetch,t.fetch=s.fetch,t.Headers=s.Headers,t.Request=s.Request,t.Response=s.Response,e.exports=t}}]);